/* eslint-disable */
var ST=Object.defineProperty;var s=(t,e)=>ST(t,"name",{value:e,configurable:!0});var D=(t,e)=>{for(var i in e)ST(t,i,{get:e[i],enumerable:!0})};function ET(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}s(ET,"__setFunctionName");function p(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)}s(p,"__classPrivateFieldGet");function k(t,e,i,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,i):o?o.value=i:e.set(t,i),i}s(k,"__classPrivateFieldSet");var Qw={};D(Qw,{ChannelError:()=>Yr,InnertubeError:()=>_,MissingParamError:()=>e_,OAuth2Error:()=>we,ParsingError:()=>_t,Platform:()=>V,PlayerError:()=>Ht,SessionError:()=>Go,base64ToU8:()=>Zw,concatMemos:()=>_v,debugFetch:()=>IP,deepCompare:()=>c_,escapeStringRegexp:()=>Kv,findFunction:()=>$v,generateRandomString:()=>dt,generateSidAuth:()=>Ww,getCookie:()=>jw,getRandomUserAgent:()=>Yn,getStringBetweenStrings:()=>He,hasKeys:()=>kP,isTextRun:()=>Ke,streamToIterable:()=>Vw,throwIfMissing:()=>X,timeToSeconds:()=>Pe,u8ToBase64:()=>Ie});var Uw={};D(Uw,{Maybe:()=>On,Memo:()=>Ui,SuperParsedResult:()=>Kt,YTNode:()=>a,observe:()=>j});var Ne,je=class{static doLog(e,i,n){if(!this.log_map_[e]||!this.log_level_.includes(e))return;let o=[`[${this.YTJS_TAG}]`];i&&o.push(`[${i}]`),this.log_map_[e](`${o.join("")}:`,...n||[])}static setLevel(...e){this.log_level_=e}};s(je,"Log");Ne=je;je.YTJS_TAG="YOUTUBEJS";je.Level={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};je.log_map_={[Ne.Level.ERROR]:(...t)=>console.error(...t),[Ne.Level.WARNING]:(...t)=>console.warn(...t),[Ne.Level.INFO]:(...t)=>console.info(...t),[Ne.Level.DEBUG]:(...t)=>console.debug(...t)};je.log_level_=[Ne.Level.WARNING];je.one_time_warnings_issued_=new Set;je.warnOnce=(t,...e)=>{Ne.one_time_warnings_issued_.has(t)||(Ne.doLog(Ne.Level.WARNING,t,e),Ne.one_time_warnings_issued_.add(t))};je.warn=(t,...e)=>Ne.doLog(Ne.Level.WARNING,t,e);je.error=(t,...e)=>Ne.doLog(Ne.Level.ERROR,t,e);je.info=(t,...e)=>Ne.doLog(Ne.Level.INFO,t,e);je.debug=(t,...e)=>Ne.doLog(Ne.Level.DEBUG,t,e);var L=je;var Ow,CT,ke,Bw,re,Gt,bi,Ln,NT=Symbol("ObservedArray.isObserved"),a=class{constructor(){Ow.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>p(this,Ow,"m",CT).call(this,i))}as(...e){if(!this.is(...e))throw new _t(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new _t(`Missing key ${e}`);return new On(this[e])}};s(a,"YTNode");Ow=new WeakSet,CT=s(function(e){return this.type===e.type},"_YTNode_is");a.type="YTNode";var On=class{constructor(e){ke.add(this),Bw.set(this,"Maybe"),re.set(this,void 0),k(this,re,e,"f")}get typeof(){return typeof p(this,re,"f")}string(){return p(this,ke,"m",bi).call(this,"string")}isString(){return p(this,ke,"m",Gt).call(this,"string")}number(){return p(this,ke,"m",bi).call(this,"number")}isNumber(){return p(this,ke,"m",Gt).call(this,"number")}bigint(){return p(this,ke,"m",bi).call(this,"bigint")}isBigint(){return p(this,ke,"m",Gt).call(this,"bigint")}boolean(){return p(this,ke,"m",bi).call(this,"boolean")}isBoolean(){return p(this,ke,"m",Gt).call(this,"boolean")}symbol(){return p(this,ke,"m",bi).call(this,"symbol")}isSymbol(){return p(this,ke,"m",Gt).call(this,"symbol")}undefined(){return p(this,ke,"m",bi).call(this,"undefined")}isUndefined(){return p(this,ke,"m",Gt).call(this,"undefined")}null(){if(p(this,re,"f")!==null)throw new TypeError(`Expected null, got ${typeof p(this,re,"f")}`);return p(this,re,"f")}isNull(){return p(this,re,"f")===null}object(){return p(this,ke,"m",bi).call(this,"object")}isObject(){return p(this,ke,"m",Gt).call(this,"object")}function(){return p(this,ke,"m",bi).call(this,"function")}isFunction(){return p(this,ke,"m",Gt).call(this,"function")}array(){if(!Array.isArray(p(this,re,"f")))throw new TypeError(`Expected array, got ${typeof p(this,re,"f")}`);return p(this,re,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,n){return Reflect.has(e,n)?Reflect.get(i,n):new On(Reflect.get(i,n))}})}isArray(){return Array.isArray(p(this,re,"f"))}node(){if(!(p(this,re,"f")instanceof a))throw new TypeError(`Expected YTNode, got ${p(this,re,"f").constructor.name}`);return p(this,re,"f")}isNode(){return p(this,re,"f")instanceof a}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof p(this,re,"f")}`);return p(this,re,"f")}isObserved(){var e;return(e=p(this,re,"f"))==null?void 0:e[NT]}parsed(){if(!(p(this,re,"f")instanceof Kt))throw new TypeError(`Expected SuperParsedResult, got ${typeof p(this,re,"f")}`);return p(this,re,"f")}isParsed(){return p(this,re,"f")instanceof Kt}any(){return L.warn(p(this,Bw,"f"),"This call is not meant to be used outside of debugging. Please use the specific type getter instead."),p(this,re,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${p(this,re,"f").constructor.name}`);return p(this,re,"f")}isInstanceof(e){return p(this,re,"f")instanceof e}};s(On,"Maybe");Bw=new WeakMap,re=new WeakMap,ke=new WeakSet,Gt=s(function(e){return typeof p(this,re,"f")===e},"_Maybe_checkPrimative"),bi=s(function(e){if(!p(this,ke,"m",Gt).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return p(this,re,"f")},"_Maybe_assertPrimative");var Kt=class{constructor(e){Ln.set(this,void 0),k(this,Ln,e,"f")}get is_null(){return p(this,Ln,"f")===null}get is_array(){return!this.is_null&&Array.isArray(p(this,Ln,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return p(this,Ln,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return p(this,Ln,"f")}};s(Kt,"SuperParsedResult");Ln=new WeakMap;function j(t){return new Proxy(t,{get(e,i){return i=="get"?(n,o)=>e.find((r,l)=>{let f=c_(n,r);return f&&o&&e.splice(l,1),f}):i==NT?!0:i=="getAll"?(n,o)=>e.filter((r,l)=>{let f=c_(n,r);return f&&o&&e.splice(l,1),f}):i=="matchCondition"?n=>e.find(o=>n(o)):i=="filterType"?(...n)=>j(e.filter(o=>!!o.is(...n))):i=="firstOfType"?(...n)=>e.find(o=>!!o.is(...n)):i=="first"?()=>e[0]:i=="as"?(...n)=>j(e.map(o=>{if(o.is(...n))return o;throw new _t(`Expected node of any type ${n.map(r=>r.type).join(", ")}, got ${o.type}`)})):i=="remove"?n=>e.splice(n,1):Reflect.get(e,i)}})}s(j,"observe");var Ui=class extends Map{getType(...e){return e=e.flat(),j(e.flatMap(i=>this.get(i.type)||[]))}};s(Ui,"Memo");var Sv={};D(Sv,{Author:()=>A,ChildElement:()=>nx,EmojiRun:()=>Fi,Format:()=>Xy,Text:()=>c,TextRun:()=>Wi,Thumbnail:()=>y,VideoDetails:()=>_n});var $={};D($,{CLIENTS:()=>z,INNERTUBE_HEADERS_BASE:()=>_C,OAUTH:()=>mC,STREAM_HEADERS:()=>xi,SUPPORTED_CLIENTS:()=>u_,URLS:()=>Be});var Be=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"}),GOOGLE_SEARCH_BASE:"https://www.google.com/"}),mC=Object.freeze({REGEX:Object.freeze({TV_SCRIPT:new RegExp('<script\\s+id="base-js"\\s+src="([^"]+)"[^>]*><\\/script>'),CLIENT_IDENTITY:new RegExp('clientId:"(?<client_id>[^"]+)",[^"]*?:"(?<client_secret>[^"]+)"')})}),z=Object.freeze({IOS:{NAME_ID:"5",NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME_ID:"1",NAME:"WEB",VERSION:"2.20240111.09.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME_ID:"76",NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME_ID:"67",NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME_ID:"3",NAME:"ANDROID",VERSION:"19.35.36",SDK_VERSION:33,USER_AGENT:"com.google.android.youtube/19.35.36(Linux; U; Android 13; en_US; SM-S908E Build/TP1A.220624.014) gzip"},YTSTUDIO_ANDROID:{NAME_ID:"14",NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME_ID:"21",NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV:{NAME_ID:"7",NAME:"TVHTML5",VERSION:"7.20241016.15.00",USER_AGENT:"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version"},TV_EMBEDDED:{NAME_ID:"85",NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"},WEB_EMBEDDED:{NAME_ID:"56",NAME:"WEB_EMBEDDED_PLAYER",VERSION:"2.20240111.09.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_CREATOR:{NAME_ID:"62",NAME:"WEB_CREATOR",VERSION:"1.20240918.03.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"}}),xi=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),_C=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"}),u_=["IOS","WEB","YTKIDS","YTMUSIC","ANDROID","YTSTUDIO_ANDROID","YTMUSIC_ANDROID","TV","TV_EMBEDDED","WEB_EMBEDDED","WEB_CREATOR"];var u={};D(u,{addRuntimeParser:()=>lv,applyCommentsMutations:()=>FS,applyMutations:()=>YS,getDynamicParsers:()=>U2,getParserByName:()=>Tm,hasParser:()=>qy,parse:()=>$e,parseActions:()=>VS,parseArray:()=>Ue,parseC:()=>US,parseFormats:()=>dv,parseItem:()=>Z,parseLC:()=>fv,parseRR:()=>Zy,parseResponse:()=>pv,sanitizeClassName:()=>Im,setParserErrorHandler:()=>O2,shouldIgnore:()=>BS});var Zn={};D(Zn,{AboutChannel:()=>C_,AboutChannelView:()=>E_,AccountChannel:()=>N_,AccountItem:()=>P_,AccountItemSection:()=>A_,AccountItemSectionHeader:()=>R_,AccountSectionList:()=>M_,AddBannerToLiveChatCommand:()=>Tk,AddChatItemAction:()=>Cx,AddLiveChatTickerItemAction:()=>kk,Alert:()=>Jo,AlertWithButton:()=>F_,AnalyticsMainAppKeyMetrics:()=>I0,AnalyticsRoot:()=>S0,AnalyticsShortsCarouselCard:()=>E0,AnalyticsVideo:()=>j_,AnalyticsVodCarouselCard:()=>C0,AnchoredSection:()=>jy,AppendContinuationItemsAction:()=>jn,AttributionView:()=>H_,AudioOnlyPlayability:()=>G_,AuthorCommentBadge:()=>Ub,AutomixPreviewVideo:()=>Hi,AvatarView:()=>K_,BackstageImage:()=>$_,BackstagePost:()=>Ki,BackstagePostThread:()=>R0,BadgeView:()=>$i,BrowseFeedActions:()=>X_,BrowserMediaSession:()=>A0,Button:()=>I,ButtonView:()=>bt,C4TabbedHeader:()=>Zi,CallToActionButton:()=>M0,Card:()=>D0,CardCollection:()=>Ib,CarouselHeader:()=>Sb,CarouselItem:()=>L0,CarouselLockup:()=>yb,Channel:()=>Eb,ChannelAboutFullMetadata:()=>Qc,ChannelAgeGate:()=>O0,ChannelExternalLinkView:()=>S_,ChannelFeaturedContent:()=>B0,ChannelHeaderLinks:()=>Z_,ChannelHeaderLinksView:()=>Q_,ChannelMetadata:()=>Cb,ChannelMobileHeader:()=>U0,ChannelOptions:()=>Nb,ChannelOwnerEmptyState:()=>V0,ChannelSubMenu:()=>au,ChannelTagline:()=>Tb,ChannelThumbnailWithLink:()=>Y0,ChannelVideoPlayer:()=>F0,Chapter:()=>Pb,ChildVideo:()=>W0,ChipBarView:()=>j0,ChipCloud:()=>ct,ChipCloudChip:()=>le,ChipView:()=>Rb,ClipAdState:()=>ib,ClipCreation:()=>nb,ClipCreationScrubber:()=>tb,ClipCreationTextInput:()=>eb,ClipSection:()=>ob,CollaboratorInfoCardContent:()=>H0,CollageHeroImage:()=>G0,CollectionThumbnailView:()=>Ob,Comment:()=>sr,CommentActionButtons:()=>Xo,CommentDialog:()=>K0,CommentReplies:()=>Wb,CommentReplyDialog:()=>rr,CommentSimplebox:()=>Kb,CommentThread:()=>$b,CommentView:()=>on,CommentsEntryPointHeader:()=>Gb,CommentsEntryPointTeaser:()=>Hb,CommentsHeader:()=>nn,CommentsSimplebox:()=>jb,CompactChannel:()=>$0,CompactLink:()=>ji,CompactMix:()=>q0,CompactMovie:()=>z0,CompactPlaylist:()=>J0,CompactStation:()=>X0,CompactVideo:()=>ir,ConfirmDialog:()=>Z0,ContentMetadataView:()=>ur,ContentPreviewImageView:()=>tr,ContinuationItem:()=>se,ConversationBar:()=>Q0,CopyLink:()=>lr,CreatePlaylistDialog:()=>v_,CreatorHeart:()=>q_,CtaGoToCreatorStudio:()=>N0,DataModelSection:()=>W_,DecoratedAvatarView:()=>qb,DecoratedPlayerBar:()=>Zb,DefaultPromoPanel:()=>ek,DescriptionPreviewView:()=>Qb,DidYouMean:()=>ex,DimChatItemAction:()=>Ik,DislikeButtonView:()=>J_,DownloadButton:()=>tx,Dropdown:()=>Yi,DropdownItem:()=>w_,DynamicTextView:()=>ix,Element:()=>pr,EmergencyOnebox:()=>tk,EmojiPicker:()=>Fb,EmojiPickerCategory:()=>ik,EmojiPickerCategoryButton:()=>nk,EmojiPickerUpsellCategory:()=>ok,EndScreenPlaylist:()=>rx,EndScreenVideo:()=>sx,Endscreen:()=>ox,EndscreenElement:()=>rk,EngagementPanelSectionList:()=>Xi,EngagementPanelTitleHeader:()=>rb,EomSettingsDisclaimer:()=>sk,ExpandableMetadata:()=>fb,ExpandableTab:()=>fr,ExpandableVideoDescriptionBody:()=>ub,ExpandedShelfContents:()=>ak,Factoid:()=>Ji,FancyDismissibleDialog:()=>ck,FeedFilterChipBar:()=>Ot,FeedNudge:()=>uk,FeedTabbedHeader:()=>ax,FlexibleActionsView:()=>cx,GameCard:()=>lb,GameDetails:()=>lk,GetMultiPageMenuAction:()=>T0,Grid:()=>Jn,GridChannel:()=>ux,GridHeader:()=>pk,GridMix:()=>fk,GridMovie:()=>dk,GridPlaylist:()=>lx,GridShow:()=>hk,GridVideo:()=>dx,GuideCollapsibleEntry:()=>mk,GuideCollapsibleSectionEntry:()=>_k,GuideDownloadsEntry:()=>bk,GuideEntry:()=>Xn,GuideSection:()=>dr,GuideSubscriptionsSection:()=>hx,HashtagHeader:()=>mx,HashtagTile:()=>xk,HeatMarker:()=>zb,Heatmap:()=>Jb,HeroPlaylistThumbnail:()=>yk,HighlightsCarousel:()=>Gl,HistorySuggestion:()=>gk,HorizontalCardList:()=>qi,HorizontalList:()=>pb,HorizontalMovieList:()=>wk,IconLink:()=>bx,ImageBannerView:()=>xx,IncludingResultsFor:()=>vk,InfoPanelContainer:()=>gx,InfoPanelContent:()=>yx,InfoRow:()=>xb,InteractiveTabbedHeader:()=>wx,ItemSection:()=>fe,ItemSectionHeader:()=>hr,ItemSectionTab:()=>vx,ItemSectionTabbedHeader:()=>mr,KidsBlocklistPicker:()=>IS,KidsBlocklistPickerItem:()=>Mr,KidsCategoriesHeader:()=>Hy,KidsCategoryTab:()=>Dr,KidsHomeScreen:()=>Gy,LikeButton:()=>kx,LikeButtonView:()=>z_,LiveChat:()=>Ix,LiveChatActionPanel:()=>Px,LiveChatAuthorBadge:()=>Jk,LiveChatAutoModMessage:()=>Sk,LiveChatBanner:()=>Ex,LiveChatBannerHeader:()=>Sx,LiveChatBannerPoll:()=>Ek,LiveChatDialog:()=>Xk,LiveChatHeader:()=>Ox,LiveChatItemList:()=>Bx,LiveChatMembershipItem:()=>Ck,LiveChatMessageInput:()=>Zk,LiveChatPaidMessage:()=>Nk,LiveChatPaidSticker:()=>Pk,LiveChatParticipant:()=>Ux,LiveChatParticipantsList:()=>Vx,LiveChatPlaceholderItem:()=>Rk,LiveChatProductItem:()=>Ak,LiveChatRestrictedParticipation:()=>Mk,LiveChatTextMessage:()=>Dk,LiveChatTickerPaidMessageItem:()=>Nx,LiveChatTickerPaidStickerItem:()=>Lk,LiveChatTickerSponsorItem:()=>Ok,LiveChatViewerEngagementMessage:()=>Bk,LockupMetadataView:()=>Yx,LockupView:()=>Fx,MacroMarkersInfoItem:()=>sb,MacroMarkersList:()=>ab,MacroMarkersListItem:()=>Qo,MarkChatItemAsDeletedAction:()=>Vk,MarkChatItemsByAuthorAsDeletedAction:()=>Yk,Menu:()=>U,MenuNavigationItem:()=>Wx,MenuPopup:()=>Qk,MenuServiceItem:()=>rn,MenuServiceItemDownload:()=>eI,MerchandiseItem:()=>iI,MerchandiseShelf:()=>Kx,Message:()=>Le,MetadataBadge:()=>Qe,MetadataRow:()=>nI,MetadataRowContainer:()=>$x,MetadataRowHeader:()=>oI,MetadataScreen:()=>rI,MicroformatData:()=>qt,Mix:()=>sI,ModalWithTitleAndButton:()=>aI,Movie:()=>cI,MovingThumbnail:()=>uI,MultiMarkersPlayerBar:()=>Xb,MultiPageMenu:()=>D_,MultiPageMenuNotificationSection:()=>tI,MusicCardShelf:()=>zx,MusicCardShelfHeaderBasic:()=>qx,MusicCarouselShelf:()=>Ae,MusicCarouselShelfBasicHeader:()=>Jx,MusicDescriptionShelf:()=>sn,MusicDetailHeader:()=>wr,MusicDownloadStateBadge:()=>yI,MusicEditablePlaylistDetailHeader:()=>ey,MusicElementHeader:()=>Yf,MusicHeader:()=>an,MusicImmersiveHeader:()=>ty,MusicInlineBadge:()=>_r,MusicItemThumbnailOverlay:()=>zt,MusicLargeCardItemCarousel:()=>gI,MusicMenuItemDivider:()=>jx,MusicMultiRowListItem:()=>Xx,MusicMultiSelectMenu:()=>Hx,MusicMultiSelectMenuItem:()=>Bt,MusicNavigationButton:()=>xr,MusicPlayButton:()=>br,MusicPlaylistEditHeader:()=>wI,MusicPlaylistShelf:()=>eo,MusicQueue:()=>vr,MusicResponsiveHeader:()=>Tr,MusicResponsiveListItem:()=>xt,MusicResponsiveListItemFixedColumn:()=>Zx,MusicResponsiveListItemFlexColumn:()=>Qx,MusicShelf:()=>de,MusicSideAlignedItem:()=>ny,MusicSortFilterButton:()=>id,MusicTastebuilderShelf:()=>ry,MusicTastebuilderShelfThumbnail:()=>oy,MusicThumbnail:()=>Oe,MusicTwoRowItem:()=>gr,MusicVisualHeader:()=>sy,NavigationEndpoint:()=>m,Notification:()=>ay,OpenPopupAction:()=>T_,PageHeader:()=>Xt,PageHeaderView:()=>cy,PageIntroduction:()=>uy,PdgCommentChip:()=>Vb,PivotButton:()=>ly,PlayerAnnotationsExpanded:()=>py,PlayerCaptionsTracklist:()=>fy,PlayerControlsOverlay:()=>vI,PlayerErrorMessage:()=>TI,PlayerLegacyDesktopYpcOffer:()=>kI,PlayerLegacyDesktopYpcTrailer:()=>yd,PlayerLiveStoryboardSpec:()=>my,PlayerMicroformat:()=>lt,PlayerOverflow:()=>dy,PlayerOverlay:()=>cn,PlayerOverlayAutoplay:()=>_y,PlayerStoryboardSpec:()=>Un,Playlist:()=>$t,PlaylistCustomThumbnail:()=>ar,PlaylistHeader:()=>xy,PlaylistInfoCardContent:()=>II,PlaylistMetadata:()=>yy,PlaylistPanel:()=>Jt,PlaylistPanelVideo:()=>vi,PlaylistPanelVideoWrapper:()=>iy,PlaylistSidebar:()=>SI,PlaylistSidebarPrimaryInfo:()=>gy,PlaylistSidebarSecondaryInfo:()=>wy,PlaylistVideo:()=>kr,PlaylistVideoList:()=>EI,PlaylistVideoThumbnail:()=>cr,Poll:()=>CI,PollHeader:()=>Uk,Post:()=>vy,PostMultiImage:()=>NI,ProductList:()=>cb,ProductListHeader:()=>PI,ProductListItem:()=>RI,ProfileColumn:()=>AI,ProfileColumnStats:()=>MI,ProfileColumnStatsEntry:()=>DI,ProfileColumnUserInfo:()=>LI,Quiz:()=>OI,RecognitionShelf:()=>BI,ReelItem:()=>Ir,ReelPlayerHeader:()=>Ty,ReelPlayerOverlay:()=>UI,ReelShelf:()=>or,RelatedChipCloud:()=>ky,RemoveBannerForLiveChatCommand:()=>Fk,RemoveChatItemAction:()=>Wk,RemoveChatItemByAuthorAction:()=>jk,ReplaceChatItemAction:()=>Hk,ReplayChatItemAction:()=>Gk,RichGrid:()=>un,RichItem:()=>VI,RichListHeader:()=>YI,RichMetadata:()=>Zd,RichMetadataRow:()=>eh,RichSection:()=>FI,RichShelf:()=>Iy,SearchBox:()=>WI,SearchFilter:()=>Sy,SearchFilterGroup:()=>Sr,SearchFilterOptionsDialog:()=>jI,SearchHeader:()=>Ey,SearchRefinementCard:()=>Hn,SearchSubMenu:()=>Cy,SearchSuggestion:()=>_x,SearchSuggestionsSection:()=>Ny,SecondarySearchContainer:()=>HI,SectionList:()=>G,SegmentedLikeDislikeButton:()=>to,SegmentedLikeDislikeButtonView:()=>gi,SettingBoolean:()=>GI,SettingsCheckbox:()=>Py,SettingsOptions:()=>Cr,SettingsSidebar:()=>Ry,SettingsSwitch:()=>Er,SharedPost:()=>Ay,Shelf:()=>Nr,ShortsLockupView:()=>Pr,ShowCustomThumbnail:()=>px,ShowLiveChatActionPanelAction:()=>Kk,ShowLiveChatDialogAction:()=>$k,ShowLiveChatTooltipCommand:()=>qk,ShowingResultsFor:()=>My,SimpleCardContent:()=>KI,SimpleCardTeaser:()=>$I,SimpleMenuHeader:()=>Gx,SimpleTextSection:()=>qI,SingleActionEmergencySupport:()=>zI,SingleColumnBrowseResults:()=>Zt,SingleColumnMusicWatchNextResults:()=>JI,SingleHeroImage:()=>XI,SlimOwner:()=>ZI,SlimVideoMetadata:()=>Dy,SortFilterHeader:()=>Tx,SortFilterSubMenu:()=>Dt,SponsorCommentBadge:()=>Yb,StatRow:()=>P0,StructuredDescriptionContent:()=>Kn,StructuredDescriptionPlaylistLockup:()=>gb,SubFeedOption:()=>Ly,SubFeedSelector:()=>QI,SubscribeButton:()=>Re,SubscriptionNotificationToggleButton:()=>kb,Tab:()=>pe,Tabbed:()=>eS,TabbedSearchResults:()=>Oy,TextHeader:()=>tS,ThumbnailBadgeView:()=>Mb,ThumbnailHoverOverlayView:()=>Ab,ThumbnailLandscapePortrait:()=>iS,ThumbnailOverlayBadgeView:()=>Db,ThumbnailOverlayBottomPanel:()=>fx,ThumbnailOverlayEndorsement:()=>nS,ThumbnailOverlayHoverText:()=>oS,ThumbnailOverlayInlineUnplayable:()=>rS,ThumbnailOverlayLoadingPreview:()=>sS,ThumbnailOverlayNowPlaying:()=>aS,ThumbnailOverlayPinking:()=>cS,ThumbnailOverlayPlaybackStatus:()=>uS,ThumbnailOverlayResumePlayback:()=>lS,ThumbnailOverlaySidePanel:()=>pS,ThumbnailOverlayTimeStatus:()=>Gn,ThumbnailOverlayToggleButton:()=>fS,ThumbnailView:()=>Lb,TimedMarkerDecoration:()=>dS,TitleAndButtonListHeader:()=>hS,ToggleButton:()=>ge,ToggleButtonView:()=>Gi,ToggleMenuServiceItem:()=>mS,Tooltip:()=>_S,TopicChannelDetails:()=>bS,Transcript:()=>zo,TranscriptFooter:()=>L_,TranscriptSearchBox:()=>O_,TranscriptSearchPanel:()=>Y_,TranscriptSectionHeader:()=>B_,TranscriptSegment:()=>U_,TranscriptSegmentList:()=>V_,TwoColumnBrowseResults:()=>Qt,TwoColumnSearchResults:()=>By,TwoColumnWatchNextResults:()=>Rr,UniversalWatchCard:()=>Vy,UpdateDateTextAction:()=>Rx,UpdateDescriptionAction:()=>Ax,UpdateEngagementPanelAction:()=>k0,UpdateLiveChatPollAction:()=>zk,UpdateTitleAction:()=>Mx,UpdateToggleButtonTextAction:()=>Dx,UpdateViewershipAction:()=>Lx,UploadTimeFactoid:()=>hb,UpsellDialog:()=>xS,VerticalList:()=>yS,VerticalWatchCardList:()=>gS,Video:()=>er,VideoAttributeView:()=>zi,VideoAttributesSectionView:()=>vb,VideoCard:()=>db,VideoDescriptionCourseSection:()=>wb,VideoDescriptionHeader:()=>_b,VideoDescriptionInfocardsSection:()=>bb,VideoDescriptionMusicSection:()=>nr,VideoDescriptionTranscriptSection:()=>Bc,VideoInfoCardContent:()=>wS,VideoOwner:()=>Ar,VideoPrimaryInfo:()=>Yy,VideoSecondaryInfo:()=>um,ViewCountFactoid:()=>mb,WatchCardCompactVideo:()=>Fy,WatchCardHeroVideo:()=>vS,WatchCardRichHeader:()=>TS,WatchCardSectionSequence:()=>kS,WatchNextEndScreen:()=>by,WatchNextTabbedResults:()=>Wy,YpcTrailer:()=>hy});var Bn,l_=class{constructor(e,i){Bn.set(this,void 0),k(this,Bn,new V.shim.Cache(e,i),"f")}get cache_dir(){return p(this,Bn,"f").cache_dir}get(e){return p(this,Bn,"f").get(e)}set(e,i){return p(this,Bn,"f").set(e,i)}remove(e){return p(this,Bn,"f").remove(e)}};s(l_,"UniversalCache");Bn=new WeakMap;var bC=l_;var $o,p_=class extends EventTarget{constructor(){super(),$o.set(this,new Map)}emit(e,...i){let n=new V.shim.CustomEvent(e,{detail:i});this.dispatchEvent(n)}on(e,i){let n=s(o=>{o instanceof V.shim.CustomEvent?i(...o.detail):i(o)},"wrapper");p(this,$o,"f").set(i,n),this.addEventListener(e,n)}once(e,i){let n=s(o=>{o instanceof V.shim.CustomEvent?i(...o.detail):i(o),this.off(e,i)},"wrapper");p(this,$o,"f").set(i,n),this.addEventListener(e,n)}off(e,i){let n=p(this,$o,"f").get(i);n&&(this.removeEventListener(e,n),p(this,$o,"f").delete(i))}};s(p_,"EventEmitterLike");$o=new WeakMap;var Xs=p_;var Vn={};D(Vn,{chooseFormat:()=>FT,download:()=>jC,toDash:()=>YT});var xC={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function PT(t){return t.replace(/([&"<>'])/g,(e,i)=>xC[i])}s(PT,"escapeXMLString");function yC(t){return t==="mpd"?"MPD":t==="base-url"?"BaseURL":t.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join("")}s(yC,"normalizeTag");function ee(t,e,...i){let n=i.flat().map(o=>typeof o=="string"?gC(o):o);return typeof t=="function"?t({...e,children:n}):{type:yC(t),props:{...e,children:n}}}s(ee,"createElement");function gC(t){return{type:"TEXT_ELEMENT",props:{nodeValue:t}}}s(gC,"createTextElement");async function RT(t){if(t.type==="TEXT_ELEMENT")return PT(typeof t.props.nodeValue=="string"?t.props.nodeValue:"");let e=`<${t.type}`;if(t.props){let i=Object.keys(t.props).filter(n=>!["children","nodeValue"].includes(n)&&t.props[n]!==void 0).map(n=>`${n}="${PT(`${t.props[n]}`)}"`);i.length>0&&(e+=` ${i.join(" ")}`)}if(t.props.children){let i=await Promise.all((await Promise.all(t.props.children.flat())).flat().filter(n=>!!n).map(n=>RT(n)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`}s(RT,"renderElementToString");async function AT(t){return`<?xml version="1.0" encoding="utf-8"?>${await RT(await t)}`}s(AT,"renderToString");function MT(t){return t.children}s(MT,"Fragment");var Zs=class extends a{constructor(e){super();let i=e.spec.split("|"),n=new URL(i.shift());this.boards=i.map((o,r)=>{let[l,f,d,x,b,g,w,T]=o.split("#");n.searchParams.set("sigh",T);let S=Math.ceil(parseInt(d,10)/(parseInt(x,10)*parseInt(b,10)));return{type:"vod",template_url:n.toString().replace("$L",r).replace("$N",w),thumbnail_width:parseInt(l,10),thumbnail_height:parseInt(f,10),thumbnail_count:parseInt(d,10),interval:parseInt(g,10),columns:parseInt(x,10),rows:parseInt(b,10),storyboard_count:S}})}};s(Zs,"PlayerStoryboardSpec");Zs.type="PlayerStoryboardSpec";var Un=Zs;var vC="StreamingInfo";function TC(t,e){var o,r,l;let i=new Map,n=t.some(f=>!!f.audio_track);for(let f of t){if((!f.index_range||!f.init_range)&&!f.is_type_otf&&!e)continue;let d=f.mime_type.split(";")[0],x=(o=He(f.mime_type,'codecs="','"'))==null?void 0:o.split(".")[0],b=f.color_info?Object.values(f.color_info).join("-"):"",g=((r=f.audio_track)==null?void 0:r.id)||"",w=f.is_drc?"drc":"",T=`${d}-${x}-${b}-${g}-${w}`;i.has(T)||i.set(T,[]),(l=i.get(T))==null||l.push(f)}return{groups:Array.from(i.values()),has_multiple_audio_tracks:n}}s(TC,"getFormatGroupings");function LT(t,e){if(t.length>1&&new Set(t.map(i=>He(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),He(t[0].mime_type,'codecs="','"')}s(LT,"hoistCodecsIfPossible");function OT(t,e,i){if(t.length>1&&new Set(t.map(n=>n.fps)).size===1)return i.push(e),Number(t[0][e])}s(OT,"hoistNumberAttributeIfPossible");function kC(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}s(kC,"hoistAudioChannelsIfPossible");async function IC(t,e){var f;let i=await e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:xi,redirect:"follow"}),n=i.url.replace("&rn=0","").replace("&sq=0",""),o=await i.text(),r=(f=He(o,"Segment-Durations-Ms:",`\r
`))==null?void 0:f.split(",");if(!r)throw new _("Failed to extract the segment durations from this OTF stream",{url:t});let l=[];for(let d of r){let x=d.trim();if(x.length===0)continue;let b,g=He(x,"(r=",")");g&&(b=parseInt(g)),l.push({duration:parseInt(x),repeat_count:b})}return{init_url:`${n}&sq=0`,media_url:`${n}&sq=$Number$`,timeline:l}}s(IC,"getOTFSegmentTemplate");async function BT(t,e){let i=await e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"HEAD",headers:xi,redirect:"follow"}),n=parseInt(i.headers.get("X-Head-Time-Millis")||""),o=parseInt(i.headers.get("X-Head-Seqnum")||"");if(isNaN(n)||isNaN(o))throw new _("Failed to extract the duration or segment count for this Post Live DVR video");return{duration:n/1e3,segment_count:o}}s(BT,"getPostLiveDvrInfo");async function SC(t,e,i,n,o,r){if(!t.item){let l=new URL(e.decipher(o));l.searchParams.set("cpn",r||"");let f=i(l).toString();t.item=await BT(f,n)}return t.item.duration}s(SC,"getPostLiveDvrDuration");function UT(t,e,i,n,o,r){let l=new URL(t.decipher(n));l.searchParams.set("cpn",o||"");let f=e(l).toString();if(t.is_type_otf){if(!i)throw new _("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,is_post_live_dvr:!1,getSegmentTemplate(){return IC(f,i)}}}if(r){if(!i)throw new _("Unable to get segment count for this Post Live DVR video without an Actions instance",{format:t});let x=t.target_duration_dec;if(typeof x!="number")throw new _("Format is missing target_duration_dec",{format:t});return{is_oft:!1,is_post_live_dvr:!0,async getSegmentTemplate(){return r.item||(r.item=await BT(f,i)),{media_url:`${f}&sq=$Number$`,timeline:[{duration:x*1e3,repeat_count:r.item.segment_count}]}}}}if(!t.index_range||!t.init_range)throw new _("Index and init ranges not available",{format:t});return{is_oft:!1,is_post_live_dvr:!1,base_url:f,index_range:t.index_range,init_range:t.init_range}}s(UT,"getSegmentInfo");function EC(t,e,i,n,o,r,l){new URL(t.decipher(o)).searchParams.set("cpn",r||"");let d=[t.itag.toString()];return t.audio_track&&d.push(t.audio_track.id),t.is_drc&&d.push("drc"),{uid:d.join("-"),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:He(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:UT(t,i,n,o,r,l)}}s(EC,"getAudioRepresentation");function CC(t,e){if(!t.audio_track&&!e)return;let i=[t.is_original?"main":"alternate"];return(t.is_dubbed||t.is_auto_dubbed)&&i.push("dub"),t.is_descriptive&&i.push("description"),t.is_drc&&i.push("enhanced-audio-intelligibility"),i}s(CC,"getTrackRoles");function NC(t,e,i,n,o,r,l){var T;let f=t[0],{audio_track:d}=f,x=[],b=!!l,g;return d?b&&f.is_drc?g=l.label_drc_mutiple(d.display_name):g=d.display_name:b&&(g=f.is_drc?l.label_drc:l.label_original),{mime_type:f.mime_type.split(";")[0],language:(T=f.language)!=null?T:void 0,codecs:LT(t,x),audio_sample_rate:OT(t,"audio_sample_rate",x),track_name:g,track_roles:CC(f,b),channels:kC(t,x),representations:t.map(S=>EC(S,x,e,i,n,o,r))}}s(NC,"getAudioSet");var PC={BT709:"1",BT2020:"9"},DT={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},RC={BT709:"1",BT2020_NCL:"14"};function AC(t){var l;let e=t.color_info,i,n,o;if(e){if(e.primaries&&(i=PC[e.primaries]),e.transfer_characteristics&&(n=DT[e.transfer_characteristics]),e.matrix_coefficients&&(o=RC[e.matrix_coefficients],!o)){let f=new URL(t.url),d=JSON.parse(JSON.stringify(t));d.url="REDACTED",d.signature_cipher="REDACTED",d.cipher="REDACTED",L.warn(vC,`Unknown matrix coefficients "${e.matrix_coefficients}", the DASH manifest is still usuable without this.
Please report it at ${V.shim.info.bugs_url} so we can add support for it.
InnerTube client: ${f.searchParams.get("c")}
format:`,d)}}else(l=He(t.mime_type,'codecs="','"'))!=null&&l.startsWith("avc1")&&(n=DT.BT709);return{primaries:i,transfer_characteristics:n,matrix_coefficients:o}}s(AC,"getColorInfo");function MC(t,e,i,n,o,r,l){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:He(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:UT(t,e,o,n,r,l)}}s(MC,"getVideoRepresentation");function DC(t,e,i,n,o,r){let l=t[0],f=AC(l),d=[];return{mime_type:l.mime_type.split(";")[0],color_info:f,codecs:LT(t,d),fps:OT(t,"fps",d),representations:t.map(b=>MC(b,e,d,i,n,o,r))}}s(DC,"getVideoSet");function LC(t){var n;let e=new Map,i=t.is(Un)?t.boards:[t.board];for(let o of i){let r=new URL(o.template_url).pathname.split(".").pop(),l=`image/${r==="jpg"?"jpeg":r}`;e.has(l)||e.set(l,[]),(n=e.get(l))==null||n.push(o)}return e}s(LC,"getStoryboardInfo");async function OC(t,e,i,n,o){let r=e.template_url,l=i(new URL(r.replace("$M","0"))),f=o.response?o.response:t.session.http.fetch_function(l,{method:"HEAD",headers:xi});return o.response=f,(await f).headers.get("Content-Type")||n}s(OC,"getStoryboardMimeType");async function BC(t,e,i){let n=e.template_url,o=[],r=Math.min(e.type==="vod"?e.storyboard_count:5,10);for(let x=0;x<r;x++){let b=new URL(n.replace("$M",x.toString())),g=x===0&&i.response?i.response:t.session.http.fetch_function(b,{method:"HEAD",headers:xi});x===0&&(i.response=g),o.push(g)}let l=await Promise.all(o),f=[];for(let x of l)f.push(parseInt(x.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...f)/(e.rows*e.columns)*8)}s(BC,"getStoryboardBitrate");function UC(t,e,i,n,o){let r=i.template_url,l=new URL(r.replace("$M","$Number$")),f;return i.type==="vod"?f=t/i.storyboard_count:f=t*i.columns*i.rows,{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return BC(e,i,o)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:Math.round(f),template_url:n(l).toString(),getURL(x){return l.toString().replace("$Number$",x.toString())}}}s(UC,"getImageRepresentation");function VC(t,e,i,n){let o=LC(i),r={};return Array.from(o.entries()).map(([l,f])=>({probable_mime_type:l,getMimeType(){return OC(e,f[0],n,l,r)},representations:f.map(d=>UC(t,e,d,n,r))}))}s(VC,"getImageSets");function YC(t,e,i){let n=e==="vtt"?"text/vtt":"application/ttml+xml";return t.map(o=>{let r=new URL(o.base_url);r.searchParams.set("fmt",e);let l=["caption"];return r.searchParams.has("tlang")&&l.push("dub"),{mime_type:n,language:o.language_code,track_name:o.name.toString(),track_roles:l,representation:{uid:`text-${o.vss_id}`,base_url:i(r).toString()}}})}s(YC,"getTextSets");function f_(t,e=!1,i=b=>b,n,o,r,l,f,d,x){if(!t)throw new _("Streaming data not available");let b=n?t.adaptive_formats.filter(K=>!n(K)):t.adaptive_formats,g,w;if(e){if(w={},!l)throw new _("Unable to get duration or segment count for this Post Live DVR video without an Actions instance");g=s(()=>w?SC(w,b[0],i,l,r,o):Promise.resolve(0),"getDuration")}else{let K=b[0].approx_duration_ms/1e3;g=s(()=>Promise.resolve(K),"getDuration")}let{groups:T,has_multiple_audio_tracks:S}=TC(b,e),{video_groups:E,audio_groups:P}=T.reduce((K,ue)=>ue[0].has_audio?(S&&!ue[0].audio_track||K.audio_groups.push(ue),K):(K.video_groups.push(ue),K),{video_groups:[],audio_groups:[]}),C;P.flat().some(K=>K.is_drc)&&(C={label_original:(x==null?void 0:x.label_original)||"Original",label_drc:(x==null?void 0:x.label_drc)||"Stable Volume",label_drc_mutiple:(x==null?void 0:x.label_drc_mutiple)||(K=>`${K} (Stable Volume)`)});let Y=P.map(K=>NC(K,i,l,r,o,w,C)),F=E.map(K=>DC(K,i,r,l,o,w)),ie=[];if(f&&l){let K;if(f.is(Un))K=b[0].approx_duration_ms/1e3;else{let ue=b[0].target_duration_dec;if(typeof ue!="number")throw new _("Format is missing target_duration_dec",{format:b[0]});K=ue}ie=VC(K,l,f,i)}let me=[];if(d&&(x==null?void 0:x.captions_format)){if(x.captions_format!=="vtt"&&x.captions_format!=="ttml")throw new _("Invalid captions format",x.captions_format);me=YC(d,x.captions_format,i)}return{getDuration:g,audio_sets:Y,video_sets:F,image_sets:ie,text_sets:me}}s(f_,"getStreamingInfo");async function FC({info:t}){if(!t.is_oft&&!t.is_post_live_dvr)return null;let e=await t.getSegmentTemplate();return ee("segment-template",{startNumber:e.init_url?"1":"0",timescale:"1000",initialization:e.init_url,media:e.media_url},ee("segment-timeline",null,e.timeline.map(i=>ee("s",{d:i.duration,r:i.repeat_count}))))}s(FC,"OTFPostLiveDvrSegmentInfo");function VT({info:t}){return t.is_oft||t.is_post_live_dvr?ee(FC,{info:t}):ee(MT,null,ee("base-url",null,t.base_url),ee("segment-base",{indexRange:`${t.index_range.start}-${t.index_range.end}`},ee("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}s(VT,"SegmentInfo");async function WC({streamingData:t,isPostLiveDvr:e,transformURL:i,rejectFormat:n,cpn:o,player:r,actions:l,storyboards:f,captionTracks:d,options:x}){let{getDuration:b,audio_sets:g,video_sets:w,image_sets:T,text_sets:S}=f_(t,e,i,n,o,r,l,f,d,x);return ee("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${await b()}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},ee("period",null,g.map((E,P)=>ee("adaptation-set",{id:P,mimeType:E.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:E.language,codecs:E.codecs,audioSamplingRate:E.audio_sample_rate,contentType:"audio"},E.track_roles&&E.track_roles.map(C=>ee("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:C})),E.track_name&&ee("label",{id:P},E.track_name),E.channels&&ee("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:E.channels}),E.representations.map(C=>ee("representation",{id:C.uid,bandwidth:C.bitrate,codecs:C.codecs,audioSamplingRate:C.audio_sample_rate},C.channels&&ee("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:C.channels}),ee(VT,{info:C.segment_info}))))),w.map((E,P)=>ee("adaptation-set",{id:P+g.length,mimeType:E.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:E.codecs,maxPlayoutRate:"1",frameRate:E.fps,contentType:"video"},E.color_info.primaries&&ee("supplemental-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:E.color_info.primaries}),E.color_info.transfer_characteristics&&ee("supplemental-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:E.color_info.transfer_characteristics}),E.color_info.matrix_coefficients&&ee("supplemental-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:E.color_info.matrix_coefficients}),E.representations.map(C=>ee("representation",{id:C.uid,bandwidth:C.bitrate,width:C.width,height:C.height,codecs:C.codecs,frameRate:C.fps},ee(VT,{info:C.segment_info}))))),T.map(async(E,P)=>ee("adaptation-set",{id:P+g.length+w.length,mimeType:await E.getMimeType(),contentType:"image"},E.representations.map(async C=>ee("representation",{id:`thumbnails_${C.thumbnail_width}x${C.thumbnail_height}`,bandwidth:await C.getBitrate(),width:C.sheet_width,height:C.sheet_height},ee("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${C.columns}x${C.rows}`}),ee("segment-template",{media:C.template_url,duration:C.template_duration,startNumber:"0"}))))),S.map((E,P)=>ee("adaptation-set",{id:P+g.length+w.length+T.length,mimeType:E.mime_type,lang:E.language,contentType:"text"},E.track_roles.map(C=>ee("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:C})),ee("label",{id:P+g.length},E.track_name),ee("representation",{id:E.representation.uid,bandwidth:"0"},ee("base-url",null,E.representation.base_url))))))}s(WC,"DashManifest");function YT(t,e=!1,i=b=>b,n,o,r,l,f,d,x){if(!t)throw new _("Streaming data not available");return AT(ee(WC,{streamingData:t,isPostLiveDvr:e,transformURL:i,options:x,rejectFormat:n,cpn:o,player:r,actions:l,storyboards:f,captionTracks:d}))}s(YT,"toDash");async function jC(t,e,i,n,o,r){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new _("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new _("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!n)throw new _("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let l={quality:"360p",type:"video+audio",format:"mp4",range:void 0,...t},f=FT(l,n),d=f.decipher(o);if(l.type==="video+audio"&&!t.range){let E=await e.session.http.fetch_function(`${d}&cpn=${r}`,{method:"GET",headers:xi,redirect:"follow"});if(!E.ok)throw new _("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:E});let P=E.body;if(!P)throw new _("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:E});return P}let x=1048576*10,b=t.range?t.range.start:0,g=t.range?t.range.end:x,w=!1,T;return new V.shim.ReadableStream({start(){},pull:async E=>{if(w){E.close();return}return(g>=(f.content_length?f.content_length:0)||t.range)&&(w=!0),new Promise(async(P,C)=>{try{T=new AbortController;let Y=await e.session.http.fetch_function(`${d}&cpn=${r}&range=${b}-${g||""}`,{method:"GET",headers:{...xi},signal:T.signal});if(!Y.ok)throw new _("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:Y});let F=Y.body;if(!F)throw new _("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:Y});for await(let ie of Vw(F))E.enqueue(ie);b=g+1,g+=x,P()}catch(Y){C(Y)}})},async cancel(E){T.abort(E)}},{highWaterMark:1,size(E){return E.byteLength}})}s(jC,"download");function FT(t,e){if(!e)throw new _("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]],n=t.type?t.type.includes("audio"):!0,o=t.type?t.type.includes("video"):!0,r=t.language||"original",l=t.quality||"best",f=-1,d=["best","bestefficiency"].includes(l),x=l!=="best",b=i.filter(g=>n&&!g.has_audio||o&&!g.has_video||t.format!=="any"&&!g.mime_type.includes(t.format||"mp4")||!d&&g.quality_label!==l?!1:(g.width&&f<g.width&&(f=g.width),!0));if(!b.length)throw new _("No matching formats found",{options:t});if(d&&o&&(b=b.filter(g=>g.width===f)),n&&!o){let g=b.filter(w=>r!=="original"?!w.has_video&&!w.has_text&&w.language===r:!w.has_video&&!w.has_text&&w.is_original);g.length>0&&(b=g)}return x?b.sort((g,w)=>g.bitrate-w.bitrate):b.sort((g,w)=>w.bitrate-g.bitrate),b[0]}s(FT,"chooseFormat");var Yw,Rt,qo,Qs,WT,d_=class{constructor(e,i,n){Yw.add(this),Rt.set(this,void 0),qo.set(this,void 0),Qs.set(this,void 0),k(this,Rt,e,"f"),k(this,qo,i,"f"),k(this,Qs,n||V.shim.fetch,"f")}get fetch_function(){return p(this,Qs,"f")}async fetch(e,i){let n=Be.API.PRODUCTION_1+p(this,Rt,"f").api_version,o=(i==null?void 0:i.baseURL)||n,r=typeof e=="string"?!o.endsWith("/")&&!e.startsWith("/")?new URL(`${o}/${e}`):new URL(o+e):e instanceof URL?e:new URL(e.url,o),l=(i==null?void 0:i.headers)||(e instanceof V.shim.Request?e.headers:new V.shim.Headers)||new V.shim.Headers,f=(i==null?void 0:i.body)||(e instanceof V.shim.Request?e.body:void 0),d=new V.shim.Headers(l);d.set("Accept","*/*"),d.set("Accept-Language","*"),d.set("X-Goog-Visitor-Id",p(this,Rt,"f").context.client.visitorData||""),d.set("X-Youtube-Client-Version",p(this,Rt,"f").context.client.clientVersion||"");let x=Object.values(z).find(P=>P.NAME===p(this,Rt,"f").context.client.clientName);x&&d.set("X-Youtube-Client-Name",x.NAME_ID),V.shim.server&&(d.set("User-Agent",Yn("desktop")),d.set("Origin",r.origin)),r.searchParams.set("prettyPrint","false"),r.searchParams.set("alt","json");let b=d.get("Content-Type"),g=f,w=!1,T=o===n||o===Be.YT_UPLOAD;if(b==="application/json"&&T&&typeof f=="string"){let C={...JSON.parse(f),context:JSON.parse(JSON.stringify(p(this,Rt,"f").context))};p(this,Yw,"m",WT).call(this,C.context,C.client),d.set("X-Youtube-Client-Version",C.context.client.clientVersion);let Y=Object.values(z).find(F=>F.NAME===C.context.client.clientName);Y&&d.set("X-Youtube-Client-Name",Y.NAME_ID),delete C.client,C.context.client.clientName==="ANDROID"||C.context.client.clientName==="ANDROID_MUSIC"?(d.set("User-Agent",z.ANDROID.USER_AGENT),d.set("X-GOOG-API-FORMAT-VERSION","2")):C.context.client.clientName==="iOS"&&d.set("User-Agent",z.IOS.USER_AGENT),w=C.context.client.clientName==="WEB_KIDS",g=JSON.stringify(C)}else b==="application/x-protobuf"&&V.shim.server&&(d.set("User-Agent",z.ANDROID.USER_AGENT),d.set("X-GOOG-API-FORMAT-VERSION","2"),d.delete("X-Youtube-Client-Version"));if(p(this,Rt,"f").logged_in&&T&&!w){let P=p(this,Rt,"f").oauth;if(P.oauth2_tokens&&(P.shouldRefreshToken()&&await P.refreshAccessToken(),d.set("Authorization",`Bearer ${P.oauth2_tokens.access_token}`)),p(this,qo,"f")){let C=jw(p(this,qo,"f"),"SAPISID");C&&(d.set("Authorization",await Ww(C)),d.set("X-Goog-Authuser",p(this,Rt,"f").account_index.toString())),d.set("Cookie",p(this,qo,"f"))}}let S=new V.shim.Request(r,e instanceof V.shim.Request?e:i),E=await p(this,Qs,"f").call(this,S,{body:g,headers:d,redirect:e instanceof V.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow",...V.shim.runtime!=="cf-worker"?{credentials:"include"}:{}});if(E.ok)return E;throw new _(`Request to ${E.url} failed with status ${E.status}`,await E.text())}};s(d_,"HTTPClient");Rt=new WeakMap,qo=new WeakMap,Qs=new WeakMap,Yw=new WeakSet,WT=s(function(e,i){if(!!i){if(!u_.includes(i.toUpperCase()))throw new _(`Invalid client: ${i}`,{available_innertube_clients:u_});switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=z.ANDROID.SDK_VERSION,e.client.userAgent=z.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="13",e.client.platform="MOBILE"),i.toUpperCase()){case"IOS":e.client.deviceMake="Apple",e.client.deviceModel=z.IOS.DEVICE_MODEL,e.client.clientVersion=z.IOS.VERSION,e.client.clientName=z.IOS.NAME,e.client.platform="MOBILE",e.client.osName="iOS",delete e.client.browserName,delete e.client.browserVersion;break;case"YTMUSIC":e.client.clientVersion=z.YTMUSIC.VERSION,e.client.clientName=z.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=z.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=z.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=z.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=z.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=z.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=z.YTSTUDIO_ANDROID.NAME;break;case"TV":{e.client.clientVersion=z.TV.VERSION,e.client.clientName=z.TV.NAME,e.client.userAgent=z.TV.USER_AGENT;break}case"TV_EMBEDDED":e.client.clientName=z.TV_EMBEDDED.NAME,e.client.clientVersion=z.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:Be.YT_BASE};break;case"YTKIDS":e.client.clientVersion=z.WEB_KIDS.VERSION,e.client.clientName=z.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;case"WEB_EMBEDDED":e.client.clientName=z.WEB_EMBEDDED.NAME,e.client.clientVersion=z.WEB_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:Be.GOOGLE_SEARCH_BASE};break;case"WEB_CREATOR":e.client.clientName=z.WEB_CREATOR.NAME,e.client.clientVersion=z.WEB_CREATOR.VERSION;break;default:break}}},"_HTTPClient_adjustContext");var Fw=d_;var At={};D(At,{compress:()=>HC,decompress:()=>GC});function HC(t){let e=[],i={};for(let r=0;r<256;r++)i[String.fromCharCode(r)]=r;let n="",o=256;for(let r=0;r<t.length;r++){let l=t[r],f=n+l;i.hasOwnProperty(f)?n=f:(e.push(i[n]),i[f]=o++,n=l)}return n!==""&&e.push(i[n]),e.map(r=>String.fromCharCode(r)).join("")}s(HC,"compress");function GC(t){let e={},i=t.split(""),n=[i.shift()],o=i.length>>>0,r=256,l=n[0],f=l;for(let d=0;d<o;++d){let x=i[d].charCodeAt(0),b=x<256?i[d]:e[x]?e[x]:f+l;n.push(b),l=b.charAt(0),e[r++]=f+l,f=b}return n.join("")}s(GC,"decompress");var yi={};D(yi,{decodeVisitorData:()=>N2,encodeCommentActionParams:()=>Fn,encodeNextParams:()=>P2,encodeVisitorData:()=>C2});function HT(){let t=0,e=0;for(let n=0;n<28;n+=7){let o=this.buf[this.pos++];if(t|=(o&127)<<n,(o&128)==0)return this.assertBounds(),[t,e]}let i=this.buf[this.pos++];if(t|=(i&15)<<28,e=(i&112)>>4,(i&128)==0)return this.assertBounds(),[t,e];for(let n=3;n<=31;n+=7){let o=this.buf[this.pos++];if(e|=(o&127)<<n,(o&128)==0)return this.assertBounds(),[t,e]}throw new Error("invalid varint")}s(HT,"varint64read");function m_(t,e,i){for(let r=0;r<28;r=r+7){let l=t>>>r,f=!(l>>>7==0&&e==0),d=(f?l|128:l)&255;if(i.push(d),!f)return}let n=t>>>28&15|(e&7)<<4,o=e>>3!=0;if(i.push((o?n|128:n)&255),!!o){for(let r=3;r<31;r=r+7){let l=e>>>r,f=l>>>7!=0,d=(f?l|128:l)&255;if(i.push(d),!f)return}i.push(e>>>31&1)}}s(m_,"varint64write");var h_=4294967296;function Hw(t){let e=t[0]==="-";e&&(t=t.slice(1));let i=1e6,n=0,o=0;function r(l,f){let d=Number(t.slice(l,f));o*=i,n=n*i+d,n>=h_&&(o=o+(n/h_|0),n=n%h_)}return s(r,"add1e6digit"),r(-24,-18),r(-18,-12),r(-12,-6),r(-6),e?KT(n,o):Kw(n,o)}s(Hw,"int64FromString");function GT(t,e){let i=Kw(t,e),n=i.hi&2147483648;n&&(i=KT(i.lo,i.hi));let o=Gw(i.lo,i.hi);return n?"-"+o:o}s(GT,"int64ToString");function Gw(t,e){if({lo:t,hi:e}=KC(t,e),e<=2097151)return String(h_*e+t);let i=t&16777215,n=(t>>>24|e<<8)&16777215,o=e>>16&65535,r=i+n*6777216+o*6710656,l=n+o*8147497,f=o*2,d=1e7;return r>=d&&(l+=Math.floor(r/d),r%=d),l>=d&&(f+=Math.floor(l/d),l%=d),f.toString()+jT(l)+jT(r)}s(Gw,"uInt64ToString");function KC(t,e){return{lo:t>>>0,hi:e>>>0}}s(KC,"toUnsigned");function Kw(t,e){return{lo:t|0,hi:e|0}}s(Kw,"newBits");function KT(t,e){return e=~e,t?t=~t+1:e+=1,Kw(t,e)}s(KT,"negate");var jT=s(t=>{let e=String(t);return"0000000".slice(e.length)+e},"decimalFrom1e7WithLeadingZeros");function $w(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let i=0;i<9;i++)e.push(t&127|128),t=t>>7;e.push(1)}}s($w,"varint32write");function $T(){let t=this.buf[this.pos++],e=t&127;if((t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,(t&128)==0)return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let i=5;(t&128)!==0&&i<10;i++)t=this.buf[this.pos++];if((t&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}s($T,"varint32read");var Mt=$C();function $C(){let t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||process.env.BUF_BIGINT_DISABLE!=="1")){let i=BigInt("-9223372036854775808"),n=BigInt("9223372036854775807"),o=BigInt("0"),r=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(l){let f=typeof l=="bigint"?l:BigInt(l);if(f>n||f<i)throw new Error(`invalid int64: ${l}`);return f},uParse(l){let f=typeof l=="bigint"?l:BigInt(l);if(f>r||f<o)throw new Error(`invalid uint64: ${l}`);return f},enc(l){return t.setBigInt64(0,this.parse(l),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(l){return t.setBigInt64(0,this.uParse(l),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(l,f){return t.setInt32(0,l,!0),t.setInt32(4,f,!0),t.getBigInt64(0,!0)},uDec(l,f){return t.setInt32(0,l,!0),t.setInt32(4,f,!0),t.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),qT(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),zT(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),qT(i),Hw(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),zT(i),Hw(i)},dec(i,n){return GT(i,n)},uDec(i,n){return Gw(i,n)}}}s($C,"makeInt64Support");function qT(t){if(!/^-?[0-9]+$/.test(t))throw new Error("invalid int64: "+t)}s(qT,"assertInt64String");function zT(t){if(!/^[0-9]+$/.test(t))throw new Error("invalid uint64: "+t)}s(zT,"assertUInt64String");var qw=Symbol.for("@bufbuild/protobuf/text-encoding");function zw(){if(globalThis[qw]==null){let t=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[qw]={encodeUtf8(i){return t.encode(i)},decodeUtf8(i){return e.decode(i)},checkUtf8(i){try{return encodeURIComponent(i),!0}catch{return!1}}}}return globalThis[qw]}s(zw,"getTextEncoding");var Vi;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(Vi||(Vi={}));var qC=34028234663852886e22,zC=-34028234663852886e22,JC=4294967295,XC=2147483647,ZC=-2147483648,N=class{constructor(e=zw().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let o=0;o<this.chunks.length;o++)e+=this.chunks[o].length;let i=new Uint8Array(e),n=0;for(let o=0;o<this.chunks.length;o++)i.set(this.chunks[o],n),n+=this.chunks[o].length;return this.chunks=[],i}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),i=this.stack.pop();if(!i)throw new Error("invalid state, fork stack empty");return this.chunks=i.chunks,this.buf=i.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,i){return this.uint32((e<<3|i)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(JT(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return Jw(e),$w(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let i=this.encodeUtf8(e);return this.uint32(i.byteLength),this.raw(i)}float(e){QC(e);let i=new Uint8Array(4);return new DataView(i.buffer).setFloat32(0,e,!0),this.raw(i)}double(e){let i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,e,!0),this.raw(i)}fixed32(e){JT(e);let i=new Uint8Array(4);return new DataView(i.buffer).setUint32(0,e,!0),this.raw(i)}sfixed32(e){Jw(e);let i=new Uint8Array(4);return new DataView(i.buffer).setInt32(0,e,!0),this.raw(i)}sint32(e){return Jw(e),e=(e<<1^e>>31)>>>0,$w(e,this.buf),this}sfixed64(e){let i=new Uint8Array(8),n=new DataView(i.buffer),o=Mt.enc(e);return n.setInt32(0,o.lo,!0),n.setInt32(4,o.hi,!0),this.raw(i)}fixed64(e){let i=new Uint8Array(8),n=new DataView(i.buffer),o=Mt.uEnc(e);return n.setInt32(0,o.lo,!0),n.setInt32(4,o.hi,!0),this.raw(i)}int64(e){let i=Mt.enc(e);return m_(i.lo,i.hi,this.buf),this}sint64(e){let i=Mt.enc(e),n=i.hi>>31,o=i.lo<<1^n,r=(i.hi<<1|i.lo>>>31)^n;return m_(o,r,this.buf),this}uint64(e){let i=Mt.uEnc(e);return m_(i.lo,i.hi,this.buf),this}};s(N,"BinaryWriter");var v=class{constructor(e,i=zw().decodeUtf8){this.decodeUtf8=i,this.varint64=HT,this.uint32=$T,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),i=e>>>3,n=e&7;if(i<=0||n<0||n>5)throw new Error("illegal tag: field no "+i+" wire type "+n);return[i,n]}skip(e,i){let n=this.pos;switch(e){case Vi.Varint:for(;this.buf[this.pos++]&128;);break;case Vi.Bit64:this.pos+=4;case Vi.Bit32:this.pos+=4;break;case Vi.LengthDelimited:let o=this.uint32();this.pos+=o;break;case Vi.StartGroup:for(;;){let[r,l]=this.tag();if(l===Vi.EndGroup){if(i!==void 0&&r!==i)throw new Error("invalid end group tag");break}this.skip(l,r)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return Mt.dec(...this.varint64())}uint64(){return Mt.uDec(...this.varint64())}sint64(){let[e,i]=this.varint64(),n=-(e&1);return e=(e>>>1|(i&1)<<31)^n,i=i>>>1^n,Mt.dec(e,i)}bool(){let[e,i]=this.varint64();return e!==0||i!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Mt.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Mt.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),i=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(i,i+e)}string(){return this.decodeUtf8(this.bytes())}};s(v,"BinaryReader");function Jw(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid int32: "+typeof t);if(!Number.isInteger(t)||t>XC||t<ZC)throw new Error("invalid int32: "+t)}s(Jw,"assertInt32");function JT(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid uint32: "+typeof t);if(!Number.isInteger(t)||t>JC||t<0)throw new Error("invalid uint32: "+t)}s(JT,"assertUInt32");function QC(t){if(typeof t=="string"){let e=t;if(t=Number(t),isNaN(t)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof t!="number")throw new Error("invalid float32: "+typeof t);if(Number.isFinite(t)&&(t>qC||t<zC))throw new Error("invalid float32: "+t)}s(QC,"assertFloat32");var __;(function(t){t[t.RELEVANCE=0]="RELEVANCE",t[t.RATING=1]="RATING",t[t.UPLOAD_DATE=2]="UPLOAD_DATE",t[t.VIEW_COUNT=3]="VIEW_COUNT",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(__||(__={}));var b_;(function(t){t[t.ANY_DATE=0]="ANY_DATE",t[t.HOUR=1]="HOUR",t[t.TODAY=2]="TODAY",t[t.WEEK=3]="WEEK",t[t.MONTH=4]="MONTH",t[t.YEAR=5]="YEAR",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(b_||(b_={}));var x_;(function(t){t[t.ANY_TYPE=0]="ANY_TYPE",t[t.VIDEO=1]="VIDEO",t[t.CHANNEL=2]="CHANNEL",t[t.PLAYLIST=3]="PLAYLIST",t[t.MOVIE=4]="MOVIE",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(x_||(x_={}));var y_;(function(t){t[t.ANY_DURATION=0]="ANY_DURATION",t[t.SHORT=1]="SHORT",t[t.LONG=2]="LONG",t[t.MEDIUM=3]="MEDIUM",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(y_||(y_={}));function e2(){return{id:"",timestamp:0}}s(e2,"createBaseVisitorData");var Xw={encode(t,e=new N){return t.id!==""&&e.uint32(10).string(t.id),t.timestamp!==0&&e.uint32(40).int32(t.timestamp),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=e2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.id=i.string();continue;case 5:if(r!==40)break;o.timestamp=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function t2(){return{sortBy:void 0,filters:void 0}}s(t2,"createBaseSearchFilter");var g_={encode(t,e=new N){return t.sortBy!==void 0&&e.uint32(8).int32(t.sortBy),t.filters!==void 0&&XT.encode(t.filters,e.uint32(18).fork()).join(),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=t2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.sortBy=i.int32();continue;case 2:if(r!==18)break;o.filters=XT.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function i2(){return{uploadDate:void 0,type:void 0,duration:void 0,musicSearchType:void 0,featuresHd:void 0,featuresSubtitles:void 0,featuresCreativeCommons:void 0,features3d:void 0,featuresLive:void 0,featuresPurchased:void 0,features4k:void 0,features360:void 0,featuresLocation:void 0,featuresHdr:void 0,featuresVr180:void 0}}s(i2,"createBaseSearchFilter_Filters");var XT={encode(t,e=new N){return t.uploadDate!==void 0&&e.uint32(8).int32(t.uploadDate),t.type!==void 0&&e.uint32(16).int32(t.type),t.duration!==void 0&&e.uint32(24).int32(t.duration),t.musicSearchType!==void 0&&ZT.encode(t.musicSearchType,e.uint32(138).fork()).join(),t.featuresHd!==void 0&&e.uint32(32).bool(t.featuresHd),t.featuresSubtitles!==void 0&&e.uint32(40).bool(t.featuresSubtitles),t.featuresCreativeCommons!==void 0&&e.uint32(48).bool(t.featuresCreativeCommons),t.features3d!==void 0&&e.uint32(56).bool(t.features3d),t.featuresLive!==void 0&&e.uint32(64).bool(t.featuresLive),t.featuresPurchased!==void 0&&e.uint32(72).bool(t.featuresPurchased),t.features4k!==void 0&&e.uint32(112).bool(t.features4k),t.features360!==void 0&&e.uint32(120).bool(t.features360),t.featuresLocation!==void 0&&e.uint32(184).bool(t.featuresLocation),t.featuresHdr!==void 0&&e.uint32(200).bool(t.featuresHdr),t.featuresVr180!==void 0&&e.uint32(208).bool(t.featuresVr180),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=i2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.uploadDate=i.int32();continue;case 2:if(r!==16)break;o.type=i.int32();continue;case 3:if(r!==24)break;o.duration=i.int32();continue;case 17:if(r!==138)break;o.musicSearchType=ZT.decode(i,i.uint32());continue;case 4:if(r!==32)break;o.featuresHd=i.bool();continue;case 5:if(r!==40)break;o.featuresSubtitles=i.bool();continue;case 6:if(r!==48)break;o.featuresCreativeCommons=i.bool();continue;case 7:if(r!==56)break;o.features3d=i.bool();continue;case 8:if(r!==64)break;o.featuresLive=i.bool();continue;case 9:if(r!==72)break;o.featuresPurchased=i.bool();continue;case 14:if(r!==112)break;o.features4k=i.bool();continue;case 15:if(r!==120)break;o.features360=i.bool();continue;case 23:if(r!==184)break;o.featuresLocation=i.bool();continue;case 25:if(r!==200)break;o.featuresHdr=i.bool();continue;case 26:if(r!==208)break;o.featuresVr180=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function n2(){return{song:void 0,video:void 0,album:void 0,artist:void 0,playlist:void 0}}s(n2,"createBaseSearchFilter_Filters_MusicSearchType");var ZT={encode(t,e=new N){return t.song!==void 0&&e.uint32(8).bool(t.song),t.video!==void 0&&e.uint32(16).bool(t.video),t.album!==void 0&&e.uint32(24).bool(t.album),t.artist!==void 0&&e.uint32(32).bool(t.artist),t.playlist!==void 0&&e.uint32(40).bool(t.playlist),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=n2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.song=i.bool();continue;case 2:if(r!==16)break;o.video=i.bool();continue;case 3:if(r!==24)break;o.album=i.bool();continue;case 4:if(r!==32)break;o.artist=i.bool();continue;case 5:if(r!==40)break;o.playlist=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function o2(){return{params:void 0}}s(o2,"createBaseChannelAnalytics");var h0={encode(t,e=new N){return t.params!==void 0&&QT.encode(t.params,e.uint32(258).fork()).join(),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=o2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 32:if(r!==258)break;o.params=QT.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function r2(){return{channelId:""}}s(r2,"createBaseChannelAnalytics_Params");var QT={encode(t,e=new N){return t.channelId!==""&&e.uint32(8010).string(t.channelId),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=r2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1001:if(r!==8010)break;o.channelId=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function s2(){return{channelId:"",prefId:void 0,number0:void 0,number1:void 0}}s(s2,"createBaseNotificationPreferences");var m0={encode(t,e=new N){return t.channelId!==""&&e.uint32(10).string(t.channelId),t.prefId!==void 0&&e0.encode(t.prefId,e.uint32(18).fork()).join(),t.number0!==void 0&&e.uint32(24).int32(t.number0),t.number1!==void 0&&e.uint32(32).int32(t.number1),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=s2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.channelId=i.string();continue;case 2:if(r!==18)break;o.prefId=e0.decode(i,i.uint32());continue;case 3:if(r!==24)break;o.number0=i.int32();continue;case 4:if(r!==32)break;o.number1=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function a2(){return{index:0}}s(a2,"createBaseNotificationPreferences_Preference");var e0={encode(t,e=new N){return t.index!==0&&e.uint32(8).int32(t.index),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=a2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.index=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function c2(){return{params:void 0,number0:void 0,number1:void 0}}s(c2,"createBaseLiveMessageParams");var _0={encode(t,e=new N){return t.params!==void 0&&t0.encode(t.params,e.uint32(10).fork()).join(),t.number0!==void 0&&e.uint32(16).int32(t.number0),t.number1!==void 0&&e.uint32(24).int32(t.number1),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=c2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.params=t0.decode(i,i.uint32());continue;case 2:if(r!==16)break;o.number0=i.int32();continue;case 3:if(r!==24)break;o.number1=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function u2(){return{ids:void 0}}s(u2,"createBaseLiveMessageParams_Params");var t0={encode(t,e=new N){return t.ids!==void 0&&i0.encode(t.ids,e.uint32(42).fork()).join(),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=u2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 5:if(r!==42)break;o.ids=i0.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function l2(){return{channelId:"",videoId:""}}s(l2,"createBaseLiveMessageParams_Params_Ids");var i0={encode(t,e=new N){return t.channelId!==""&&e.uint32(10).string(t.channelId),t.videoId!==""&&e.uint32(18).string(t.videoId),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=l2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.channelId=i.string();continue;case 2:if(r!==18)break;o.videoId=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function p2(){return{ctx:void 0,unkParam:0,params:void 0}}s(p2,"createBaseGetCommentsSectionParams");var b0={encode(t,e=new N){return t.ctx!==void 0&&n0.encode(t.ctx,e.uint32(18).fork()).join(),t.unkParam!==0&&e.uint32(24).int32(t.unkParam),t.params!==void 0&&o0.encode(t.params,e.uint32(50).fork()).join(),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=p2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 2:if(r!==18)break;o.ctx=n0.decode(i,i.uint32());continue;case 3:if(r!==24)break;o.unkParam=i.int32();continue;case 6:if(r!==50)break;o.params=o0.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function f2(){return{videoId:""}}s(f2,"createBaseGetCommentsSectionParams_Context");var n0={encode(t,e=new N){return t.videoId!==""&&e.uint32(18).string(t.videoId),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=f2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 2:if(r!==18)break;o.videoId=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function d2(){return{unkToken:void 0,opts:void 0,repliesOpts:void 0,page:void 0,target:""}}s(d2,"createBaseGetCommentsSectionParams_Params");var o0={encode(t,e=new N){return t.unkToken!==void 0&&e.uint32(10).string(t.unkToken),t.opts!==void 0&&r0.encode(t.opts,e.uint32(34).fork()).join(),t.repliesOpts!==void 0&&s0.encode(t.repliesOpts,e.uint32(26).fork()).join(),t.page!==void 0&&e.uint32(40).int32(t.page),t.target!==""&&e.uint32(66).string(t.target),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=d2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.unkToken=i.string();continue;case 4:if(r!==34)break;o.opts=r0.decode(i,i.uint32());continue;case 3:if(r!==26)break;o.repliesOpts=s0.decode(i,i.uint32());continue;case 5:if(r!==40)break;o.page=i.int32();continue;case 8:if(r!==66)break;o.target=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function h2(){return{videoId:"",sortBy:0,type:0,commentId:void 0}}s(h2,"createBaseGetCommentsSectionParams_Params_Options");var r0={encode(t,e=new N){return t.videoId!==""&&e.uint32(34).string(t.videoId),t.sortBy!==0&&e.uint32(48).int32(t.sortBy),t.type!==0&&e.uint32(120).int32(t.type),t.commentId!==void 0&&e.uint32(130).string(t.commentId),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=h2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 4:if(r!==34)break;o.videoId=i.string();continue;case 6:if(r!==48)break;o.sortBy=i.int32();continue;case 15:if(r!==120)break;o.type=i.int32();continue;case 16:if(r!==130)break;o.commentId=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function m2(){return{commentId:"",unkopts:void 0,channelId:void 0,videoId:"",unkParam1:0,unkParam2:0}}s(m2,"createBaseGetCommentsSectionParams_Params_RepliesOptions");var s0={encode(t,e=new N){return t.commentId!==""&&e.uint32(18).string(t.commentId),t.unkopts!==void 0&&a0.encode(t.unkopts,e.uint32(34).fork()).join(),t.channelId!==void 0&&e.uint32(42).string(t.channelId),t.videoId!==""&&e.uint32(50).string(t.videoId),t.unkParam1!==0&&e.uint32(64).int32(t.unkParam1),t.unkParam2!==0&&e.uint32(72).int32(t.unkParam2),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=m2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 2:if(r!==18)break;o.commentId=i.string();continue;case 4:if(r!==34)break;o.unkopts=a0.decode(i,i.uint32());continue;case 5:if(r!==42)break;o.channelId=i.string();continue;case 6:if(r!==50)break;o.videoId=i.string();continue;case 8:if(r!==64)break;o.unkParam1=i.int32();continue;case 9:if(r!==72)break;o.unkParam2=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function _2(){return{unkParam:0}}s(_2,"createBaseGetCommentsSectionParams_Params_RepliesOptions_UnkOpts");var a0={encode(t,e=new N){return t.unkParam!==0&&e.uint32(8).int32(t.unkParam),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=_2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.unkParam=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function b2(){return{videoId:"",params:void 0,number:0}}s(b2,"createBaseCreateCommentParams");var x0={encode(t,e=new N){return t.videoId!==""&&e.uint32(18).string(t.videoId),t.params!==void 0&&c0.encode(t.params,e.uint32(42).fork()).join(),t.number!==0&&e.uint32(80).int32(t.number),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=b2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 2:if(r!==18)break;o.videoId=i.string();continue;case 5:if(r!==42)break;o.params=c0.decode(i,i.uint32());continue;case 10:if(r!==80)break;o.number=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function x2(){return{index:0}}s(x2,"createBaseCreateCommentParams_Params");var c0={encode(t,e=new N){return t.index!==0&&e.uint32(8).int32(t.index),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=x2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.index=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function y2(){return{type:0,commentId:"",videoId:"",unkNum:void 0,channelId:void 0,translateCommentParams:void 0}}s(y2,"createBasePeformCommentActionParams");var y0={encode(t,e=new N){return t.type!==0&&e.uint32(8).int32(t.type),t.commentId!==""&&e.uint32(26).string(t.commentId),t.videoId!==""&&e.uint32(42).string(t.videoId),t.unkNum!==void 0&&e.uint32(16).int32(t.unkNum),t.channelId!==void 0&&e.uint32(186).string(t.channelId),t.translateCommentParams!==void 0&&u0.encode(t.translateCommentParams,e.uint32(250).fork()).join(),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=y2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.type=i.int32();continue;case 3:if(r!==26)break;o.commentId=i.string();continue;case 5:if(r!==42)break;o.videoId=i.string();continue;case 2:if(r!==16)break;o.unkNum=i.int32();continue;case 23:if(r!==186)break;o.channelId=i.string();continue;case 31:if(r!==250)break;o.translateCommentParams=u0.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function g2(){return{params:void 0,commentId:"",targetLanguage:""}}s(g2,"createBasePeformCommentActionParams_TranslateCommentParams");var u0={encode(t,e=new N){return t.params!==void 0&&l0.encode(t.params,e.uint32(26).fork()).join(),t.commentId!==""&&e.uint32(18).string(t.commentId),t.targetLanguage!==""&&e.uint32(34).string(t.targetLanguage),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=g2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 3:if(r!==26)break;o.params=l0.decode(i,i.uint32());continue;case 2:if(r!==18)break;o.commentId=i.string();continue;case 4:if(r!==34)break;o.targetLanguage=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function w2(){return{comment:void 0}}s(w2,"createBasePeformCommentActionParams_TranslateCommentParams_Params");var l0={encode(t,e=new N){return t.comment!==void 0&&p0.encode(t.comment,e.uint32(10).fork()).join(),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=w2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.comment=p0.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function v2(){return{text:""}}s(v2,"createBasePeformCommentActionParams_TranslateCommentParams_Params_Comment");var p0={encode(t,e=new N){return t.text!==""&&e.uint32(10).string(t.text),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=v2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.text=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function T2(){return{params:void 0}}s(T2,"createBaseHashtag");var g0={encode(t,e=new N){return t.params!==void 0&&f0.encode(t.params,e.uint32(746).fork()).join(),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=T2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 93:if(r!==746)break;o.params=f0.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function k2(){return{hashtag:"",type:0}}s(k2,"createBaseHashtag_Params");var f0={encode(t,e=new N){return t.hashtag!==""&&e.uint32(10).string(t.hashtag),t.type!==0&&e.uint32(24).int32(t.type),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=k2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.hashtag=i.string();continue;case 3:if(r!==24)break;o.type=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function I2(){return{shortId:"",params:void 0,feature2:0,feature3:0}}s(I2,"createBaseReelSequence");var w0={encode(t,e=new N){return t.shortId!==""&&e.uint32(10).string(t.shortId),t.params!==void 0&&d0.encode(t.params,e.uint32(42).fork()).join(),t.feature2!==0&&e.uint32(80).int32(t.feature2),t.feature3!==0&&e.uint32(104).int32(t.feature3),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=I2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.shortId=i.string();continue;case 5:if(r!==42)break;o.params=d0.decode(i,i.uint32());continue;case 10:if(r!==80)break;o.feature2=i.int32();continue;case 13:if(r!==104)break;o.feature3=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function S2(){return{number:0}}s(S2,"createBaseReelSequence_Params");var d0={encode(t,e=new N){return t.number!==0&&e.uint32(24).int32(t.number),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=S2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 3:if(r!==24)break;o.number=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function E2(){return{videoId:[]}}s(E2,"createBaseNextParams");var v0={encode(t,e=new N){for(let i of t.videoId)e.uint32(42).string(i);return e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=E2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 5:if(r!==42)break;o.videoId.push(i.string());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function C2(t,e){let i=Xw.encode({id:t,timestamp:e});return encodeURIComponent(Ie(i.finish()).replace(/\+/g,"-").replace(/\//g,"_"))}s(C2,"encodeVisitorData");function N2(t){return Xw.decode(Zw(decodeURIComponent(t).replace(/-/g,"+").replace(/_/g,"/")))}s(N2,"decodeVisitorData");function Fn(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let n=y0.encode(i);return encodeURIComponent(Ie(n.finish()))}s(Fn,"encodeCommentActionParams");function P2(t){let e=v0.encode({videoId:t});return encodeURIComponent(Ie(e.finish()).replace(/\+/g,"-").replace(/\//g,"_"))}s(P2,"encodeNextParams");var ea=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new c(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new m(e.navigationEndpoint||e.serviceEndpoint||e.command)}};s(ea,"Button");ea.type="Button";var I=ea;var ta=class extends a{constructor(e){var i;super(),this.label=new c(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new m(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new c(e.descriptionText))}};s(ta,"DropdownItem");ta.type="DropdownItem";var w_=ta;var ia=class extends a{constructor(e){super(),this.label=e.label||"",this.entries=u.parseArray(e.entries,w_)}};s(ia,"Dropdown");ia.type="Dropdown";var Yi=ia;var na=class extends a{constructor(e){super(),this.title=new c(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=u.parseItem(e.privacyOption,Yi),this.create_button=u.parseItem(e.cancelButton,I),this.cancel_button=u.parseItem(e.cancelButton,I)}};s(na,"CreatePlaylistDialog");na.type="CreatePlaylistDialog";var v_=na;var oa=class extends a{constructor(e){super(),this.popup=u.parseItem(e.popup),this.popup_type=e.popupType}};s(oa,"OpenPopupAction");oa.type="OpenPopupAction";var T_=oa;var Wn=class extends a{constructor(e){var n,o,r,l,f,d,x,b;super(),e&&(e.innertubeCommand||e.command)&&(e=e.innertubeCommand||e.command),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new T_(e.openPopupAction));let i=Object.keys(e||{}).find(g=>g.endsWith("Endpoint")||g.endsWith("Command"));this.payload=i?Reflect.get(e,i):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=u.parseItem(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=u.parseItem(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new Wn(this.payload.nextEndpoint)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},(o=(n=e==null?void 0:e.commandMetadata)==null?void 0:n.webCommandMetadata)!=null&&o.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),(l=(r=e==null?void 0:e.commandMetadata)==null?void 0:r.webCommandMetadata)!=null&&l.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),(d=(f=e==null?void 0:e.commandMetadata)==null?void 0:f.webCommandMetadata)!=null&&d.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):i&&(this.metadata.api_url=this.getEndpoint(i)),(b=(x=e==null?void 0:e.commandMetadata)==null?void 0:x.webCommandMetadata)!=null&&b.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=u.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,v_))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":case"reelWatchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"/live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,{...this.payload,...i})}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};s(Wn,"NavigationEndpoint");Wn.type="NavigationEndpoint";var m=Wn;var y=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){if(!e)return[];let i;return e.thumbnails?i=e.thumbnails:e.sources&&(i=e.sources),i?i.map(n=>new y(n)).sort((n,o)=>o.width-n.width):[]}};s(y,"Thumbnail");var Fi=class{constructor(e){var i,n,o,r,l,f;this.text=((i=e.emoji)==null?void 0:i.emojiId)||((o=(n=e.emoji)==null?void 0:n.shortcuts)==null?void 0:o[0])||e.text||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((r=e.emoji)==null?void 0:r.shortcuts)||[],search_terms:((l=e.emoji)==null?void 0:l.searchTerms)||[],image:y.fromResponse(e.emoji.image),is_custom:!!((f=e.emoji)!=null&&f.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=k_(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};s(Fi,"EmojiRun");var Wi=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new m(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let i=k_(this.text),o=`<span style="white-space: pre-wrap;">${e.map(r=>`<${r}>`).join("")+i+e.map(r=>`</${r}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:r}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let l=this.endpoint.toURL();if(l)return`<a href="${l}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${r}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${o}</a>`}}if(this.endpoint){let r=this.endpoint.toURL();if(r)return`<a href="${r}">${o}</a>`}return o}};s(Wi,"TextRun");function k_(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}s(k_,"escape");var ra="Text",c=class{constructor(e){var i,n,o,r;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(l=>l.emoji?new Fi(l):new Wi(l)),this.text=this.runs.map(l=>l.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new m(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new m(e.titleNavigationEndpoint)),this.endpoint||(n=(i=this.runs)==null?void 0:i[0])!=null&&n.endpoint&&(this.endpoint=(r=(o=this.runs)==null?void 0:o[0])==null?void 0:r.endpoint)}static fromAttributed(e){var f,d,x;let{content:i,styleRuns:n,commandRuns:o,attachmentRuns:r}=e,l=[{text:i,startIndex:0}];if(n||o||r){if(n)for(let b of n)if(b.italic||b.strikethrough==="LINE_STYLE_SINGLE"||b.weightLabel==="FONT_WEIGHT_MEDIUM"||b.weightLabel==="FONT_WEIGHT_BOLD"){let g=ev(l,b);if(!g){L.warn(ra,"Unable to find matching run for style run. Skipping...",{style_run:b,input_data:e,parsed_runs:JSON.parse(JSON.stringify(l))});continue}I_(l,g,b,{bold:b.weightLabel==="FONT_WEIGHT_MEDIUM"||b.weightLabel==="FONT_WEIGHT_BOLD",italics:b.italic,strikethrough:b.strikethrough==="LINE_STYLE_SINGLE"})}else L.debug(ra,"Skipping style run as it is doesn't have any information that we parse.",{style_run:b,input_data:e});if(o)for(let b of o)if(b.onTap){let g=ev(l,b);if(!g){L.warn(ra,"Unable to find matching run for command run. Skipping...",{command_run:b,input_data:e,parsed_runs:JSON.parse(JSON.stringify(l))});continue}I_(l,g,b,{navigationEndpoint:b.onTap})}else L.debug(ra,'Skipping command run as it is missing the "doTap" property.',{command_run:b,input_data:e});if(r)for(let b of r){let g=ev(l,b);if(!g){L.warn(ra,"Unable to find matching run for attachment run. Skipping...",{attachment_run:b,input_data:e,parsed_runs:JSON.parse(JSON.stringify(l))});continue}if(b.length===0)g.attachment=b;else{let w=b.startIndex-g.startIndex,T=g.text.substring(w,w+b.length),S=/^:[^:]+:$/.test(T);if(((x=(d=(f=b.element)==null?void 0:f.type)==null?void 0:d.imageType)==null?void 0:x.image)&&(S||/^(?:\p{Emoji}|\u200d)+$/u.test(T))){let E={image:b.element.type.imageType.image,isCustomEmoji:S,shortcuts:S?[T]:void 0};I_(l,g,b,{emoji:E})}else I_(l,g,b,{attachment:b})}}}return new c({runs:l})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};s(c,"Text");function ev(t,e){return t.find(i=>i.startIndex<=e.startIndex&&e.startIndex+e.length<=i.startIndex+i.text.length)}s(ev,"findMatchingRun");function I_(t,e,i,n){let o=t.indexOf(e),r=[],l=i.startIndex-e.startIndex;i.startIndex>e.startIndex&&r.push({...e,text:e.text.substring(0,l)}),r.push({...e,text:e.text.substring(l,l+i.length),startIndex:i.startIndex,...n}),i.startIndex+i.length<e.startIndex+e.text.length&&r.push({...e,text:e.text.substring(l+i.length),startIndex:i.startIndex+i.length}),t.splice(o,1,...r)}s(I_,"insertSubRun");var sa=class extends a{constructor(e){super(),this.title=c.fromAttributed(e.title),this.link=c.fromAttributed(e.link),this.favicon=y.fromResponse(e.favicon)}};s(sa,"ChannelExternalLinkView");sa.type="ChannelExternalLinkView";var S_=sa;var aa=class extends a{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=c.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=c.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=c.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=c.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new m(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=c.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=u.parseArray(e.links,S_):this.links=[]}};s(aa,"AboutChannelView");aa.type="AboutChannelView";var E_=aa;var ca=class extends a{constructor(e){super(),this.metadata=u.parseItem(e.metadata,E_),this.share_channel=u.parseItem(e.shareChannel,I)}};s(ca,"AboutChannel");ca.type="AboutChannel";var C_=ca;var ua=class extends a{constructor(e){super(),this.title=new c(e.title),this.endpoint=new m(e.navigationEndpoint)}};s(ua,"AccountChannel");ua.type="AccountChannel";var N_=ua;var la=class extends a{constructor(e){super(),this.account_name=new c(e.accountName),this.account_photo=y.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new m(e.serviceEndpoint),this.account_byline=new c(e.accountByline)}};s(la,"AccountItem");la.type="AccountItem";var P_=la;var pa=class extends a{constructor(e){super(),this.title=new c(e.title)}};s(pa,"AccountItemSectionHeader");pa.type="AccountItemSectionHeader";var R_=pa;var fa=class extends a{constructor(e){super(),this.title=new c(e.title).toString(),this.endpoint=new m(e.navigationEndpoint),this.style=e.style}};s(fa,"CompactLink");fa.type="CompactLink";var ji=fa;var da=class extends a{constructor(e){super(),this.contents=u.parseArray(e.contents,[P_,ji]),this.header=u.parseItem(e.header,R_)}};s(da,"AccountItemSection");da.type="AccountItemSection";var A_=da;var ha=class extends a{constructor(e){super(),this.contents=u.parseArray(e.contents,A_),this.footers=u.parseArray(e.footers,N_)}};s(ha,"AccountSectionList");ha.type="AccountSectionList";var M_=ha;var ma=class extends a{constructor(e){super(),this.contents=u.parseArray(e.continuationItems),this.target=e.target}};s(ma,"AppendContinuationItemsAction");ma.type="AppendContinuationItemsAction";var jn=ma;var _a=class extends a{constructor(e){super(),this.header=u.parseItem(e.header),this.sections=u.parseArray(e.sections),this.style=e.style}};s(_a,"MultiPageMenu");_a.type="MultiPageMenu";var D_=_a;var ba=class extends a{constructor(e){super(),this.menu=u.parseItem(e.menu,D_)}};s(ba,"GetMultiPageMenuAction");ba.type="GetMultiPageMenuAction";var T0=ba;var xa=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var n,o;return{title:i.title,selected:i.selected,continuation:(o=(n=i.continuation)==null?void 0:n.reloadContinuationData)==null?void 0:o.continuation,endpoint:new m(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};s(xa,"SortFilterSubMenu");xa.type="SortFilterSubMenu";var Dt=xa;var ya=class extends a{constructor(e){super(),this.language_menu=u.parseItem(e.languageMenu,Dt)}};s(ya,"TranscriptFooter");ya.type="TranscriptFooter";var L_=ya;var ga=class extends a{constructor(e){super(),this.formatted_placeholder=new c(e.formattedPlaceholder),this.clear_button=u.parseItem(e.clearButton,I),this.endpoint=new m(e.onTextChangeCommand),this.search_button=u.parseItem(e.searchButton,I)}};s(ga,"TranscriptSearchBox");ga.type="TranscriptSearchBox";var O_=ga;var wa=class extends a{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new c(e.snippet)}};s(wa,"TranscriptSectionHeader");wa.type="TranscriptSectionHeader";var B_=wa;var va=class extends a{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new c(e.snippet),this.start_time_text=new c(e.startTimeText),this.target_id=e.targetId}};s(va,"TranscriptSegment");va.type="TranscriptSegment";var U_=va;var Ta=class extends a{constructor(e){super(),this.initial_segments=u.parseArray(e.initialSegments,[U_,B_]),this.no_result_label=new c(e.noResultLabel),this.retry_label=new c(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};s(Ta,"TranscriptSegmentList");Ta.type="TranscriptSegmentList";var V_=Ta;var ka=class extends a{constructor(e){super(),this.header=u.parseItem(e.header,O_),this.body=u.parseItem(e.body,V_),this.footer=u.parseItem(e.footer,L_),this.target_id=e.targetId}};s(ka,"TranscriptSearchPanel");ka.type="TranscriptSearchPanel";var Y_=ka;var Ia=class extends a{constructor(e){super(),this.content=u.parseItem(e.content,Y_)}};s(Ia,"Transcript");Ia.type="Transcript";var zo=Ia;var Sa=class extends a{constructor(e){super(),this.target_id=e.targetId,this.content=u.parseItem(e.content,zo)}};s(Sa,"UpdateEngagementPanelAction");Sa.type="UpdateEngagementPanelAction";var k0=Sa;var Ea=class extends a{constructor(e){super(),this.text=new c(e.text),this.alert_type=e.type}};s(Ea,"Alert");Ea.type="Alert";var Jo=Ea;var Ca=class extends a{constructor(e){super(),this.text=new c(e.text),this.alert_type=e.type,this.dismiss_button=u.parseItem(e.dismissButton,I)}};s(Ca,"AlertWithButton");Ca.type="AlertWithButton";var F_=Ca;var Na=class extends a{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let i=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:i.linesData[0].x,y:i.linesData[0].y,style:{line_width:i.linesData[0].style.lineWidth,line_color:i.linesData[0].style.lineColor}},domain_axis:{tick_values:i.domainAxis.tickValues,custom_formatter:i.domainAxis.customFormatter},measure_axis:{tick_values:i.measureAxis.tickValues,custom_formatter:i.measureAxis.customFormatter}}}}};s(Na,"DataModelSection");Na.type="DataModelSection";var W_=Na;var Pa=class extends a{constructor(e){super(),this.period=e.cardData.periodLabel;let i=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=i.dataModel.sections.map(n=>new W_(n))}};s(Pa,"AnalyticsMainAppKeyMetrics");Pa.type="AnalyticsMainAppKeyMetrics";var I0=Pa;var Ra=class extends a{constructor(e){super();let i=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=i.map(n=>({title:n.cardData.title,rows:n.cardData.rows.map(o=>({label:o.label,display_value:o.displayValue,display_value_a11y:o.displayValueA11y,bar_ratio:o.barRatio,bar_color:o.barColor,bar_opacity:o.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};s(Ra,"AnalyticsRoot");Ra.type="AnalyticsRoot";var S0=Ra;var Aa=class extends a{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(i=>({description:i.shortsDescription,thumbnail_url:i.thumbnailUrl,endpoint:new m(i.videoEndpoint)}))}};s(Aa,"AnalyticsShortsCarouselCard");Aa.type="AnalyticsShortsCarouselCard";var E0=Aa;var Ma=class extends a{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:y.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};s(Ma,"AnalyticsVideo");Ma.type="AnalyticsVideo";var j_=Ma;var Da=class extends a{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(i=>new j_(i)))}};s(Da,"AnalyticsVodCarouselCard");Da.type="AnalyticsVodCarouselCard";var C0=Da;var La=class extends a{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};s(La,"CtaGoToCreatorStudio");La.type="CtaGoToCreatorStudio";var N0=La;var Oa=class extends a{constructor(e){super(),this.title=new c(e.title),this.contents=new c(e.contents)}};s(Oa,"StatRow");Oa.type="StatRow";var P0=Oa;var Ba=class extends a{constructor(e){super(),this.text=c.fromAttributed(e.text),this.suffix=c.fromAttributed(e.suffix)}};s(Ba,"AttributionView");Ba.type="AttributionView";var H_=Ba;var Ua=class extends a{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};s(Ua,"AudioOnlyPlayability");Ua.type="AudioOnlyPlayability";var G_=Ua;var Va=class extends a{constructor(e){var i,n;super(),(n=(i=e==null?void 0:e.content)==null?void 0:i.automixPlaylistVideoRenderer)!=null&&n.navigationEndpoint&&(this.playlist_video={endpoint:new m(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};s(Va,"AutomixPreviewVideo");Va.type="AutomixPreviewVideo";var Hi=Va;var Ya=class extends a{constructor(e){super(),this.image=y.fromResponse(e.image),this.image_processor={border_image_processor:{circular:e.image.processor.borderImageProcessor.circular}},this.avatar_image_size=e.avatarImageSize}};s(Ya,"AvatarView");Ya.type="AvatarView";var K_=Ya;var Fa=class extends a{constructor(e){super(),this.image=y.fromResponse(e.image),this.endpoint=new m(e.command)}};s(Fa,"BackstageImage");Fa.type="BackstageImage";var $_=Fa;var Wa=class extends a{constructor(e){var n,o,r,l,f,d,x,b,g;super(),this.text=new c(e.defaultText),this.toggled_text=new c(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(n=e.defaultIcon)==null?void 0:n.iconType;let i=((l=(r=(o=e==null?void 0:e.defaultText)==null?void 0:o.accessibility)==null?void 0:r.accessibilityData)==null?void 0:l.label)||((d=(f=e==null?void 0:e.accessibilityData)==null?void 0:f.accessibilityData)==null?void 0:d.label)||((x=e==null?void 0:e.accessibility)==null?void 0:x.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(i.replace(/\D/g,"")),this.short_like_count=new c(e.defaultText).toString()),this.endpoint=(g=(b=e.defaultServiceEndpoint)==null?void 0:b.commandExecutorCommand)!=null&&g.commands?new m(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new m(e.defaultServiceEndpoint),this.toggled_endpoint=new m(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};s(Wa,"ToggleButton");Wa.type="ToggleButton";var ge=Wa;var ja=class extends a{constructor(e){var i,n;super(),this.creator_thumbnail=y.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(n=(i=e.heartColor)==null?void 0:i.basicColorPaletteData)==null?void 0:n.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};s(ja,"CreatorHeart");ja.type="CreatorHeart";var q_=ja;var Ha=class extends a{constructor(e){super(),this.like_button=u.parseItem(e.likeButton,ge),this.dislike_button=u.parseItem(e.dislikeButton,ge),this.reply_button=u.parseItem(e.replyButton,I),this.creator_heart=u.parseItem(e.creatorHeart,q_)}};s(Ha,"CommentActionButtons");Ha.type="CommentActionButtons";var Xo=Ha;var Ga=class extends a{constructor(e){super(),this.icon_name=e.iconName,this.title=e.title,this.accessibility_text=e.accessibilityText,this.style=e.style,this.is_full_width=e.isFullWidth,this.button_type=e.type,this.button_size=e.buttonSize,this.on_tap=new m(e.onTap)}};s(Ga,"ButtonView");Ga.type="ButtonView";var bt=Ga;var Ka=class extends a{constructor(e){super(),this.default_button=u.parseItem(e.defaultButtonViewModel,bt),this.toggled_button=u.parseItem(e.toggledButtonViewModel,bt),this.identifier=e.identifier,this.is_toggling_disabled=e.isTogglingDisabled}};s(Ka,"ToggleButtonView");Ka.type="ToggleButtonView";var Gi=Ka;var $a=class extends a{constructor(e){super(),this.toggle_button=u.parseItem(e.toggleButtonViewModel,Gi),this.like_status_entity_key=e.likeStatusEntityKey,this.like_status_entity={key:e.likeStatusEntity.key,like_status:e.likeStatusEntity.likeStatus}}};s($a,"LikeButtonView");$a.type="LikeButtonView";var z_=$a;var qa=class extends a{constructor(e){super(),this.toggle_button=u.parseItem(e.toggleButtonViewModel,Gi),this.dislike_entity_key=e.dislikeEntityKey}};s(qa,"DislikeButtonView");qa.type="DislikeButtonView";var J_=qa;var za=class extends a{constructor(e){if(super(),this.like_button=u.parseItem(e.likeButtonViewModel,z_),this.dislike_button=u.parseItem(e.dislikeButtonViewModel,J_),this.icon_type=e.iconType,this.like_button&&this.like_button.toggle_button){let i=this.like_button.toggle_button;i.default_button?(this.short_like_count=i.default_button.title,this.like_count=parseInt(i.default_button.accessibility_text.replace(/\D/g,""))):i.toggled_button&&(this.short_like_count=i.toggled_button.title,this.like_count=parseInt(i.toggled_button.accessibility_text.replace(/\D/g,"")))}this.like_count_entity={key:e.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:e.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:e.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:e.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:e.dynamicLikeCountUpdateData.updateDelaySec}}};s(za,"SegmentedLikeDislikeButtonView");za.type="SegmentedLikeDislikeButtonView";var gi=za;var Ja=class extends a{constructor(e){super(),this.items=u.parseArray(e.items),this.top_level_buttons=u.parseArray(e.topLevelButtons,[I,bt,gi]),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};s(Ja,"Menu");Ja.type="Menu";var U=Ja;var Xa=class extends a{constructor(e){super(),this.id=e.postId,this.author=new A({...e.authorText,navigationEndpoint:e.authorEndpoint},null,e.authorThumbnail),this.content=new c(e.contentText),this.published=new c(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new c(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=u.parseItem(e.actionMenu,U)),Reflect.has(e,"actionButtons")&&(this.action_buttons=u.parseItem(e.actionButtons,Xo)),Reflect.has(e,"voteButton")&&(this.vote_button=u.parseItem(e.voteButton,I)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new m(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=u.parseItem(e.backstageAttachment)),this.surface=e.surface}};s(Xa,"BackstagePost");Xa.type="BackstagePost";var Ki=Xa;var Za=class extends a{constructor(e){super(),this.post=u.parseItem(e.post)}};s(Za,"BackstagePostThread");Za.type="BackstagePostThread";var R0=Za;var $i=class extends a{constructor(e){super(),this.text=e.badgeText,this.style=e.badgeStyle,this.accessibility_label=e.accessibilityLabel}};s($i,"BadgeView");var Qa=class extends a{constructor(e){super(),this.contents=u.parseArray(e.contents)}};s(Qa,"BrowseFeedActions");Qa.type="BrowseFeedActions";var X_=Qa;var ec=class extends a{constructor(e){super(),this.album=new c(e.album),this.thumbnails=y.fromResponse(e.thumbnailDetails)}};s(ec,"BrowserMediaSession");ec.type="BrowserMediaSession";var A0=ec;var Zo=class extends a{constructor(e){super(),this.endpoint=new m(e.navigationEndpoint),this.icon=y.fromResponse(e.icon),this.title=new c(e.title)}};s(Zo,"HeaderLink");Zo.type="HeaderLink";var tc=class extends a{constructor(e){var i,n;super(),this.primary=j(((i=e.primaryLinks)==null?void 0:i.map(o=>new Zo(o)))||[]),this.secondary=j(((n=e.secondaryLinks)==null?void 0:n.map(o=>new Zo(o)))||[])}};s(tc,"ChannelHeaderLinks");tc.type="ChannelHeaderLinks";var Z_=tc;var ic=class extends a{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=c.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=c.fromAttributed(e.more))}};s(ic,"ChannelHeaderLinksView");ic.type="ChannelHeaderLinksView";var Q_=ic;var nc=class extends a{constructor(e){super(),this.placeholder_text=new c(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};s(nc,"ClipCreationTextInput");nc.type="ClipCreationTextInput";var eb=nc;var oc=class extends a{constructor(e){var i,n,o,r,l,f;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(n=(i=e.startAccessibility)==null?void 0:i.accessibilityData)==null?void 0:n.label,this.end_label=(r=(o=e.endAccessibility)==null?void 0:o.accessibilityData)==null?void 0:r.label,this.duration_label=(f=(l=e.durationAccessibility)==null?void 0:l.accessibilityData)==null?void 0:f.label}};s(oc,"ClipCreationScrubber");oc.type="ClipCreationScrubber";var tb=oc;var rc=class extends a{constructor(e){super(),this.title=new c(e.title),this.body=new c(e.body)}};s(rc,"ClipAdState");rc.type="ClipAdState";var ib=rc;var sc=class extends a{constructor(e){super(),this.user_avatar=y.fromResponse(e.userAvatar),this.title_input=u.parseItem(e.titleInput,[eb]),this.scrubber=u.parseItem(e.scrubber,[tb]),this.save_button=u.parseItem(e.saveButton,[I]),this.display_name=new c(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=u.parseItem(e.cancelButton,[I]),this.ad_state_overlay=u.parseItem(e.adStateOverlay,[ib]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};s(sc,"ClipCreation");sc.type="ClipCreation";var nb=sc;var ac=class extends a{constructor(e){super(),this.contents=u.parse(e.contents,!0,[nb])}};s(ac,"ClipSection");ac.type="ClipSection";var ob=ac;var cc=class extends a{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=u.parseItem(e.button,I)),this.endpoint=new m(e.continuationEndpoint)}};s(cc,"ContinuationItem");cc.type="ContinuationItem";var se=cc;var uc=class extends a{constructor(e){super(),this.title=new c(e.title),this.visibility_button=u.parseItem(e.visibilityButton,I)}};s(uc,"EngagementPanelTitleHeader");uc.type="EngagementPanelTitleHeader";var rb=uc;var lc=class extends a{constructor(e){super(),this.info_text=new c(e.infoText),this.menu=u.parseItem(e.menu,U)}};s(lc,"MacroMarkersInfoItem");lc.type="MacroMarkersInfoItem";var sb=lc;var pc=class extends a{constructor(e){super(),this.title=new c(e.title),this.time_description=new c(e.timeDescription),this.thumbnail=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new m(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};s(pc,"MacroMarkersListItem");pc.type="MacroMarkersListItem";var Qo=pc;var fc=class extends a{constructor(e){super(),this.contents=u.parseArray(e.contents,[sb,Qo]),this.sync_button_label=new c(e.syncButtonLabel)}};s(fc,"MacroMarkersList");fc.type="MacroMarkersList";var ab=fc;var dc=class extends a{constructor(e){super(),this.contents=u.parseArray(e.contents)}};s(dc,"ProductList");dc.type="ProductList";var cb=dc;var hc=class extends a{constructor(e){super(),this.contents=u.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=u.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=u.parseItem(e.subMenu))}};s(hc,"SectionList");hc.type="SectionList";var G=hc;var mc=class extends a{constructor(e){var i;super(),this.show_more_text=new c(e.showMoreText),this.show_less_text=new c(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=(i=e.attributedDescriptionBodyText)==null?void 0:i.content)}};s(mc,"ExpandableVideoDescriptionBody");mc.type="ExpandableVideoDescriptionBody";var ub=mc;var _c=class extends a{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.endpoint=new m(e.searchEndpoint),this.query=new c(e.query).toString()}};s(_c,"SearchRefinementCard");_c.type="SearchRefinementCard";var Hn=_c;var bc=class extends a{constructor(e){super(),this.game=u.parseItem(e.game)}};s(bc,"GameCard");bc.type="GameCard";var lb=bc;var xc=class extends a{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=u.parseArray(e.items)}get contents(){return this.items}};s(xc,"HorizontalList");xc.type="HorizontalList";var pb=xc;var yc=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new c(e.header.collapsedTitle),collapsed_thumbnail:y.fromResponse(e.header.collapsedThumbnail),collapsed_label:new c(e.header.collapsedLabel),expanded_title:new c(e.header.expandedTitle)}),this.expanded_content=u.parseItem(e.expandedContent,[qi,pb]),this.expand_button=u.parseItem(e.expandButton,I),this.collapse_button=u.parseItem(e.collapseButton,I)}};s(yc,"ExpandableMetadata");yc.type="ExpandableMetadata";var fb=yc;var gc=class extends a{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};s(gc,"MetadataBadge");gc.type="MetadataBadge";var Qe=gc;var wc=class extends a{constructor(e){super(),this.text=new c(e.text).toString(),this.style=e.style}};s(wc,"ThumbnailOverlayTimeStatus");wc.type="ThumbnailOverlayTimeStatus";var Gn=wc;var vc=class extends a{constructor(e){var n,o,r;super();let i=((n=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))==null?void 0:n.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new c(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new c(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(l=>({text:new c(l.snippetText),hover_text:new c(l.snippetHoverText)}))),this.expandable_metadata=u.parseItem(e.expandableMetadata,fb),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=u.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=u.parseItem(e.richThumbnail)),this.author=new A(e.ownerText,e.ownerBadges,(r=(o=e.channelThumbnailSupportedRenderers)==null?void 0:o.channelThumbnailWithLinkRenderer)==null?void 0:r.thumbnail),this.badges=u.parseArray(e.badges,Qe),this.endpoint=new m(e.navigationEndpoint),this.published=new c(e.publishedTimeText),this.view_count=new c(e.viewCountText),this.short_view_count=new c(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new c(e.lengthText).toString():new c(i).toString(),seconds:Pe(e.lengthText?new c(e.lengthText).toString():new c(i).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=u.parseItem(e.menu,U),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)==null?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(Gn))==null?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};s(vc,"Video");vc.type="Video";var er=vc;var Tc=class extends er{constructor(e){super(e)}};s(Tc,"VideoCard");Tc.type="VideoCard";var db=Tc;var kc=class extends a{constructor(e){super(),this.image=y.fromResponse(e.image),this.style=e.style}};s(kc,"ContentPreviewImageView");kc.type="ContentPreviewImageView";var tr=kc;var Ic=class extends a{constructor(e){var i;super(),(i=e.image)!=null&&i.sources?this.image=y.fromResponse(e.image):this.image=u.parseItem(e.image,tr),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,this.secondary_subtitle={content:e.secondarySubtitle.content},this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new m(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};s(Ic,"VideoAttributeView");Ic.type="VideoAttributeView";var zi=Ic;var Sc=class extends a{constructor(e){super(),this.cards=u.parseArray(e.cards,[zi,Hn,Qo,lb,db]),this.header=u.parseItem(e.header),this.previous_button=u.parseItem(e.previousButton,I),this.next_button=u.parseItem(e.nextButton,I)}};s(Sc,"HorizontalCardList");Sc.type="HorizontalCardList";var qi=Sc;var Ec=class extends a{constructor(e){super(),this.label=new c(e.label),this.value=new c(e.value),this.accessibility_text=e.accessibilityText}};s(Ec,"Factoid");Ec.type="Factoid";var Ji=Ec;var Cc=class extends a{constructor(e){super(),this.factoid=u.parseItem(e.factoid,Ji)}};s(Cc,"UploadTimeFactoid");Cc.type="UploadTimeFactoid";var hb=Cc;var Nc=class extends a{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=u.parseItem(e.factoid,[Ji]),this.view_count_type=e.viewCountType}};s(Nc,"ViewCountFactoid");Nc.type="ViewCountFactoid";var mb=Nc;var Pc=class extends a{constructor(e){super(),this.title=new c(e.title),this.channel=new c(e.channel),this.channel_navigation_endpoint=new m(e.channelNavigationEndpoint),this.channel_thumbnail=y.fromResponse(e.channelThumbnail),this.publish_date=new c(e.publishDate),this.views=new c(e.views),this.factoids=u.parseArray(e.factoid,[Ji,mb,hb])}};s(Pc,"VideoDescriptionHeader");Pc.type="VideoDescriptionHeader";var _b=Pc;var Rc=class extends a{constructor(e){super(),this.section_title=new c(e.sectionTitle),this.creator_videos_button=u.parseItem(e.creatorVideosButton,I),this.creator_about_button=u.parseItem(e.creatorAboutButton,I),this.section_subtitle=new c(e.sectionSubtitle),this.channel_avatar=y.fromResponse(e.channelAvatar),this.channel_endpoint=new m(e.channelEndpoint)}};s(Rc,"VideoDescriptionInfocardsSection");Rc.type="VideoDescriptionInfocardsSection";var bb=Rc;var Ac=class extends a{constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new c(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new c(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};s(Ac,"InfoRow");Ac.type="InfoRow";var xb=Ac;var Mc=class extends a{constructor(e){super(),this.id=e.videoId,this.thumbnails=y.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=u.parseItem(e.richThumbnail)),this.title=new c(e.title),this.author=new A(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new c(e.viewCountText),this.short_view_count=new c(e.shortViewCountText),this.published=new c(e.publishedTimeText),this.badges=u.parseArray(e.badges,Qe),this.duration={text:new c(e.lengthText).toString(),seconds:Pe(new c(e.lengthText).toString())},this.thumbnail_overlays=u.parseArray(e.thumbnailOverlays),this.endpoint=new m(e.navigationEndpoint),this.menu=u.parseItem(e.menu,U)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};s(Mc,"CompactVideo");Mc.type="CompactVideo";var ir=Mc;var Dc=class extends a{constructor(e){super(),this.info_rows=u.parseArray(e.infoRows,xb),this.video_lockup=u.parseItem(e.videoLockup,ir)}};s(Dc,"CarouselLockup");Dc.type="CarouselLockup";var yb=Dc;var Lc=class extends a{constructor(e){super(),this.carousel_lockups=u.parseArray(e.carouselLockups,yb),this.section_title=new c(e.sectionTitle)}};s(Lc,"VideoDescriptionMusicSection");Lc.type="VideoDescriptionMusicSection";var nr=Lc;var Oc=class extends a{constructor(e){super(),this.section_title=new c(e.sectionTitle),this.sub_header_text=new c(e.subHeaderText),this.primary_button=u.parseItem(e.primaryButton,I)}};s(Oc,"VideoDescriptionTranscriptSection");Oc.type="VideoDescriptionTranscriptSection";var Bc=Oc;var Uc=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new c(e.title),this.short_byline_text=new c(e.shortBylineText),this.video_count_short_text=new c(e.videoCountShortText),this.endpoint=new m(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};s(Uc,"StructuredDescriptionPlaylistLockup");Uc.type="StructuredDescriptionPlaylistLockup";var gb=Uc;var Vc=class extends a{constructor(e){super(),this.section_title=new c(e.sectionTitle),this.media_lockups=u.parseArray(e.mediaLockups,[gb])}};s(Vc,"VideoDescriptionCourseSection");Vc.type="VideoDescriptionCourseSection";var wb=Vc;var Yc=class extends a{constructor(e){super(),this.title=new c(e.title),this.items=u.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new m(e.endpoint))}get contents(){return this.items}};s(Yc,"ReelShelf");Yc.type="ReelShelf";var or=Yc;var Fc=class extends a{constructor(e){super(),this.header_title=e.headerTitle,this.header_subtitle=e.headerSubtitle,this.video_attributes=u.parseArray(e.videoAttributeViewModels,zi),this.previous_button=u.parseItem(e.previousButton,bt),this.next_button=u.parseItem(e.nextButton,bt)}};s(Fc,"VideoAttributesSectionView");Fc.type="VideoAttributesSectionView";var vb=Fc;var Wc=class extends a{constructor(e){super(),this.items=u.parseArray(e.items,[_b,ub,nr,bb,wb,Bc,Bc,qi,or,vb])}};s(Wc,"StructuredDescriptionContent");Wc.type="StructuredDescriptionContent";var Kn=Wc;var jc=class extends a{constructor(e){super(),this.header=u.parseItem(e.header,rb),this.content=u.parseItem(e.content,[zi,G,se,ob,Kn,ab,cb]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};s(jc,"EngagementPanelSectionList");jc.type="EngagementPanelSectionList";var Xi=jc;var Hc=class extends a{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:u.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,Xi),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new m(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};s(Hc,"ChannelTagline");Hc.type="ChannelTagline";var Tb=Hc;var Gc=class extends a{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:u.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};s(Gc,"SubscriptionNotificationToggleButton");Gc.type="SubscriptionNotificationToggleButton";var kb=Gc;var Kc=class extends a{constructor(e){var i,n;super(),this.title=new c(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new c(e.subscribedButtonText),this.unsubscribed_text=new c(e.unsubscribedButtonText),this.notification_preference_button=u.parseItem(e.notificationPreferenceButton,kb),this.endpoint=new m(((i=e.serviceEndpoints)==null?void 0:i[0])||((n=e.onSubscribeEndpoints)==null?void 0:n[0]))}};s(Kc,"SubscribeButton");Kc.type="SubscribeButton";var Re=Kc;var $c=class extends a{constructor(e){super(),this.author=new A({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=y.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=y.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=y.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new c(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new c(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=u.parseItem(e.sponsorButton,I)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=u.parseItem(e.subscribeButton,[Re,I])),Reflect.has(e,"headerLinks")&&(this.header_links=u.parseItem(e.headerLinks,[Z_,Q_])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new c(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=u.parseItem(e.tagline,Tb))}};s($c,"C4TabbedHeader");$c.type="C4TabbedHeader";var Zi=$c;var qc=class extends a{constructor(e){super(),this.label=new c(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};s(qc,"CallToActionButton");qc.type="CallToActionButton";var M0=qc;var zc=class extends a{constructor(e){super(),this.teaser=u.parseItem(e.teaser),this.content=u.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};s(zc,"Card");zc.type="Card";var D0=zc;var Jc=class extends a{constructor(e){super(),this.cards=u.parseArray(e.cards),this.header=new c(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};s(Jc,"CardCollection");Jc.type="CardCollection";var Ib=Jc;var Xc=class extends a{constructor(e){super(),this.contents=u.parseArray(e.contents)}};s(Xc,"CarouselHeader");Xc.type="CarouselHeader";var Sb=Xc;var Zc=class extends a{constructor(e){super(),this.items=u.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=y.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};s(Zc,"CarouselItem");Zc.type="CarouselItem";var L0=Zc;var Qi=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new A({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscriber_count=new c(e.subscriberCountText),this.video_count=new c(e.videoCountText),this.long_byline=new c(e.longBylineText),this.short_byline=new c(e.shortBylineText),this.endpoint=new m(e.navigationEndpoint),this.subscribe_button=u.parseItem(e.subscribeButton,[Re,I]),this.description_snippet=new c(e.descriptionSnippet)}get subscribers(){return L.warnOnce(Qi.type,"Channel#subscribers is deprecated. Please use Channel#subscriber_count instead."),this.subscriber_count}get videos(){return L.warnOnce(Qi.type,"Channel#videos is deprecated. Please use Channel#video_count instead."),this.video_count}};s(Qi,"Channel");Qi.type="Channel";var Eb=Qi;var en=class extends a{constructor(e){var i,n;super(),this.id=e.channelId,this.name=new c(e.title),this.avatar=y.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(n=(i=e.primaryLinks)==null?void 0:i.map(o=>({endpoint:new m(o.navigationEndpoint),icon:y.fromResponse(o.icon),title:new c(o.title)})))!=null?n:[],this.view_count=new c(e.viewCountText),this.joined_date=new c(e.joinedDateText),this.description=new c(e.description),this.email_reveal=new m(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new c(e.country),this.buttons=u.parseArray(e.actionButtons,I)}get views(){return L.warnOnce(en.type,"ChannelAboutFullMetadata#views is deprecated. Please use ChannelAboutFullMetadata#view_count instead."),this.view_count}get joined(){return L.warnOnce(en.type,"ChannelAboutFullMetadata#joined is deprecated. Please use ChannelAboutFullMetadata#joined_date instead."),this.joined_date}};s(en,"ChannelAboutFullMetadata");en.type="ChannelAboutFullMetadata";var Qc=en;var eu=class extends a{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=y.fromResponse(e.avatar),this.header=new c(e.header),this.main_text=new c(e.mainText),this.sign_in_button=u.parseItem(e.signInButton,I),this.secondary_text=new c(e.secondaryText)}};s(eu,"ChannelAgeGate");eu.type="ChannelAgeGate";var O0=eu;var tu=class extends a{constructor(e){super(),this.title=new c(e.title),this.items=u.parseArray(e.items)}};s(tu,"ChannelFeaturedContent");tu.type="ChannelFeaturedContent";var B0=tu;var iu=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=y.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};s(iu,"ChannelMetadata");iu.type="ChannelMetadata";var Cb=iu;var nu=class extends a{constructor(e){super(),this.title=new c(e.title)}};s(nu,"ChannelMobileHeader");nu.type="ChannelMobileHeader";var U0=nu;var ou=class extends a{constructor(e){super(),this.avatar=y.fromResponse(e.avatar),this.endpoint=new m(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new c(i))}};s(ou,"ChannelOptions");ou.type="ChannelOptions";var Nb=ou;var ru=class extends a{constructor(e){super(),this.illustration=y.fromResponse(e.illustration),this.description=new c(e.description)}};s(ru,"ChannelOwnerEmptyState");ru.type="ChannelOwnerEmptyState";var V0=ru;var su=class extends a{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new m(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=u.parseItem(e.sortSetting)}};s(su,"ChannelSubMenu");su.type="ChannelSubMenu";var au=su;var cu=class extends a{constructor(e){var i,n;super(),this.thumbnails=y.fromResponse(e.thumbnail),this.endpoint=new m(e.navigationEndpoint),this.label=(n=(i=e.accessibility)==null?void 0:i.accessibilityData)==null?void 0:n.label}};s(cu,"ChannelThumbnailWithLink");cu.type="ChannelThumbnailWithLink";var Y0=cu;var tn=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.description=new c(e.description),this.view_count=new c(e.viewCountText),this.published_time=new c(e.publishedTimeText)}get views(){return L.warnOnce(tn.type,"ChannelVideoPlayer#views is deprecated. Please use ChannelVideoPlayer#view_count instead."),this.view_count}get published(){return L.warnOnce(tn.type,"ChannelVideoPlayer#published is deprecated. Please use ChannelVideoPlayer#published_time instead."),this.published_time}};s(tn,"ChannelVideoPlayer");tn.type="ChannelVideoPlayer";var F0=tn;var uu=class extends a{constructor(e){super(),this.title=new c(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=y.fromResponse(e.thumbnail)}};s(uu,"Chapter");uu.type="Chapter";var Pb=uu;var lu=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.duration={text:e.lengthText.simpleText,seconds:Pe(e.lengthText.simpleText)},this.endpoint=new m(e.navigationEndpoint)}};s(lu,"ChildVideo");lu.type="ChildVideo";var W0=lu;var pu=class extends a{constructor(e){super(),this.text=e.text,this.display_type=e.displayType,this.endpoint=new m(e.tapCommand),this.chip_entity_key=e.chipEntityKey}};s(pu,"ChipView");pu.type="ChipView";var Rb=pu;var fu=class extends a{constructor(e){super(),this.chips=u.parseArray(e.chips,Rb)}};s(fu,"ChipBarView");fu.type="ChipBarView";var j0=fu;var du=class extends a{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new m(e.navigationEndpoint)),this.text=new c(e.text).toString()}};s(du,"ChipCloudChip");du.type="ChipCloudChip";var le=du;var hu=class extends a{constructor(e){super(),this.chips=u.parseArray(e.chips,le),this.next_button=u.parseItem(e.nextButton,I),this.previous_button=u.parseItem(e.previousButton,I),this.horizontal_scrollable=e.horizontalScrollable}};s(hu,"ChipCloud");hu.type="ChipCloud";var ct=hu;var mu=class extends a{constructor(e){super(),this.channel_avatar=y.fromResponse(e.channelAvatar),this.custom_text=new c(e.customText),this.channel_name=new c(e.channelName),this.subscriber_count=new c(e.subscriberCountText),this.endpoint=new m(e.endpoint)}};s(mu,"CollaboratorInfoCardContent");mu.type="CollaboratorInfoCardContent";var H0=mu;var _u=class extends a{constructor(e){super(),this.left=y.fromResponse(e.leftThumbnail),this.top_right=y.fromResponse(e.topRightThumbnail),this.bottom_right=y.fromResponse(e.bottomRightThumbnail),this.endpoint=new m(e.navigationEndpoint)}};s(_u,"CollageHeroImage");_u.type="CollageHeroImage";var G0=_u;var bu=class extends a{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=c.fromAttributed(e.text),this.style=e.style}};s(bu,"ThumbnailHoverOverlayView");bu.type="ThumbnailHoverOverlayView";var Ab=bu;var xu=class extends a{constructor(e){super(),this.text=e.text,this.badge_style=e.badgeStyle,e.backgroundColor&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme}),e.iconName&&(this.icon_name=e.icon.sources[0].clientResource.imageName)}};s(xu,"ThumbnailBadgeView");xu.type="ThumbnailBadgeView";var Mb=xu;var yu=class extends a{constructor(e){super(),this.badges=u.parseArray(e.thumbnailBadges,Mb),this.position=e.position}};s(yu,"ThumbnailOverlayBadgeView");yu.type="ThumbnailOverlayBadgeView";var Db=yu;var gu=class extends a{constructor(e){super(),this.image=y.fromResponse(e.image),this.overlays=u.parseArray(e.overlays,[Db,Ab]),e.backgroundColor&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme})}};s(gu,"ThumbnailView");gu.type="ThumbnailView";var Lb=gu;var wu=class extends a{constructor(e){super(),this.primary_thumbnail=u.parseItem(e.primaryThumbnail,Lb),e.stackColor&&(this.stack_color={light_theme:e.stackColor.lightTheme,dark_theme:e.stackColor.darkTheme})}};s(wu,"CollectionThumbnailView");wu.type="CollectionThumbnailView";var Ob=wu;var Bb,vu=class extends a{constructor(e){super(),Bb.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED",e.style="BADGE_STYLE_TYPE_VERIFIED"),k(this,Bb,e,"f")}get orig_badge(){return p(this,Bb,"f")}};s(vu,"AuthorCommentBadge");Bb=new WeakMap;vu.type="AuthorCommentBadge";var Ub=vu;var Tu=class extends a{constructor(e){super(),this.reply_button=u.parseItem(e.replyButton,I),this.cancel_button=u.parseItem(e.cancelButton,I),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.placeholder=new c(e.placeholderText),this.error_message=new c(e.errorMessage)}};s(Tu,"CommentReplyDialog");Tu.type="CommentReplyDialog";var rr=Tu;var ku=class extends a{constructor(e){var i,n;super(),this.text=new c(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)==null?void 0:i.backgroundColor,foreground_title_color:(n=e.chipColorPalette)==null?void 0:n.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};s(ku,"PdgCommentChip");ku.type="PdgCommentChip";var Vb=ku;var Iu=class extends a{constructor(e){super(),this.custom_badge=y.fromResponse(e.customBadge),this.tooltip=e.tooltip}};s(Iu,"SponsorCommentBadge");Iu.type="SponsorCommentBadge";var Yb=Iu;var Lt,Su=class extends a{constructor(e){var i,n,o,r,l,f,d;super(),Lt.set(this,void 0),this.content=new c(e.contentText),this.published=new c(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=y.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=u.parseItem(e.sponsorCommentBadge,Yb),this.paid_comment_chip=u.parseItem(e.paidCommentChipRenderer,Vb),this.author_badge=u.parseItem(e.authorCommentBadge,Ub),this.author=new A({...e.authorText,navigationEndpoint:e.authorEndpoint},this.author_badge?[{metadataBadgeRenderer:(i=this.author_badge)==null?void 0:i.orig_badge}]:null,e.authorThumbnail),this.action_menu=u.parseItem(e.actionMenu,U),this.action_buttons=u.parseItem(e.actionButtons,Xo),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new c(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!((o=(n=this.action_buttons)==null?void 0:n.like_button)!=null&&o.is_toggled),this.is_disliked=!!((l=(r=this.action_buttons)==null?void 0:r.dislike_button)!=null&&l.is_toggled),this.is_hearted=!!((d=(f=this.action_buttons)==null?void 0:f.creator_heart)!=null&&d.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}async like(){var n;if(!p(this,Lt,"f"))throw new _("An active caller must be provide to perform this operation.");let e=(n=this.action_buttons)==null?void 0:n.like_button;if(!e)throw new _("Like button was not found.",{comment_id:this.comment_id});if(e.is_toggled)throw new _("This comment is already liked",{comment_id:this.comment_id});return await e.endpoint.call(p(this,Lt,"f"),{parse:!1})}async dislike(){var n;if(!p(this,Lt,"f"))throw new _("An active caller must be provide to perform this operation.");let e=(n=this.action_buttons)==null?void 0:n.dislike_button;if(!e)throw new _("Dislike button was not found.",{comment_id:this.comment_id});if(e.is_toggled)throw new _("This comment is already disliked",{comment_id:this.comment_id});return await e.endpoint.call(p(this,Lt,"f"),{parse:!1})}async reply(e){var l,f,d;if(!p(this,Lt,"f"))throw new _("An active caller must be provide to perform this operation.");if(!((l=this.action_buttons)!=null&&l.reply_button))throw new _("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let i=(f=this.action_buttons)==null?void 0:f.reply_button;if(!((d=i.endpoint)!=null&&d.dialog))throw new _("Reply button endpoint did not have a dialog.");let o=i.endpoint.dialog.as(rr).reply_button;if(!o)throw new _("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!o.endpoint)throw new _("Reply button endpoint was not found.",{comment_id:this.comment_id});return await o.endpoint.call(p(this,Lt,"f"),{commentText:e})}async translate(e){var d,x,b,g,w,T;if(!p(this,Lt,"f"))throw new _("An active caller must be provide to perform this operation.");let n={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},o=Fn(22,n),r=await p(this,Lt,"f").execute("comment/perform_comment_action",{action:o}),l=(x=(d=r.data.frameworkUpdates)==null?void 0:d.entityBatchUpdate)==null?void 0:x.mutations,f=(T=(w=(g=(b=l==null?void 0:l[0])==null?void 0:b.payload)==null?void 0:g.commentEntityPayload)==null?void 0:w.translatedContent)==null?void 0:T.content;return{...r,content:f}}setActions(e){k(this,Lt,e,"f")}};s(Su,"Comment");Lt=new WeakMap;Su.type="Comment";var sr=Su;var Eu=class extends a{constructor(e){super(),this.id=e.id,this.categories=u.parseArray(e.categories),this.category_buttons=u.parseArray(e.categoryButtons),this.search_placeholder=new c(e.searchPlaceholderText),this.search_no_results=new c(e.searchNoResultsText),this.pick_skin_tone=new c(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};s(Eu,"EmojiPicker");Eu.type="EmojiPicker";var Fb=Eu;var Cu=class extends a{constructor(e){super(),this.editable_text=new c(e.editableText),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.submit_button=u.parseItem(e.submitButton,I),this.cancel_button=u.parseItem(e.cancelButton,I),this.placeholder=new c(e.placeholderText),this.emoji_button=u.parseItem(e.emojiButton,I),this.emoji_picker=u.parseItem(e.emojiPicker,Fb)}};s(Cu,"CommentDialog");Cu.type="CommentDialog";var K0=Cu;var Nu=class extends a{constructor(e){super(),this.contents=u.parseArray(e.contents),this.view_replies=u.parseItem(e.viewReplies,I),this.hide_replies=u.parseItem(e.hideReplies,I),this.view_replies_creator_thumbnail=y.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};s(Nu,"CommentReplies");Nu.type="CommentReplies";var Wb=Nu;var Pu=class extends a{constructor(e){super(),this.simplebox_avatar=y.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new c(e.simpleboxPlaceholder)}};s(Pu,"CommentsSimplebox");Pu.type="CommentsSimplebox";var jb=Pu;var Ru=class extends a{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=y.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new c(e.teaserContent))}};s(Ru,"CommentsEntryPointTeaser");Ru.type="CommentsEntryPointTeaser";var Hb=Ru;var Au=class extends a{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new c(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new c(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=y.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new c(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=u.parseItem(e.contentRenderer,[Hb,jb])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new c(e.simpleboxPlaceholder))}};s(Au,"CommentsEntryPointHeader");Au.type="CommentsEntryPointHeader";var Gb=Au;var Mu=class extends a{constructor(e){super(),this.title=new c(e.titleText),this.count=new c(e.countText),this.comments_count=new c(e.commentsCount),this.create_renderer=u.parseItem(e.createRenderer),this.sort_menu=u.parseItem(e.sortMenu,Dt),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:y.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};s(Mu,"CommentsHeader");Mu.type="CommentsHeader";var nn=Mu;var Du=class extends a{constructor(e){super(),this.submit_button=u.parseItem(e.submitButton,I),this.cancel_button=u.parseItem(e.cancelButton,I),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.placeholder=new c(e.placeholderText),this.avatar_size=e.avatarSize}};s(Du,"CommentSimplebox");Du.type="CommentSimplebox";var Kb=Du;var Ge,Lu=class extends a{constructor(e){super(),Ge.set(this,void 0),this.comment_id=e.commentId,this.is_pinned=!!e.pinnedText,this.keys={comment:e.commentKey,comment_surface:e.commentSurfaceKey,toolbar_state:e.toolbarStateKey,toolbar_surface:e.toolbarSurfaceKey,shared:e.sharedKey}}applyMutations(e,i,n){e&&(this.content=c.fromAttributed(e.properties.content),this.published_time=e.properties.publishedTime,this.author_is_channel_owner=!!e.author.isCreator,this.like_count=e.toolbar.likeCountNotliked?e.toolbar.likeCountNotliked:"0",this.reply_count=e.toolbar.replyCount?e.toolbar.replyCount:"0",this.is_member=!!e.author.sponsorBadgeUrl,Reflect.has(e.author,"sponsorBadgeUrl")&&(this.member_badge={url:e.author.sponsorBadgeUrl,a11y:e.author.A11y}),this.author=new A({simpleText:e.author.displayName,navigationEndpoint:e.avatar.endpoint},e.author,e.avatar.image,e.author.channelId)),i&&(this.is_hearted=i.heartState==="TOOLBAR_HEART_STATE_HEARTED",this.is_liked=i.likeState==="TOOLBAR_LIKE_STATE_LIKED",this.is_disliked=i.likeState==="TOOLBAR_LIKE_STATE_DISLIKED"),n&&!Reflect.has(n,"prepareAccountCommand")&&(this.like_command=new m(n.likeCommand),this.dislike_command=new m(n.dislikeCommand),this.unlike_command=new m(n.unlikeCommand),this.undislike_command=new m(n.undislikeCommand),this.reply_command=new m(n.replyCommand))}async like(){if(!p(this,Ge,"f"))throw new _("Actions instance not set for this comment.");if(!this.like_command)throw new _("Like command not found.");if(this.is_liked)throw new _("This comment is already liked.",{comment_id:this.comment_id});return this.like_command.call(p(this,Ge,"f"))}async dislike(){if(!p(this,Ge,"f"))throw new _("Actions instance not set for this comment.");if(!this.dislike_command)throw new _("Dislike command not found.");if(this.is_disliked)throw new _("This comment is already disliked.",{comment_id:this.comment_id});return this.dislike_command.call(p(this,Ge,"f"))}async unlike(){if(!p(this,Ge,"f"))throw new _("Actions instance not set for this comment.");if(!this.unlike_command)throw new _("Unlike command not found.");if(!this.is_liked)throw new _("This comment is not liked.",{comment_id:this.comment_id});return this.unlike_command.call(p(this,Ge,"f"))}async undislike(){if(!p(this,Ge,"f"))throw new _("Actions instance not set for this comment.");if(!this.undislike_command)throw new _("Undislike command not found.");if(!this.is_disliked)throw new _("This comment is not disliked.",{comment_id:this.comment_id});return this.undislike_command.call(p(this,Ge,"f"))}async reply(e){var o;if(!p(this,Ge,"f"))throw new _("Actions instance not set for this comment.");if(!this.reply_command)throw new _("Reply command not found.");let i=(o=this.reply_command.dialog)==null?void 0:o.as(rr);if(!i)throw new _("Reply dialog not found.");let n=i.reply_button;if(!n)throw new _("Reply button not found in the dialog.");if(!n.endpoint)throw new _("Reply button endpoint not found.");return n.endpoint.call(p(this,Ge,"f"),{commentText:e})}async translate(e){var d,x,b,g,w,T;if(!p(this,Ge,"f"))throw new _("Actions instance not set for this comment.");if(!this.content)throw new _("Comment content not found.",{comment_id:this.comment_id});let n={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e},o=Fn(22,n),r=await p(this,Ge,"f").execute("comment/perform_comment_action",{action:o,client:"ANDROID"}),l=(x=(d=r.data.frameworkUpdates)==null?void 0:d.entityBatchUpdate)==null?void 0:x.mutations,f=(T=(w=(g=(b=l==null?void 0:l[0])==null?void 0:b.payload)==null?void 0:g.commentEntityPayload)==null?void 0:w.translatedContent)==null?void 0:T.content;return{...r,content:f}}setActions(e){k(this,Ge,e,"f")}};s(Lu,"CommentView");Ge=new WeakMap;Lu.type="CommentView";var on=Lu;var wi,$n,Ou=class extends a{constructor(e){super(),wi.set(this,void 0),$n.set(this,void 0),Reflect.has(e,"commentViewModel")?this.comment=u.parseItem(e.commentViewModel,on):this.comment=u.parseItem(e.comment,sr),this.comment_replies_data=u.parseItem(e.replies,Wb),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}async getReplies(){var n;if(!p(this,wi,"f"))throw new _("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new _("This comment has no replies.",this);let e=(n=this.comment_replies_data.contents)==null?void 0:n.firstOfType(se);if(!e)throw new _("Replies continuation not found.");let i=await e.endpoint.call(p(this,wi,"f"),{parse:!0});if(!i.on_response_received_endpoints_memo)throw new _("Unexpected response.",i);return this.replies=j(i.on_response_received_endpoints_memo.getType(sr,on).map(o=>(o.setActions(p(this,wi,"f")),o))),k(this,$n,i==null?void 0:i.on_response_received_endpoints_memo.getType(se).first(),"f"),this}async getContinuation(){var n;if(!this.replies)throw new _("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!p(this,$n,"f"))throw new _("Continuation not found.");if(!p(this,wi,"f"))throw new _("Actions instance not set for this thread.");let e=(n=p(this,$n,"f").button)==null?void 0:n.as(I);if(!e)throw new _('"Load more" button not found.');let i=await e.endpoint.call(p(this,wi,"f"),{parse:!0});if(!i.on_response_received_endpoints_memo)throw new _("Unexpected response.",i);return this.replies=j(i.on_response_received_endpoints_memo.getType(sr,on).map(o=>(o.setActions(p(this,wi,"f")),o))),k(this,$n,i.on_response_received_endpoints_memo.getType(se).first(),"f"),this}get has_continuation(){if(!this.replies)throw new _("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!p(this,$n,"f")}setActions(e){k(this,wi,e,"f")}};s(Ou,"CommentThread");wi=new WeakMap,$n=new WeakMap;Ou.type="CommentThread";var $b=Ou;var Bu=class extends a{constructor(e){super(),this.title=new c(e.title),this.channel_id=e.channelId,this.thumbnail=y.fromResponse(e.thumbnail),this.display_name=new c(e.displayName),this.video_count=new c(e.videoCountText),this.subscriber_count=new c(e.subscriberCountText),this.endpoint=new m(e.navigationEndpoint),this.tv_banner=y.fromResponse(e.tvBanner),this.menu=u.parseItem(e.menu,U)}};s(Bu,"CompactChannel");Bu.type="CompactChannel";var $0=Bu;var Uu=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};s(Uu,"PlaylistCustomThumbnail");Uu.type="PlaylistCustomThumbnail";var ar=Uu;var Vu=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};s(Vu,"PlaylistVideoThumbnail");Vu.type="PlaylistVideoThumbnail";var cr=Vu;var Yu=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new c(e.title),this.author=(i=e.shortBylineText)!=null&&i.simpleText?new c(e.shortBylineText):new A(e.longBylineText,e.ownerBadges,null),this.thumbnails=y.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(n=>n.thumbnails).flat(1)}),this.video_count=new c(e.thumbnailText),this.video_count_short=new c(e.videoCountShortText),this.first_videos=u.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=u.parseItem(e.menu),this.badges=u.parseArray(e.ownerBadges),this.endpoint=new m(e.navigationEndpoint),this.thumbnail_overlays=u.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=u.parseItem(e.thumbnailRenderer,[cr,ar])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new c(e.viewPlaylistText))}};s(Yu,"Playlist");Yu.type="Playlist";var $t=Yu;var Fu=class extends $t{constructor(e){super(e)}};s(Fu,"CompactMix");Fu.type="CompactMix";var q0=Fu;var Wu=class extends a{constructor(e){var o;super();let i=((o=e.thumbnailOverlays.find(r=>r.thumbnailOverlayTimeStatusRenderer))==null?void 0:o.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new c(e.title),this.top_metadata_items=new c(e.topMetadataItems),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=u.parseArray(e.thumbnailOverlays),this.author=new A(e.shortBylineText);let n=e.lengthText?new c(e.lengthText).toString():new c(i).toString();this.duration={text:n,seconds:Pe(n)},this.endpoint=new m(e.navigationEndpoint),this.badges=u.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=u.parseItem(e.menu,U)}};s(Wu,"CompactMovie");Wu.type="CompactMovie";var z0=Wu;var ju=class extends $t{constructor(e){super(e)}};s(ju,"CompactPlaylist");ju.type="CompactPlaylist";var J0=ju;var Hu=class extends a{constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.video_count=new c(e.videoCountText),this.endpoint=new m(e.navigationEndpoint),this.thumbnail=y.fromResponse(e.thumbnail)}};s(Hu,"CompactStation");Hu.type="CompactStation";var X0=Hu;var Gu=class extends a{constructor(e){super(),this.title=new c(e.title),this.confirm_button=u.parseItem(e.confirmButton,I),this.cancel_button=u.parseItem(e.cancelButton,I),this.dialog_messages=e.dialogMessages.map(i=>new c(i))}};s(Gu,"ConfirmDialog");Gu.type="ConfirmDialog";var Z0=Gu;var Ku=class extends a{constructor(e){super(),this.metadata_rows=e.metadataRows.map(i=>{var n;return{metadata_parts:(n=i.metadataParts)==null?void 0:n.map(o=>({text:c.fromAttributed(o.text)}))}}),this.delimiter=e.delimiter}};s(Ku,"ContentMetadataView");Ku.type="ContentMetadataView";var ur=Ku;var $u=class extends a{constructor(e){super(),this.text=new c(e.text)}};s($u,"Message");$u.type="Message";var Le=$u;var qu=class extends a{constructor(e){super(),this.availability_message=u.parseItem(e.availabilityMessage,Le)}};s(qu,"ConversationBar");qu.type="ConversationBar";var Q0=qu;var zu=class extends a{constructor(e){super(),this.copy_button=u.parseItem(e.copyButton,I),this.short_url=e.shortUrl,this.style=e.style}};s(zu,"CopyLink");zu.type="CopyLink";var lr=zu;var Ju=class extends a{constructor(e){var i,n;super(),this.avatar=u.parseItem(e.avatar,K_),this.a11y_label=e.a11yLabel,(n=(i=e.rendererContext)==null?void 0:i.commandContext)!=null&&n.onTap&&(this.on_tap_endpoint=new m(e.rendererContext.commandContext.onTap))}};s(Ju,"DecoratedAvatarView");Ju.type="DecoratedAvatarView";var qb=Ju;var Xu=class extends a{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};s(Xu,"HeatMarker");Xu.type="HeatMarker";var zb=Xu;var Zu=class extends a{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=u.parseArray(e.heatMarkers,zb),this.heat_markers_decorations=u.parseArray(e.heatMarkersDecorations)}};s(Zu,"Heatmap");Zu.type="Heatmap";var Jb=Zu;var Qu=class extends a{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=u.parseItem(e.value.heatmap,Jb)),Reflect.has(e.value,"chapters")&&(this.value.chapters=u.parseArray(e.value.chapters,Pb)))}};s(Qu,"Marker");Qu.type="Marker";var el=class extends a{constructor(e){var i;super(),this.markers_map=j(((i=e.markersMap)==null?void 0:i.map(n=>new Qu(n)))||[])}};s(el,"MultiMarkersPlayerBar");el.type="MultiMarkersPlayerBar";var Xb=el;var tl=class extends a{constructor(e){super(),this.player_bar=u.parseItem(e.playerBar,Xb),this.player_bar_action_button=u.parseItem(e.playerBarActionButton,I)}};s(tl,"DecoratedPlayerBar");tl.type="DecoratedPlayerBar";var Zb=tl;var il=class extends a{constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.endpoint=new m(e.navigationEndpoint),this.large_form_factor_background_thumbnail=u.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=u.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};s(il,"DefaultPromoPanel");il.type="DefaultPromoPanel";var ek=il;var nl=class extends a{constructor(e){var i,n,o,r,l,f;if(super(),this.description=c.fromAttributed(e.description),this.max_lines=parseInt(e.maxLines),this.truncation_text=c.fromAttributed(e.truncationText),this.always_show_truncation_text=!!e.alwaysShowTruncationText,(o=(n=(i=e.rendererContext.commandContext)==null?void 0:i.onTap)==null?void 0:n.innertubeCommand)!=null&&o.showEngagementPanelEndpoint){let d=(f=(l=(r=e.rendererContext.commandContext)==null?void 0:r.onTap)==null?void 0:l.innertubeCommand)==null?void 0:f.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:u.parseItem(d.engagementPanel,Xi),engagement_panel_popup_type:d.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:d.identifier.surface,tag:d.identifier.tag}}}}}};s(nl,"DescriptionPreviewView");nl.type="DescriptionPreviewView";var Qb=nl;var ol=class extends a{constructor(e){super(),this.text=new c(e.didYouMean).toString(),this.corrected_query=new c(e.correctedQuery),this.endpoint=new m(e.navigationEndpoint||e.correctedQueryEndpoint)}};s(ol,"DidYouMean");ol.type="DidYouMean";var ex=ol;var rl=class extends a{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new m(e.command),this.target_id=e.targetId}};s(rl,"DownloadButton");rl.type="DownloadButton";var tx=rl;var sl=class extends a{constructor(e){super(),this.text=c.fromAttributed(e.text),this.max_lines=parseInt(e.maxLines)}};s(sl,"DynamicTextView");sl.type="DynamicTextView";var ix=sl;var qn=class extends a{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)==null?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(n=>new qn(n)))}};s(qn,"ChildElement");qn.type="ChildElement";var nx=qn;var zn=class extends a{constructor(e){var n;if(super(),Reflect.has(e,"elementRenderer"))return u.parseItem(e,zn);let i=e.newElement.type.componentType;this.model=u.parseItem(i==null?void 0:i.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=j(((n=e.newElement.childElements)==null?void 0:n.map(o=>new nx(o)))||[]))}};s(zn,"Element");zn.type="Element";var pr=zn;var al=class extends a{constructor(e){super(),this.title=new c(e.title),this.first_option=u.parseItem(e.firstOption),this.menu=u.parseItem(e.menu,U)}};s(al,"EmergencyOnebox");al.type="EmergencyOnebox";var tk=al;var cl=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new c(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};s(cl,"EmojiPickerCategory");cl.type="EmojiPickerCategory";var ik=cl;var ul=class extends a{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType),this.tooltip=e.tooltip}};s(ul,"EmojiPickerCategoryButton");ul.type="EmojiPickerCategoryButton";var nk=ul;var ll=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new c(e.title),this.upsell=new c(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new m(e.command),this.emoji_ids=e.emojiIds}};s(ll,"EmojiPickerUpsellCategory");ll.type="EmojiPickerUpsellCategory";var ok=ll;var pl=class extends a{constructor(e){super(),this.elements=u.parseArray(e.elements),this.start_ms=e.startMs}};s(pl,"Endscreen");pl.type="Endscreen";var ox=pl;var fl=class extends a{constructor(e){super(),this.style=e.style,this.title=new c(e.title),this.endpoint=new m(e.endpoint),Reflect.has(e,"image")&&(this.image=y.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=y.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new c(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new c(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=u.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new c(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=u.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};s(fl,"EndscreenElement");fl.type="EndscreenElement";var rk=fl;var dl=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new c(e.title),this.author=new c(e.longBylineText),this.endpoint=new m(e.navigationEndpoint),this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new c(e.videoCountText)}};s(dl,"EndScreenPlaylist");dl.type="EndScreenPlaylist";var rx=dl;var hl=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=u.parseArray(e.thumbnailOverlays),this.author=new A(e.shortBylineText,e.ownerBadges),this.endpoint=new m(e.navigationEndpoint),this.short_view_count=new c(e.shortViewCountText),this.badges=u.parseArray(e.badges),this.duration={text:new c(e.lengthText).toString(),seconds:e.lengthInSeconds}}};s(hl,"EndScreenVideo");hl.type="EndScreenVideo";var sx=hl;var ml=class extends a{constructor(e){super(),this.disclaimer=new c(e.disclaimer),this.info_icon={icon_type:e.infoIcon.iconType},this.usage_scenario=e.usageScenario}};s(ml,"EomSettingsDisclaimer");ml.type="EomSettingsDisclaimer";var sk=ml;var _l=class extends a{constructor(e){super(),this.title=e.title,this.endpoint=new m(e.endpoint),this.selected=e.selected,this.content=u.parseItem(e.content)}};s(_l,"ExpandableTab");_l.type="ExpandableTab";var fr=_l;var bl=class extends a{constructor(e){super(),this.items=u.parseArray(e.items)}get contents(){return this.items}};s(bl,"ExpandedShelfContents");bl.type="ExpandedShelfContents";var ak=bl;var xl=class extends a{constructor(e){super(),this.dialog_message=new c(e.dialogMessage),this.confirm_label=new c(e.confirmLabel)}};s(xl,"FancyDismissibleDialog");xl.type="FancyDismissibleDialog";var ck=xl;var yl=class extends a{constructor(e){super(),this.contents=u.parseArray(e.contents,le)}};s(yl,"FeedFilterChipBar");yl.type="FeedFilterChipBar";var Ot=yl;var gl=class extends a{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.endpoint=new m(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};s(gl,"FeedNudge");gl.type="FeedNudge";var uk=gl;var wl=class extends a{constructor(e){super(),this.title=new c(e.title)}};s(wl,"FeedTabbedHeader");wl.type="FeedTabbedHeader";var ax=wl;var vl=class extends a{constructor(e){super(),this.actions_rows=e.actionsRows.map(i=>({actions:u.parseArray(i.actions,[bt,Gi])})),this.style=e.style}};s(vl,"FlexibleActionsView");vl.type="FlexibleActionsView";var cx=vl;var Tl=class extends a{constructor(e){super(),this.title=new c(e.title),this.box_art=y.fromResponse(e.boxArt),this.box_art_overlay_text=new c(e.boxArtOverlayText),this.endpoint=new m(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};s(Tl,"GameDetails");Tl.type="GameDetails";var lk=Tl;var kl=class extends a{constructor(e){var i,n,o;super(),this.items=u.parseArray(e.items),Reflect.has(e,"header")&&(this.header=u.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((o=(n=(i=e.continuations)==null?void 0:i[0])==null?void 0:n.nextContinuationData)==null?void 0:o.continuation)||null}get contents(){return this.items}};s(kl,"Grid");kl.type="Grid";var Jn=kl;var Il=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new A({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscribers=new c(e.subscriberCountText),this.video_count=new c(e.videoCountText),this.endpoint=new m(e.navigationEndpoint),this.subscribe_button=u.parseItem(e.subscribeButton)}};s(Il,"GridChannel");Il.type="GridChannel";var ux=Il;var Sl=class extends a{constructor(e){super(),this.title=new c(e.title)}};s(Sl,"GridHeader");Sl.type="GridHeader";var pk=Sl;var El=class extends a{constructor(e){var i,n;super(),this.id=e.playlistId,this.title=new c(e.title),this.author=(i=e.shortBylineText)!=null&&i.simpleText?new c(e.shortBylineText):(n=e.longBylineText)!=null&&n.simpleText?new c(e.longBylineText):null,this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new c(e.videoCountText),this.video_count_short=new c(e.videoCountShortText),this.endpoint=new m(e.navigationEndpoint),this.secondary_endpoint=new m(e.secondaryNavigationEndpoint),this.thumbnail_overlays=u.parseArray(e.thumbnailOverlays)}};s(El,"GridMix");El.type="GridMix";var fk=El;var Cl=class extends a{constructor(e){var n;super();let i=(n=e.thumbnailOverlays.find(o=>o.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))==null?void 0:n.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new c(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.duration=e.lengthText?new c(e.lengthText):i!=null&&i.text?new c(i.text):null,this.endpoint=new m(e.navigationEndpoint),this.badges=u.parseArray(e.badges,Qe),this.metadata=new c(e.metadata),this.thumbnail_overlays=u.parseArray(e.thumbnailOverlays)}};s(Cl,"GridMovie");Cl.type="GridMovie";var dk=Cl;var Nl=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new c(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new A(e.shortBylineText,e.ownerBadges)),this.badges=u.parseArray(e.ownerBadges),this.endpoint=new m(e.navigationEndpoint),this.view_playlist=new c(e.viewPlaylistText),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_renderer=u.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)==null?void 0:i.map(n=>y.fromResponse(n)))||[])||null,this.video_count=new c(e.thumbnailText),this.video_count_short=new c(e.videoCountShortText)}};s(Nl,"GridPlaylist");Nl.type="GridPlaylist";var lx=Nl;var Pl=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};s(Pl,"ShowCustomThumbnail");Pl.type="ShowCustomThumbnail";var px=Pl;var Rl=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new c(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};s(Rl,"ThumbnailOverlayBottomPanel");Rl.type="ThumbnailOverlayBottomPanel";var fx=Rl;var Al=class extends a{constructor(e){super(),this.title=new c(e.title),this.thumbnail_renderer=Z(e.thumbnailRenderer,px),this.endpoint=new m(e.navigationEndpoint),this.long_byline_text=new c(e.longBylineText),this.thumbnail_overlays=Ue(e.thumbnailOverlays,fx),this.author=new A(e.shortBylineText,void 0)}};s(Al,"GridShow");Al.type="GridShow";var hk=Al;var Ml=class extends a{constructor(e){var n,o;super();let i=(n=e.thumbnailOverlays.find(r=>r.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))==null?void 0:n.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new c(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=u.parseArray(e.thumbnailOverlays),this.rich_thumbnail=u.parseItem(e.richThumbnail),this.published=new c(e.publishedTimeText),this.duration=e.lengthText?new c(e.lengthText):i!=null&&i.text?new c(i.text):null,this.author=e.shortBylineText&&new A(e.shortBylineText,e.ownerBadges),this.views=new c(e.viewCountText),this.short_view_count=new c(e.shortViewCountText),this.endpoint=new m(e.navigationEndpoint),this.menu=u.parseItem(e.menu,U),Reflect.has(e,"buttons")&&(this.buttons=u.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new c(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!((o=e.upcomingEventData)!=null&&o.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};s(Ml,"GridVideo");Ml.type="GridVideo";var dx=Ml;var Dl=class extends a{constructor(e){super(),this.title=new c(e.formattedTitle),this.endpoint=new m(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=y.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};s(Dl,"GuideEntry");Dl.type="GuideEntry";var Xn=Dl;var Ll=class extends a{constructor(e){super(),this.expander_item=Z(e.expanderItem,Xn),this.collapser_item=Z(e.collapserItem,Xn),this.expandable_items=Ue(e.expandableItems)}};s(Ll,"GuideCollapsibleEntry");Ll.type="GuideCollapsibleEntry";var mk=Ll;var Ol=class extends a{constructor(e){super(),this.header_entry=Z(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=Ue(e.sectionItems)}};s(Ol,"GuideCollapsibleSectionEntry");Ol.type="GuideCollapsibleSectionEntry";var _k=Ol;var Bl=class extends Xn{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};s(Bl,"GuideDownloadsEntry");Bl.type="GuideDownloadsEntry";var bk=Bl;var Ul=class extends a{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new c(e.formattedTitle)),this.items=Ue(e.items)}};s(Ul,"GuideSection");Ul.type="GuideSection";var dr=Ul;var Vl=class extends dr{};s(Vl,"GuideSubscriptionsSection");Vl.type="GuideSubscriptionsSection";var hx=Vl;var Yl=class extends a{constructor(e){super(),this.hashtag=new c(e.hashtag),this.hashtag_info=new c(e.hashtagInfoText)}};s(Yl,"HashtagHeader");Yl.type="HashtagHeader";var mx=Yl;var Fl=class extends a{constructor(e){super(),this.hashtag=new c(e.hashtag),this.hashtag_info_text=new c(e.hashtagInfoText),this.hashtag_thumbnail=y.fromResponse(e.hashtagThumbnail),this.endpoint=new m(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new c(e.hashtagVideoCount),this.hashtag_channel_count=new c(e.hashtagChannelCount)}};s(Fl,"HashtagTile");Fl.type="HashtagTile";var xk=Fl;var Wl=class extends a{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new m(e.onTap)}};s(Wl,"HeroPlaylistThumbnail");Wl.type="HeroPlaylistThumbnail";var yk=Wl;var jl=class extends a{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:y.fromResponse(e.thumbnail.image),endpoint:new m(e.thumbnail.onTap),on_long_press_endpoint:new m(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:y.fromResponse(e.backgroundImage.image),gradient_image:y.fromResponse(e.backgroundImage.gradientImage)},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new m(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new m(e.textOnTap)}};s(jl,"Panel");jl.type="Panel";var Hl=class extends a{constructor(e){super(),this.panels=j(e.highlightsCarousel.panels.map(i=>new jl(i)))}};s(Hl,"HighlightsCarousel");Hl.type="HighlightsCarousel";var Gl=Hl;var Kl=class extends a{constructor(e){super(),this.suggestion=new c(e.suggestion),this.endpoint=new m(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new m(e.serviceEndpoint))}};s(Kl,"SearchSuggestion");Kl.type="SearchSuggestion";var _x=Kl;var $l=class extends _x{constructor(e){super(e)}};s($l,"HistorySuggestion");$l.type="HistorySuggestion";var gk=$l;var ql=class extends a{constructor(e){super(),this.items=u.parseArray(e.items),this.previous_button=u.parseItem(e.previousButton,I),this.next_button=u.parseItem(e.nextButton,I)}get contents(){return this.items}};s(ql,"HorizontalMovieList");ql.type="HorizontalMovieList";var wk=ql;var zl=class extends a{constructor(e){var i;super(),this.icon_type=(i=e.icon)==null?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new c(e.tooltip).toString()),this.endpoint=new m(e.navigationEndpoint)}};s(zl,"IconLink");zl.type="IconLink";var bx=zl;var Jl=class extends a{constructor(e){super(),this.image=y.fromResponse(e.image),this.style=e.style}};s(Jl,"ImageBannerView");Jl.type="ImageBannerView";var xx=Jl;var Xl=class extends a{constructor(e){super(),this.including_results_for=new c(e.includingResultsFor),this.corrected_query=new c(e.correctedQuery),this.corrected_query_endpoint=new m(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new c(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new c(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new m(e.originalQueryEndpoint):void 0}};s(Xl,"IncludingResultsFor");Xl.type="IncludingResultsFor";var vk=Xl;var Zl=class extends a{constructor(e){super(),this.title=new c(e.title),this.source=new c(e.source),Reflect.has(e,"paragraphs")&&(this.paragraphs=e.paragraphs.map(i=>new c(i))),Reflect.has(e,"attributedParagraphs")&&(this.attributed_paragraphs=e.attributedParagraphs.map(i=>c.fromAttributed(i))),this.thumbnail=y.fromResponse(e.thumbnail),this.source_endpoint=new m(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};s(Zl,"InfoPanelContent");Zl.type="InfoPanelContent";var yx=Zl;var Ql=class extends a{constructor(e){var i;super(),this.title=new c(e.title),this.menu=u.parseItem(e.menu,U),this.content=u.parseItem(e.content,yx),e.headerEndpoint&&(this.header_endpoint=new m(e.headerEndpoint)),this.background=e.background,this.title_style=e.titleStyle,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType)}};s(Ql,"InfoPanelContainer");Ql.type="InfoPanelContainer";var gx=Ql;var ep=class extends a{constructor(e){super(),this.header_type=e.type,this.title=new c(e.title),this.description=new c(e.description),this.metadata=new c(e.metadata),this.badges=u.parseArray(e.badges,Qe),this.box_art=y.fromResponse(e.boxArt),this.banner=y.fromResponse(e.banner),this.buttons=u.parseArray(e.buttons,[Re,I]),this.auto_generated=new c(e.autoGenerated)}};s(ep,"InteractiveTabbedHeader");ep.type="InteractiveTabbedHeader";var wx=ep;var tp=class extends a{constructor(e){super(),this.title=new c(e.title)}};s(tp,"ItemSectionHeader");tp.type="ItemSectionHeader";var hr=tp;var ip=class extends a{constructor(e){super(),this.title=new c(e.title),this.selected=!!e.selected,this.endpoint=new m(e.endpoint)}};s(ip,"ItemSectionTab");ip.type="Tab";var vx=ip;var np=class extends a{constructor(e){super(),this.title=new c(e.title),this.tabs=u.parseArray(e.tabs,vx),Reflect.has(e,"endItems")&&(this.end_items=u.parseArray(e.endItems))}};s(np,"ItemSectionTabbedHeader");np.type="ItemSectionTabbedHeader";var mr=np;var op=class extends a{constructor(e){super(),this.filter_menu=u.parseItem(e.filterMenu,Zn.SortFilterSubMenu)}};s(op,"SortFilterHeader");op.type="SortFilterHeader";var Tx=op;var rp=class extends a{constructor(e){var i,n,o;super(),this.header=u.parseItem(e.header,[nn,hr,mr,Tx,Ot]),this.contents=u.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.targetId||e.sectionIdentifier),e.continuations&&(this.continuation=(o=(n=(i=e.continuations)==null?void 0:i.at(0))==null?void 0:n.nextContinuationData)==null?void 0:o.continuation)}};s(rp,"ItemSection");rp.type="ItemSection";var fe=rp;var sp=class extends a{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new m(i)))}};s(sp,"LikeButton");sp.type="LikeButton";var kx=sp;var ap=class extends a{constructor(e){var i,n;super(),this.header=u.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(n=(i=e.continuations[0])==null?void 0:i.reloadContinuationData)==null?void 0:n.continuation,this.client_messages={reconnect_message:new c(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new c(e.clientMessages.unableToReconnectMessage),fatal_error:new c(e.clientMessages.fatalError),reconnected_message:new c(e.clientMessages.reconnectedMessage),generic_error:new c(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};s(ap,"LiveChat");ap.type="LiveChat";var Ix=ap;var cp=class extends a{constructor(e){super(),this.text=new c(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=u.parseItem(e.contextMenuButton,I)}};s(cp,"LiveChatBannerHeader");cp.type="LiveChatBannerHeader";var Sx=cp;var up=class extends a{constructor(e){super(),this.header=u.parseItem(e.header,Sx),this.contents=u.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};s(up,"LiveChatBanner");up.type="LiveChatBanner";var Ex=up;var lp=class extends a{constructor(e){super(),this.banner=u.parseItem(e.bannerRenderer,Ex)}};s(lp,"AddBannerToLiveChatCommand");lp.type="AddBannerToLiveChatCommand";var Tk=lp;var pp=class extends a{constructor(e){super(),this.item=u.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};s(pp,"AddChatItemAction");pp.type="AddChatItemAction";var Cx=pp;var fp=class extends a{constructor(e){super(),this.item=u.parseItem(e.item),this.duration_sec=e.durationSec}};s(fp,"AddLiveChatTickerItemAction");fp.type="AddLiveChatTickerItemAction";var kk=fp;var dp=class extends a{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};s(dp,"DimChatItemAction");dp.type="DimChatItemAction";var Ik=dp;var hp=class extends a{constructor(e){super(),this.menu_endpoint=new m(e.contextMenuEndpoint),this.moderation_buttons=u.parseArray(e.moderationButtons,I),this.auto_moderated_item=u.parseItem(e.autoModeratedItem),this.header_text=new c(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};s(hp,"LiveChatAutoModMessage");hp.type="LiveChatAutoModMessage";var Sk=hp;var mp=class extends a{constructor(e){super(),this.poll_question=new c(e.pollQuestion),this.author_photo=y.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new c(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=u.parseItem(e.contextMenuButton,I)}};s(mp,"LiveChatBannerPoll");mp.type="LiveChatBannerPoll";var Ek=mp;var _p=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new c(e.headerSubtext),this.author=new A(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new m(e.contextMenuEndpoint)}};s(_p,"LiveChatMembershipItem");_p.type="LiveChatMembershipItem";var Ck=_p;var bp=class extends a{constructor(e){super(),this.message=new c(e.message),this.author=new A(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new c(e.purchaseAmountText).toString(),this.menu_endpoint=new m(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new c(e.timestampText).toString(),this.id=e.id}};s(bp,"LiveChatPaidMessage");bp.type="LiveChatPaidMessage";var Nk=bp;var xp=class extends a{constructor(e){super(),this.id=e.id,this.author=new A(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=y.fromResponse(e.sticker),this.purchase_amount=new c(e.purchaseAmountText).toString(),this.menu_endpoint=new m(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};s(xp,"LiveChatPaidSticker");xp.type="LiveChatPaidSticker";var Pk=xp;var yp=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};s(yp,"LiveChatPlaceholderItem");yp.type="LiveChatPlaceholderItem";var Rk=yp;var gp=class extends a{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=y.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=u.parseItem(e.informationButton),this.endpoint=new m(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=y.fromResponse(e.authorPhoto),this.information_dialog=u.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new c(e.creatorCustomMessage)}};s(gp,"LiveChatProductItem");gp.type="LiveChatProductItem";var Ak=gp;var wp=class extends a{constructor(e){super(),this.message=new c(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};s(wp,"LiveChatRestrictedParticipation");wp.type="LiveChatRestrictedParticipation";var Mk=wp;var Qn=class extends a{constructor(e){super(),this.message=new c(e.message),this.inline_action_buttons=u.parseArray(e.inlineActionButtons,I),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};s(Qn,"LiveChatMessageBase");Qn.type="LiveChatMessageBase";var vp=class extends Qn{constructor(e){super(e),this.author=new A(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new m(e.contextMenuEndpoint)}};s(vp,"LiveChatTextMessage");vp.type="LiveChatTextMessage";var Dk=vp;var Tp=class extends a{constructor(e){var i,n;super(),this.author=new A(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new c(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=u.parseItem((n=(i=e.showItemEndpoint)==null?void 0:i.showLiveChatItemEndpoint)==null?void 0:n.renderer),this.show_item_endpoint=new m(e.showItemEndpoint),this.id=e.id}};s(Tp,"LiveChatTickerPaidMessageItem");Tp.type="LiveChatTickerPaidMessageItem";var Nx=Tp;var kp=class extends Nx{};s(kp,"LiveChatTickerPaidStickerItem");kp.type="LiveChatTickerPaidStickerItem";var Lk=kp;var Ip=class extends a{constructor(e){super(),this.id=e.id,this.detail=new c(e.detailText),this.author=new A(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};s(Ip,"LiveChatTickerSponsorItem");Ip.type="LiveChatTickerSponsorItem";var Ok=Ip;var Sp=class extends Qn{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=u.parseItem(e.actionButton)}};s(Sp,"LiveChatViewerEngagementMessage");Sp.type="LiveChatViewerEngagementMessage";var Bk=Sp;var Ep=class extends a{constructor(e){super(),this.poll_question=new c(e.pollQuestion),this.thumbnails=y.fromResponse(e.thumbnail),this.metadata=new c(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=u.parseItem(e.contextMenuButton,I)}};s(Ep,"PollHeader");Ep.type="PollHeader";var Uk=Ep;var Cp=class extends a{constructor(e){super(),this.id=e.id,this.contents=u.parse(e.contents),this.target_id=e.targetId}};s(Cp,"LiveChatActionPanel");Cp.type="LiveChatActionPanel";var Px=Cp;var Np=class extends a{constructor(e){super(),this.deleted_state_message=new c(e.deletedStateMessage),this.target_item_id=e.targetItemId}};s(Np,"MarkChatItemAsDeletedAction");Np.type="MarkChatItemAsDeletedAction";var Vk=Np;var Pp=class extends a{constructor(e){super(),this.deleted_state_message=new c(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};s(Pp,"MarkChatItemsByAuthorAsDeletedAction");Pp.type="MarkChatItemsByAuthorAsDeletedAction";var Yk=Pp;var Rp=class extends a{constructor(e){super(),this.target_action_id=e.targetActionId}};s(Rp,"RemoveBannerForLiveChatCommand");Rp.type="RemoveBannerForLiveChatCommand";var Fk=Rp;var Ap=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId}};s(Ap,"RemoveChatItemAction");Ap.type="RemoveChatItemAction";var Wk=Ap;var Mp=class extends a{constructor(e){super(),this.external_channel_id=e.externalChannelId}};s(Mp,"RemoveChatItemByAuthorAction");Mp.type="RemoveChatItemByAuthorAction";var jk=Mp;var Dp=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=u.parseItem(e.replacementItem)}};s(Dp,"ReplaceChatItemAction");Dp.type="ReplaceChatItemAction";var Hk=Dp;var Lp=class extends a{constructor(e){var i;super(),this.actions=u.parseArray((i=e.actions)==null?void 0:i.map(n=>(delete n.clickTrackingParams,n))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};s(Lp,"ReplayChatItemAction");Lp.type="ReplayChatItemAction";var Gk=Lp;var Op=class extends a{constructor(e){super(),this.panel_to_show=u.parseItem(e.panelToShow,Px)}};s(Op,"ShowLiveChatActionPanelAction");Op.type="ShowLiveChatActionPanelAction";var Kk=Op;var Bp=class extends a{constructor(e){super(),this.dialog=u.parseItem(e.dialog)}};s(Bp,"ShowLiveChatDialogAction");Bp.type="ShowLiveChatDialogAction";var $k=Bp;var Up=class extends a{constructor(e){super(),this.tooltip=u.parseItem(e.tooltip)}};s(Up,"ShowLiveChatTooltipCommand");Up.type="ShowLiveChatTooltipCommand";var qk=Up;var Vp=class extends a{constructor(e){super(),this.date_text=new c(e.dateText).toString()}};s(Vp,"UpdateDateTextAction");Vp.type="UpdateDateTextAction";var Rx=Vp;var Yp=class extends a{constructor(e){super(),this.description=new c(e.description)}};s(Yp,"UpdateDescriptionAction");Yp.type="UpdateDescriptionAction";var Ax=Yp;var Fp=class extends a{constructor(e){super(),this.poll_to_update=u.parseItem(e.pollToUpdate)}};s(Fp,"UpdateLiveChatPollAction");Fp.type="UpdateLiveChatPollAction";var zk=Fp;var Wp=class extends a{constructor(e){super(),this.title=new c(e.title)}};s(Wp,"UpdateTitleAction");Wp.type="UpdateTitleAction";var Mx=Wp;var jp=class extends a{constructor(e){super(),this.default_text=new c(e.defaultText).toString(),this.toggled_text=new c(e.toggledText).toString(),this.button_id=e.buttonId}};s(jp,"UpdateToggleButtonTextAction");jp.type="UpdateToggleButtonTextAction";var Dx=jp;var Hp=class extends a{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new c(i.viewCount),this.extra_short_view_count=new c(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new c(i.unlabeledViewCountValue),this.is_live=i.isLive}};s(Hp,"UpdateViewershipAction");Hp.type="UpdateViewershipAction";var Lx=Hp;var Gp=class extends Qe{constructor(e){super(e),this.custom_thumbnail=y.fromResponse(e.customThumbnail)}};s(Gp,"LiveChatAuthorBadge");Gp.type="LiveChatAuthorBadge";var Jk=Gp;var Kp=class extends a{constructor(e){super(),this.confirm_button=u.parseItem(e.confirmButton,I),this.dialog_messages=e.dialogMessages.map(i=>new c(i))}};s(Kp,"LiveChatDialog");Kp.type="LiveChatDialog";var Xk=Kp;var $p=class extends a{constructor(e){super(),this.overflow_menu=u.parseItem(e.overflowMenu,U),this.collapse_button=u.parseItem(e.collapseButton,I),this.view_selector=u.parseItem(e.viewSelector,Dt)}};s($p,"LiveChatHeader");$p.type="LiveChatHeader";var Ox=$p;var qp=class extends a{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=u.parseItem(e.moreCommentsBelowButton,I)}};s(qp,"LiveChatItemList");qp.type="LiveChatItemList";var Bx=qp;var zp=class extends a{constructor(e){super(),this.author_name=new c(e.authorName),this.author_photo=y.fromResponse(e.authorPhoto),this.send_button=u.parseItem(e.sendButton,I),this.target_id=e.targetId}};s(zp,"LiveChatMessageInput");zp.type="LiveChatMessageInput";var Zk=zp;var Jp=class extends a{constructor(e){super(),this.name=new c(e.authorName),this.photo=y.fromResponse(e.authorPhoto),this.badges=u.parseArray(e.authorBadges)}};s(Jp,"LiveChatParticipant");Jp.type="LiveChatParticipant";var Ux=Jp;var Xp=class extends a{constructor(e){super(),this.title=new c(e.title),this.participants=u.parseArray(e.participants,Ux)}};s(Xp,"LiveChatParticipantsList");Xp.type="LiveChatParticipantsList";var Vx=Xp;var Zp=class extends a{constructor(e){super(),this.title=c.fromAttributed(e.title),this.metadata=u.parseItem(e.metadata,ur)}};s(Zp,"LockupMetadataView");Zp.type="LockupMetadataView";var Yx=Zp;var Qp=class extends a{constructor(e){super(),this.content_image=u.parseItem(e.contentImage,Ob),this.metadata=u.parseItem(e.metadata,Yx),this.content_id=e.contentId,this.content_type=e.contentType.replace("LOCKUP_CONTENT_TYPE_",""),this.on_tap_endpoint=new m(e.rendererContext.commandContext.onTap)}};s(Qp,"LockupView");Qp.type="LockupView";var Fx=Qp;var ef=class extends I{constructor(e){super(e)}};s(ef,"MenuNavigationItem");ef.type="MenuNavigationItem";var Wx=ef;var tf=class extends I{constructor(e){super(e)}};s(tf,"MenuServiceItem");tf.type="MenuServiceItem";var rn=tf;var nf=class extends a{constructor(e){super(),this.items=u.parseArray(e.items,[Wx,rn])}};s(nf,"MenuPopup");nf.type="MenuPopup";var Qk=nf;var of=class extends a{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new m(e.navigationEndpoint||e.serviceEndpoint)}};s(of,"MenuServiceItemDownload");of.type="MenuServiceItemDownload";var eI=of;var rf=class extends a{constructor(e){super(),this.items=u.parse(e.items)}get contents(){return this.items}};s(rf,"MultiPageMenuNotificationSection");rf.type="MultiPageMenuNotificationSection";var tI=rf;var sf=class extends a{constructor(e){super()}};s(sf,"MusicMenuItemDivider");sf.type="MusicMenuItemDivider";var jx=sf;var af=class extends a{constructor(e){super(),this.title=new c(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new m(e.selectedCommand)),this.selected=!!this.endpoint}};s(af,"MusicMultiSelectMenuItem");af.type="MusicMultiSelectMenuItem";var Bt=af;var cf=class extends a{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new c((i=e.title.musicMenuTitleRenderer)==null?void 0:i.primaryText)),this.options=u.parseArray(e.options,[Bt,jx])}};s(cf,"MusicMultiSelectMenu");cf.type="MusicMultiSelectMenu";var Hx=cf;var uf=class extends a{constructor(e){super(),this.title=new c(e.title),this.buttons=u.parseArray(e.buttons,I)}};s(uf,"SimpleMenuHeader");uf.type="SimpleMenuHeader";var Gx=uf;var lf=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=y.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new m(e.buttonCommand)}};s(lf,"MerchandiseItem");lf.type="MerchandiseItem";var iI=lf;var pf=class extends a{constructor(e){super(),this.title=e.title,this.menu=u.parseItem(e.actionButton),this.items=u.parseArray(e.items)}get contents(){return this.items}};s(pf,"MerchandiseShelf");pf.type="MerchandiseShelf";var Kx=pf;var ff=class extends a{constructor(e){super(),this.title=new c(e.title),this.contents=e.contents.map(i=>new c(i))}};s(ff,"MetadataRow");ff.type="MetadataRow";var nI=ff;var df=class extends a{constructor(e){super(),this.rows=u.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};s(df,"MetadataRowContainer");df.type="MetadataRowContainer";var $x=df;var hf=class extends a{constructor(e){super(),this.content=new c(e.content),this.has_divider_line=e.hasDividerLine}};s(hf,"MetadataRowHeader");hf.type="MetadataRowHeader";var oI=hf;var mf=class extends a{constructor(e){super(),this.section_list=u.parseItem(e)}};s(mf,"MetadataScreen");mf.type="MetadataScreen";var rI=mf;var _f=class extends a{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=y.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};s(_f,"MicroformatData");_f.type="MicroformatData";var qt=_f;var bf=class extends $t{constructor(e){super(e)}};s(bf,"Mix");bf.type="Mix";var sI=bf;var xf=class extends a{constructor(e){super(),this.title=new c(e.title),this.content=new c(e.content),this.button=u.parseItem(e.button,I)}};s(xf,"ModalWithTitleAndButton");xf.type="ModalWithTitleAndButton";var aI=xf;var yf=class extends a{constructor(e){var n,o,r;super();let i=((n=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))==null?void 0:n.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new c(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new c(e.descriptionSnippet)),this.top_metadata_items=new c(e.topMetadataItems),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=u.parseArray(e.thumbnailOverlays),this.author=new A(e.longBylineText,e.ownerBadges,(r=(o=e.channelThumbnailSupportedRenderers)==null?void 0:o.channelThumbnailWithLinkRenderer)==null?void 0:r.thumbnail),this.duration={text:e.lengthText?new c(e.lengthText).toString():new c(i).toString(),seconds:Pe(e.lengthText?new c(e.lengthText).toString():new c(i).toString())},this.endpoint=new m(e.navigationEndpoint),this.badges=u.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=u.parseItem(e.menu,U)}};s(yf,"Movie");yf.type="Movie";var cI=yf;var gf=class extends a{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)==null?void 0:i.thumbnails.map(n=>new y(n)).sort((n,o)=>o.width-n.width)}};s(gf,"MovingThumbnail");gf.type="MovingThumbnail";var uI=gf;var wf=class extends a{constructor(e){super(),this.title=new c(e.title)}};s(wf,"MusicCardShelfHeaderBasic");wf.type="MusicCardShelfHeaderBasic";var qx=wf;var vf=class extends a{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};s(vf,"MusicInlineBadge");vf.type="MusicInlineBadge";var _r=vf;var Tf=class extends a{constructor(e){var i,n;super(),this.endpoint=new m(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)==null?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(n=e.accessibilityPauseData.accessibilityData)==null?void 0:n.label),this.icon_color=e.iconColor}};s(Tf,"MusicPlayButton");Tf.type="MusicPlayButton";var br=Tf;var kf=class extends a{constructor(e){super(),this.content=u.parseItem(e.content,br),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};s(kf,"MusicItemThumbnailOverlay");kf.type="MusicItemThumbnailOverlay";var zt=kf;var If=class extends a{constructor(e){super(),this.contents=y.fromResponse(e.thumbnail)}};s(If,"MusicThumbnail");If.type="MusicThumbnail";var Oe=If;var Sf=class extends a{constructor(e){super(),this.thumbnail=u.parseItem(e.thumbnail,Oe),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.buttons=u.parseArray(e.buttons,I),this.menu=u.parseItem(e.menu,U),this.on_tap=new m(e.onTap),this.header=u.parseItem(e.header,qx),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=u.parseArray(e.subtitleBadges,_r),this.thumbnail_overlay=u.parseItem(e.thumbnailOverlay,zt),Reflect.has(e,"contents")&&(this.contents=u.parseArray(e.contents))}};s(Sf,"MusicCardShelf");Sf.type="MusicCardShelf";var zx=Sf;var Ef=class extends a{constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"strapline")&&(this.strapline=new c(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=u.parseItem(e.thumbnail,Oe)),Reflect.has(e,"moreContentButton")&&(this.more_content=u.parseItem(e.moreContentButton,I)),Reflect.has(e,"endIcons")&&(this.end_icons=u.parseArray(e.endIcons,bx))}};s(Ef,"MusicCarouselShelfBasicHeader");Ef.type="MusicCarouselShelfBasicHeader";var Jx=Ef;var Cf=class extends a{constructor(e){super(),this.thumbnail=u.parseItem(e.thumbnail,Oe),this.overlay=u.parseItem(e.overlay,zt),this.on_tap=new m(e.onTap),this.menu=u.parseItem(e.menu,U),this.subtitle=new c(e.subtitle),this.title=new c(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new c(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new c(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};s(Cf,"MusicMultiRowListItem");Cf.type="MusicMultiRowListItem";var Xx=Cf;var Nf=class extends a{constructor(e){super(),this.button_text=new c(e.buttonText).toString(),this.endpoint=new m(e.clickCommand)}};s(Nf,"MusicNavigationButton");Nf.type="MusicNavigationButton";var xr=Nf;var Pf=class extends a{constructor(e){super(),this.title=new c(e.text),this.display_priority=e.displayPriority}};s(Pf,"MusicResponsiveListItemFixedColumn");Pf.type="musicResponsiveListItemFlexColumnRenderer";var Zx=Pf;var Rf=class extends a{constructor(e){super(),this.title=new c(e.text),this.display_priority=e.displayPriority}};s(Rf,"MusicResponsiveListItemFlexColumn");Rf.type="MusicResponsiveListItemFlexColumn";var Qx=Rf;var ut,yr,tv,fI,lI,pI,dI,hI,mI,_I,bI,xI,Af=class extends a{constructor(e){var n,o,r,l,f,d;super(),ut.add(this),yr.set(this,void 0),this.flex_columns=u.parseArray(e.flexColumns,Qx),this.fixed_columns=u.parseArray(e.fixedColumns,Zx),k(this,yr,{video_id:((n=e==null?void 0:e.playlistItemData)==null?void 0:n.videoId)||null,playlist_set_video_id:((o=e==null?void 0:e.playlistItemData)==null?void 0:o.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new m(e.navigationEndpoint));let i=(d=(f=(l=(r=this.endpoint)==null?void 0:r.payload)==null?void 0:l.browseEndpointContextSupportedConfigs)==null?void 0:f.browseEndpointContextMusicConfig)==null?void 0:d.pageType;switch(i||this.flex_columns.find(b=>{var g,w,T,S;return((S=(T=(w=(g=b.title.endpoint)==null?void 0:g.payload)==null?void 0:w.browseEndpointContextSupportedConfigs)==null?void 0:T.browseEndpointContextMusicConfig)==null?void 0:S.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(i="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),i){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",p(this,ut,"m",bI).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",p(this,ut,"m",xI).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",p(this,ut,"m",dI).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",p(this,ut,"m",hI).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",p(this,ut,"m",mI).call(this);break;case"MUSIC_PAGE_TYPE_PODCAST_SHOW_DETAIL_PAGE":this.item_type="podcast_show",p(this,ut,"m",_I).call(this);break;default:this.flex_columns[1]?p(this,ut,"m",fI).call(this):p(this,ut,"m",tv).call(this)}Reflect.has(e,"index")&&(this.index=new c(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=u.parseItem(e.thumbnail,Oe)),Reflect.has(e,"badges")&&(this.badges=u.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=u.parseItem(e.menu,U)),Reflect.has(e,"overlay")&&(this.overlay=u.parseItem(e.overlay,zt))}get thumbnails(){var e;return((e=this.thumbnail)==null?void 0:e.contents)||[]}};s(Af,"MusicResponsiveListItem");yr=new WeakMap,ut=new WeakSet,tv=s(function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),fI=s(function(){var i,n,o,r,l,f,d;switch((d=(f=(l=(r=(o=(n=(i=this.flex_columns.at(0))==null?void 0:i.title.runs)==null?void 0:n.at(0))==null?void 0:o.endpoint)==null?void 0:r.payload)==null?void 0:l.watchEndpointMusicSupportedConfigs)==null?void 0:f.watchEndpointMusicConfig)==null?void 0:d.musicVideoType){case"MUSIC_VIDEO_TYPE_UGC":case"MUSIC_VIDEO_TYPE_OMV":this.item_type="video",p(this,ut,"m",pI).call(this);break;case"MUSIC_VIDEO_TYPE_ATV":this.item_type="song",p(this,ut,"m",lI).call(this);break;default:p(this,ut,"m",tv).call(this)}},"_MusicResponsiveListItem_parseVideoOrSong"),lI=s(function(){var o,r,l,f,d,x,b,g,w,T,S,E,P,C,Y;this.id=p(this,yr,"f").video_id||((r=(o=this.endpoint)==null?void 0:o.payload)==null?void 0:r.videoId),this.title=this.flex_columns.first().title.toString();let e=((d=(f=(l=this.flex_columns.at(1))==null?void 0:l.title.runs)==null?void 0:f.find(F=>/^\d+$/.test(F.text.replace(/:/g,""))))==null?void 0:d.text)||((b=(x=this.fixed_columns.first())==null?void 0:x.title)==null?void 0:b.toString());e&&(this.duration={text:e,seconds:Pe(e)});let i=((w=(g=this.flex_columns.at(1))==null?void 0:g.title.runs)==null?void 0:w.find(F=>Ke(F)&&F.endpoint&&F.endpoint.payload.browseId.startsWith("MPR")))||((S=(T=this.flex_columns.at(2))==null?void 0:T.title.runs)==null?void 0:S.find(F=>Ke(F)&&F.endpoint&&F.endpoint.payload.browseId.startsWith("MPR")));i&&Ke(i)&&(this.album={id:(P=(E=i.endpoint)==null?void 0:E.payload)==null?void 0:P.browseId,name:i.text,endpoint:i.endpoint});let n=(Y=(C=this.flex_columns.at(1))==null?void 0:C.title.runs)==null?void 0:Y.filter(F=>Ke(F)&&F.endpoint&&F.endpoint.payload.browseId.startsWith("UC"));n&&(this.artists=n.map(F=>{var ie,me;return{name:F.text,channel_id:Ke(F)?(me=(ie=F.endpoint)==null?void 0:ie.payload)==null?void 0:me.browseId:void 0,endpoint:Ke(F)?F.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),pI=s(function(){var n,o,r,l,f,d,x,b,g,w;this.id=p(this,yr,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=(r=(o=(n=this.flex_columns.at(1))==null?void 0:n.title.runs)==null?void 0:o.find(T=>T.text.match(/(.*?) views/)))==null?void 0:r.toString();let e=(f=(l=this.flex_columns.at(1))==null?void 0:l.title.runs)==null?void 0:f.filter(T=>Ke(T)&&T.endpoint&&T.endpoint.payload.browseId.startsWith("UC"));e&&(this.authors=e.map(T=>{var S,E;return{name:T.text,channel_id:Ke(T)?(E=(S=T.endpoint)==null?void 0:S.payload)==null?void 0:E.browseId:void 0,endpoint:Ke(T)?T.endpoint:void 0}}));let i=((x=(d=this.flex_columns[1].title.runs)==null?void 0:d.find(T=>/^\d+$/.test(T.text.replace(/:/g,""))))==null?void 0:x.text)||((w=(g=(b=this.fixed_columns.first())==null?void 0:b.title.runs)==null?void 0:g.find(T=>/^\d+$/.test(T.text.replace(/:/g,""))))==null?void 0:w.text);i&&(this.duration={text:i,seconds:Pe(i)})},"_MusicResponsiveListItem_parseVideo"),dI=s(function(){var e,i,n,o,r,l;this.id=(i=(e=this.endpoint)==null?void 0:e.payload)==null?void 0:i.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=(n=this.flex_columns.at(1))==null?void 0:n.title,this.subscribers=((l=(r=(o=this.subtitle)==null?void 0:o.runs)==null?void 0:r.find(f=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(f.text)))==null?void 0:l.text)||""},"_MusicResponsiveListItem_parseArtist"),hI=s(function(){var e,i,n,o;this.name=this.flex_columns.first().title.toString(),this.subtitle=(e=this.flex_columns.at(1))==null?void 0:e.title,this.song_count=((o=(n=(i=this.subtitle)==null?void 0:i.runs)==null?void 0:n.find(r=>/^\d+(,\d+)? songs?$/i.test(r.text)))==null?void 0:o.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),mI=s(function(){var e,i;this.id=p(this,yr,"f").video_id||((i=(e=this.endpoint)==null?void 0:e.payload)==null?void 0:i.videoId),this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),_I=s(function(){var e,i;this.id=(i=(e=this.endpoint)==null?void 0:e.payload)==null?void 0:i.browseId,this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parsePodcastShow"),bI=s(function(){var i,n,o,r,l,f,d,x,b;this.id=(n=(i=this.endpoint)==null?void 0:i.payload)==null?void 0:n.browseId,this.title=this.flex_columns.first().title.toString();let e=(r=(o=this.flex_columns.at(1))==null?void 0:o.title.runs)==null?void 0:r.find(g=>Ke(g)&&g.endpoint&&g.endpoint.payload.browseId.startsWith("UC"));e&&Ke(e)&&(this.author={name:e.text,channel_id:(f=(l=e.endpoint)==null?void 0:l.payload)==null?void 0:f.browseId,endpoint:e.endpoint}),this.year=(b=(x=(d=this.flex_columns.at(1))==null?void 0:d.title.runs)==null?void 0:x.find(g=>/^[12][0-9]{3}$/.test(g.text)))==null?void 0:b.text},"_MusicResponsiveListItem_parseAlbum"),xI=s(function(){var n,o,r,l,f,d,x,b;this.id=(o=(n=this.endpoint)==null?void 0:n.payload)==null?void 0:o.browseId,this.title=this.flex_columns.first().title.toString();let e=(l=(r=this.flex_columns.at(1))==null?void 0:r.title.runs)==null?void 0:l.find(g=>g.text.match(/\d+ (song|songs)/));this.item_count=e?e.text:void 0;let i=(d=(f=this.flex_columns.at(1))==null?void 0:f.title.runs)==null?void 0:d.find(g=>Ke(g)&&g.endpoint&&g.endpoint.payload.browseId.startsWith("UC"));i&&Ke(i)&&(this.author={name:i.text,channel_id:(b=(x=i.endpoint)==null?void 0:x.payload)==null?void 0:b.browseId,endpoint:i.endpoint})},"_MusicResponsiveListItem_parsePlaylist");Af.type="MusicResponsiveListItem";var xt=Af;var Mf=class extends a{constructor(e){var n,o,r,l,f,d,x,b,g,w,T,S,E,P,C,Y,F,ie,me,Ce,K,ue;switch(super(),this.title=new c(e.title),this.endpoint=new m(e.navigationEndpoint),this.id=((o=(n=this.endpoint)==null?void 0:n.payload)==null?void 0:o.browseId)||((l=(r=this.endpoint)==null?void 0:r.payload)==null?void 0:l.videoId),this.subtitle=new c(e.subtitle),this.badges=u.parse(e.subtitleBadges),(b=(x=(d=(f=this.endpoint)==null?void 0:f.payload)==null?void 0:d.browseEndpointContextSupportedConfigs)==null?void 0:x.browseEndpointContextMusicConfig)==null?void 0:b.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((w=(g=this.endpoint)==null?void 0:g.metadata)==null?void 0:w.api_url)==="/next"?this.item_type="endpoint":(T=this.subtitle.runs)!=null&&T[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((E=(S=this.subtitle.runs)==null?void 0:S.find(q=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(q.text)))==null?void 0:E.text)||"";else if(this.item_type=="playlist"){let q=(P=this.subtitle.runs)==null?void 0:P.find(H=>H.text.match(/\d+ songs|song/));this.item_count=q?q.text:null}else if(this.item_type=="album"){let q=(C=this.subtitle.runs)==null?void 0:C.filter(H=>{var oe,ce;return(ce=(oe=H.endpoint)==null?void 0:oe.payload)==null?void 0:ce.browseId.startsWith("UC")});q&&(this.artists=q.map(H=>{var oe,ce;return{name:H.text,channel_id:(ce=(oe=H.endpoint)==null?void 0:oe.payload)==null?void 0:ce.browseId,endpoint:H.endpoint}})),this.year=(Y=this.subtitle.runs)==null?void 0:Y.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((ie=(F=this==null?void 0:this.subtitle.runs)==null?void 0:F.find(H=>H==null?void 0:H.text.match(/(.*?) views/)))==null?void 0:ie.text)||"N/A";let q=(me=this.subtitle.runs)==null?void 0:me.find(H=>{var oe,ce,Xe;return(Xe=(ce=(oe=H.endpoint)==null?void 0:oe.payload)==null?void 0:ce.browseId)==null?void 0:Xe.startsWith("UC")});q&&(this.author={name:q==null?void 0:q.text,channel_id:(K=(Ce=q==null?void 0:q.endpoint)==null?void 0:Ce.payload)==null?void 0:K.browseId,endpoint:q==null?void 0:q.endpoint})}else if(this.item_type=="song"){let q=(ue=this.subtitle.runs)==null?void 0:ue.filter(H=>{var oe,ce;return(ce=(oe=H.endpoint)==null?void 0:oe.payload)==null?void 0:ce.browseId.startsWith("UC")});q&&(this.artists=q.map(H=>{var oe,ce;return{name:H==null?void 0:H.text,channel_id:(ce=(oe=H==null?void 0:H.endpoint)==null?void 0:oe.payload)==null?void 0:ce.browseId,endpoint:H==null?void 0:H.endpoint}}))}this.thumbnail=y.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=u.parseItem(e.thumbnailOverlay,zt),this.menu=u.parseItem(e.menu,U)}};s(Mf,"MusicTwoRowItem");Mf.type="MusicTwoRowItem";var gr=Mf;var Df=class extends a{constructor(e){super(),this.header=u.parseItem(e.header,Jx),this.contents=u.parseArray(e.contents,[gr,xt,Xx,xr]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};s(Df,"MusicCarouselShelf");Df.type="MusicCarouselShelf";var Ae=Df;var Lf=class extends a{constructor(e){super(),this.description=new c(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new c(e.footer)}};s(Lf,"MusicDescriptionShelf");Lf.type="MusicDescriptionShelf";var sn=Lf;var Of=class extends a{constructor(e){var n,o,r,l,f,d,x,b,g;super(),this.title=new c(e.title),this.description=new c(e.description),this.subtitle=new c(e.subtitle),this.second_subtitle=new c(e.secondSubtitle),this.year=((o=(n=this.subtitle.runs)==null?void 0:n.find(w=>/^[12][0-9]{3}$/.test(w.text)))==null?void 0:o.text)||"",this.song_count=((l=(r=this.second_subtitle.runs)==null?void 0:r[0])==null?void 0:l.text)||"",this.total_duration=((d=(f=this.second_subtitle.runs)==null?void 0:f[2])==null?void 0:d.text)||"",this.thumbnails=y.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=u.parseArray(e.subtitleBadges);let i=(x=this.subtitle.runs)==null?void 0:x.find(w=>{var T,S;return(S=(T=w==null?void 0:w.endpoint)==null?void 0:T.payload)==null?void 0:S.browseId.startsWith("UC")});i&&(this.author={name:i.text,channel_id:(g=(b=i.endpoint)==null?void 0:b.payload)==null?void 0:g.browseId,endpoint:i.endpoint}),this.menu=u.parseItem(e.menu)}};s(Of,"MusicDetailHeader");Of.type="MusicDetailHeader";var wr=Of;var Bf=class extends a{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};s(Bf,"MusicDownloadStateBadge");Bf.type="MusicDownloadStateBadge";var yI=Bf;var Uf=class extends a{constructor(e){super(),this.header=u.parseItem(e.header),this.edit_header=u.parseItem(e.editHeader),this.playlist_id=e.playlistId}};s(Uf,"MusicEditablePlaylistDetailHeader");Uf.type="MusicEditablePlaylistDetailHeader";var ey=Uf;var Vf=class extends a{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?u.parseItem(e,pr):null}};s(Vf,"MusicElementHeader");Vf.type="MusicElementHeader";var Yf=Vf;var Ff=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header=u.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new c(e.title))}};s(Ff,"MusicHeader");Ff.type="MusicHeader";var an=Ff;var Wf=class extends a{constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.thumbnail=u.parseItem(e.thumbnail,Oe)}};s(Wf,"MusicImmersiveHeader");Wf.type="MusicImmersiveHeader";var ty=Wf;var jf=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new m(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};s(jf,"ActionButton");jf.type="ActionButton";var Hf=class{constructor(e){this.image=y.fromResponse(e.image.image),this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new jf(i))}};s(Hf,"Panel");Hf.type="Panel";var Gf=class extends a{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new Hf(i))}};s(Gf,"MusicLargeCardItemCarousel");Gf.type="MusicLargeCardItemCarousel";var gI=Gf;var Kf=class extends a{constructor(e){super(),this.title=new c(e.title),this.edit_title=new c(e.editTitle),this.edit_description=new c(e.editDescription),this.privacy=e.privacy,this.playlist_id=e.playlistId,this.endpoint=new m(e.collaborationSettingsCommand),this.privacy_dropdown=u.parseItem(e.privacyDropdown,Yi)}};s(Kf,"MusicPlaylistEditHeader");Kf.type="MusicPlaylistEditHeader";var wI=Kf;var $f=class extends a{constructor(e){var i,n,o;super(),this.playlist_id=e.playlistId,this.contents=u.parseArray(e.contents,xt),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((o=(n=(i=e.continuations)==null?void 0:i[0])==null?void 0:n.nextContinuationData)==null?void 0:o.continuation)||null}};s($f,"MusicPlaylistShelf");$f.type="MusicPlaylistShelf";var eo=$f;var qf=class extends a{constructor(e){var o,r,l,f,d;super(),this.title=new c(e.title),this.thumbnail=y.fromResponse(e.thumbnail),this.endpoint=new m(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new c(e.lengthText).toString(),seconds:Pe(new c(e.lengthText).toString())};let i=(o=new c(e.longBylineText).runs)==null?void 0:o.find(x=>{var b,g,w;return(w=(g=(b=x.endpoint)==null?void 0:b.payload)==null?void 0:g.browseId)==null?void 0:w.startsWith("MPR")}),n=(r=new c(e.longBylineText).runs)==null?void 0:r.filter(x=>{var b,g,w;return(w=(g=(b=x.endpoint)==null?void 0:b.payload)==null?void 0:g.browseId)==null?void 0:w.startsWith("UC")});this.author=new c(e.shortBylineText).toString(),i&&(this.album={id:(f=(l=i.endpoint)==null?void 0:l.payload)==null?void 0:f.browseId,name:i.text,year:(d=new c(e.longBylineText).runs)==null?void 0:d.slice(-1)[0].text,endpoint:i.endpoint}),n&&(this.artists=n.map(x=>{var b,g;return{name:x.text,channel_id:(g=(b=x.endpoint)==null?void 0:b.payload)==null?void 0:g.browseId,endpoint:x.endpoint}})),this.badges=u.parseArray(e.badges),this.menu=u.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};s(qf,"PlaylistPanelVideo");qf.type="PlaylistPanelVideo";var vi=qf;var zf=class extends a{constructor(e){super(),this.primary=u.parseItem(e.primaryRenderer,vi),Reflect.has(e,"counterpart")&&(this.counterpart=j(e.counterpart.map(i=>u.parseItem(i.counterpartRenderer,vi))||[]))}};s(zf,"PlaylistPanelVideoWrapper");zf.type="PlaylistPanelVideoWrapper";var iy=zf;var Jf=class extends a{constructor(e){var i,n,o,r,l,f;super(),this.title=e.title,this.title_text=new c(e.titleText),this.contents=u.parseArray(e.contents,[iy,vi,Hi]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((o=(n=(i=e.continuations)==null?void 0:i[0])==null?void 0:n.nextRadioContinuationData)==null?void 0:o.continuation)||((f=(l=(r=e.continuations)==null?void 0:r[0])==null?void 0:l.nextContinuationData)==null?void 0:f.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};s(Jf,"PlaylistPanel");Jf.type="PlaylistPanel";var Jt=Jf;var Xf=class extends a{constructor(e){super(),this.content=u.parseItem(e.content,Jt)}};s(Xf,"MusicQueue");Xf.type="MusicQueue";var vr=Xf;var Zf=class extends a{constructor(e){super(),this.thumbnail=u.parseItem(e.thumbnail,Oe),this.buttons=u.parseArray(e.buttons,[tx,ge,br,I,U]),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.strapline_text_one=new c(e.straplineTextOne),this.strapline_thumbnail=u.parseItem(e.straplineThumbnail,Oe),this.second_subtitle=new c(e.secondSubtitle),Reflect.has(e,"subtitleBadge")&&(this.subtitle_badge=u.parseArray(e.subtitleBadge,_r)),Reflect.has(e,"description")&&(this.description=u.parseItem(e.description,sn))}};s(Zf,"MusicResponsiveHeader");Zf.type="MusicResponsiveHeader";var Tr=Zf;var Qf=class extends a{constructor(e){var i,n,o,r;super(),this.title=new c(e.title),this.contents=u.parseArray(e.contents,xt),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new m(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((n=(i=e.continuations)==null?void 0:i[0].nextContinuationData)==null?void 0:n.continuation)||((r=(o=e.continuations)==null?void 0:o[0].reloadContinuationData)==null?void 0:r.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new c(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=u.parseItem(e.bottomButton,I)),Reflect.has(e,"subheaders")&&(this.subheaders=u.parseArray(e.subheaders))}};s(Qf,"MusicShelf");Qf.type="MusicShelf";var de=Qf;var ed=class extends a{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=u.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=u.parseArray(e.endItems))}};s(ed,"MusicSideAlignedItem");ed.type="MusicSideAlignedItem";var ny=ed;var td=class extends a{constructor(e){super(),this.title=new c(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=u.parseItem(e.menu,Hx)}};s(td,"MusicSortFilterButton");td.type="MusicSortFilterButton";var id=td;var nd=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};s(nd,"MusicTastebuilderShelfThumbnail");nd.type="MusicTastebuilderShelfThumbnail";var oy=nd;var od=class extends a{constructor(e){super(),this.thumbnail=u.parseItem(e.thumbnail,oy),this.primary_text=new c(e.primaryText),this.secondary_text=new c(e.secondaryText),this.action_button=u.parseItem(e.actionButton,I),this.is_visible=e.isVisible}};s(od,"MusicTasteBuilderShelf");od.type="MusicTasteBuilderShelf";var ry=od;var rd=class extends a{constructor(e){var i,n;super(),this.title=new c(e.title),this.thumbnail=e.thumbnail?y.fromResponse((i=e.thumbnail.musicThumbnailRenderer)==null?void 0:i.thumbnail):[],this.menu=u.parseItem(e.menu,U),this.foreground_thumbnail=e.foregroundThumbnail?y.fromResponse((n=e.foregroundThumbnail.musicThumbnailRenderer)==null?void 0:n.thumbnail):[]}};s(rd,"MusicVisualHeader");rd.type="MusicVisualHeader";var sy=rd;var sd=class extends a{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.video_thumbnails=y.fromResponse(e.videoThumbnail),this.short_message=new c(e.shortMessage),this.sent_time=new c(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new m(e.navigationEndpoint),this.record_click_endpoint=new m(e.recordClickEndpoint),this.menu=u.parseItem(e.contextualMenu),this.read=e.read}};s(sd,"Notification");sd.type="Notification";var ay=sd;var ad=class extends a{constructor(e){super(),this.title=u.parseItem(e.title,ix),this.image=u.parseItem(e.image,[tr,qb]),this.metadata=u.parseItem(e.metadata,ur),this.actions=u.parseItem(e.actions,cx),this.description=u.parseItem(e.description,Qb),this.attributation=u.parseItem(e.attributation,H_),this.banner=u.parseItem(e.banner,xx)}};s(ad,"PageHeaderView");ad.type="PageHeaderView";var cy=ad;var cd=class extends a{constructor(e){super(),this.page_title=e.pageTitle,this.content=u.parseItem(e.content,cy)}};s(cd,"PageHeader");cd.type="PageHeader";var Xt=cd;var ud=class extends a{constructor(e){super(),this.header_text=new c(e.headerText).toString(),this.body_text=new c(e.bodyText).toString(),this.page_title=new c(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};s(ud,"PageIntroduction");ud.type="PageIntroduction";var uy=ud;var ld=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.endpoint=new m(e.onClickCommand),this.content_description=new c(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new c(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}};s(ld,"PivotButton");ld.type="PivotButton";var ly=ld;var pd=class extends a{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:y.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new m(e.featuredChannel.navigationEndpoint),subscribe_button:u.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};s(pd,"PlayerAnnotationsExpanded");pd.type="PlayerAnnotationsExpanded";var py=pd;var fd=class extends a{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new c(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new c(i.languageName)})))}};s(fd,"PlayerCaptionsTracklist");fd.type="PlayerCaptionsTracklist";var fy=fd;var dd=class extends a{constructor(e){super(),this.endpoint=new m(e.endpoint),this.enable_listen_first=e.enableListenFirst}};s(dd,"PlayerOverflow");dd.type="PlayerOverflow";var dy=dd;var hd=class extends a{constructor(e){super(),this.overflow=u.parseItem(e.overflow,dy)}};s(hd,"PlayerControlsOverlay");hd.type="PlayerControlsOverlay";var vI=hd;var md=class extends a{constructor(e){super(),this.subreason=new c(e.subreason),this.reason=new c(e.reason),this.proceed_button=u.parseItem(e.proceedButton,I),this.thumbnails=y.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};s(md,"PlayerErrorMessage");md.type="PlayerErrorMessage";var TI=md;var _d=class extends a{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};s(_d,"PlayerLegacyDesktopYpcOffer");_d.type="PlayerLegacyDesktopYpcOffer";var kI=_d;var bd=class extends a{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};s(bd,"YpcTrailer");bd.type="YpcTrailer";var hy=bd;var xd=class extends a{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=u.parseItem(e.ypcTrailer,hy)}};s(xd,"PlayerLegacyDesktopYpcTrailer");xd.type="PlayerLegacyDesktopYpcTrailer";var yd=xd;var gd=class extends a{constructor(e){super();let[i,n,o,r,l]=e.spec.split("#");this.board={type:"live",template_url:i,thumbnail_width:parseInt(n,10),thumbnail_height:parseInt(o,10),columns:parseInt(r,10),rows:parseInt(l,10)}}};s(gd,"PlayerLiveStoryboardSpec");gd.type="PlayerLiveStoryboardSpec";var my=gd;var wd=class extends a{constructor(e){var i,n;super(),this.title=new c(e.title),this.description=new c(e.description),this.thumbnails=y.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=(i=e.liveBroadcastDetails)!=null&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=(n=e.liveBroadcastDetails)!=null&&n.endTimestamp?new Date(e.liveBroadcastDetails.endTimestamp):null}};s(wd,"PlayerMicroformat");wd.type="PlayerMicroformat";var lt=wd;var vd=class extends a{constructor(e){super(),this.title=new c(e.title),this.video_id=e.videoId,this.video_title=new c(e.videoTitle),this.short_view_count=new c(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new c(e.publishedTimeText),this.background=y.fromResponse(e.background),this.thumbnail_overlays=u.parseArray(e.thumbnailOverlays),this.author=new A(e.byline),this.cancel_button=u.parseItem(e.cancelButton,I),this.next_button=u.parseItem(e.nextButton,I),this.close_button=u.parseItem(e.closeButton,I)}};s(vd,"PlayerOverlayAutoplay");vd.type="PlayerOverlayAutoplay";var _y=vd;var Td=class extends a{constructor(e){super(),this.results=u.parseArray(e.results,[sx,rx]),this.title=new c(e.title).toString()}};s(Td,"WatchNextEndScreen");Td.type="WatchNextEndScreen";var by=Td;var kd=class extends a{constructor(e){super(),this.end_screen=u.parseItem(e.endScreen,by),this.autoplay=u.parseItem(e.autoplay,_y),this.share_button=u.parseItem(e.shareButton,I),this.add_to_menu=u.parseItem(e.addToMenu,U),this.fullscreen_engagement=u.parseItem(e.fullscreenEngagement),this.actions=u.parseArray(e.actions),this.browser_media_session=u.parseItem(e.browserMediaSession),this.decorated_player_bar=u.parseItem(e.decoratedPlayerBarRenderer,Zb)}};s(kd,"PlayerOverlay");kd.type="PlayerOverlay";var cn=kd;var Id=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new c(e.title),this.subtitle=e.subtitle?new c(e.subtitle):null,this.stats=e.stats.map(i=>new c(i)),this.brief_stats=e.briefStats.map(i=>new c(i)),this.author=e.ownerText||e.ownerEndpoint?new A({...e.ownerText,navigationEndpoint:e.ownerEndpoint},e.ownerBadges,null):null,this.description=new c(e.descriptionText),this.num_videos=new c(e.numVideosText),this.view_count=new c(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=u.parseItem(e.saveButton),this.shuffle_play_button=u.parseItem(e.shufflePlayButton),this.menu=u.parseItem(e.moreActionsMenu),this.banner=u.parseItem(e.playlistHeaderBanner)}};s(Id,"PlaylistHeader");Id.type="PlaylistHeader";var xy=Id;var Sd=class extends a{constructor(e){super(),this.title=new c(e.playlistTitle),this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new c(e.playlistVideoCount),this.channel_name=new c(e.channelName),this.endpoint=new m(e.action)}};s(Sd,"PlaylistInfoCardContent");Sd.type="PlaylistInfoCardContent";var II=Sd;var Ed=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description||null}};s(Ed,"PlaylistMetadata");Ed.type="PlaylistMetadata";var yy=Ed;var Cd=class extends a{constructor(e){super(),this.items=u.parseArray(e.items)}get contents(){return this.items}};s(Cd,"PlaylistSidebar");Cd.type="PlaylistSidebar";var SI=Cd;var Nd=class extends a{constructor(e){super(),this.stats=e.stats.map(i=>new c(i)),this.thumbnail_renderer=u.parseItem(e.thumbnailRenderer),this.title=new c(e.title),this.menu=u.parseItem(e.menu),this.endpoint=new m(e.navigationEndpoint),this.description=new c(e.description)}};s(Nd,"PlaylistSidebarPrimaryInfo");Nd.type="PlaylistSidebarPrimaryInfo";var gy=Nd;var Pd=class extends a{constructor(e){super(),this.owner=u.parseItem(e.videoOwner),this.button=u.parseItem(e.button)}};s(Pd,"PlaylistSidebarSecondaryInfo");Pd.type="PlaylistSidebarSecondaryInfo";var wy=Pd;var Rd=class extends a{constructor(e){super(),this.id=e.videoId,this.index=new c(e.index),this.title=new c(e.title),this.author=new A(e.shortBylineText),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=u.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new m(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=u.parseItem(e.menu,U),this.video_info=new c(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label,Reflect.has(e,"style")&&(this.style=e.style);let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new c(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(Gn))==null?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(Gn))==null?void 0:e.style)==="UPCOMING"}};s(Rd,"PlaylistVideo");Rd.type="PlaylistVideo";var kr=Rd;var Ad=class extends a{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=u.parseArray(e.contents)}};s(Ad,"PlaylistVideoList");Ad.type="PlaylistVideoList";var EI=Ad;var Md=class extends a{constructor(e){super(),this.choices=e.choices.map(i=>({text:new c(i.text),select_endpoint:i.selectServiceEndpoint?new m(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new m(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new c(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new c(i.votePercentageIfSelected),image:i.image?y.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new c(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};s(Md,"Poll");Md.type="Poll";var CI=Md;var Dd=class extends Ki{constructor(e){super(e)}};s(Dd,"Post");Dd.type="Post";var vy=Dd;var Ld=class extends a{constructor(e){super(),this.images=u.parseArray(e.images,$_)}};s(Ld,"PostMultiImage");Ld.type="PostMultiImage";var NI=Ld;var Od=class extends a{constructor(e){super(),this.title=new c(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};s(Od,"ProductListHeader");Od.type="ProductListHeader";var PI=Od;var Bd=class extends a{constructor(e){super(),this.title=new c(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=y.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new m(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=u.parseItem(e.viewButton,I)}};s(Bd,"ProductListItem");Bd.type="ProductListItem";var RI=Bd;var Ud=class extends a{constructor(e){super(),this.items=u.parseArray(e.items)}get contents(){return this.items}};s(Ud,"ProfileColumn");Ud.type="ProfileColumn";var AI=Ud;var Vd=class extends a{constructor(e){super(),this.items=u.parseArray(e.items)}get contents(){return this.items}};s(Vd,"ProfileColumnStats");Vd.type="ProfileColumnStats";var MI=Vd;var Yd=class extends a{constructor(e){super(),this.label=new c(e.label),this.value=new c(e.value)}};s(Yd,"ProfileColumnStatsEntry");Yd.type="ProfileColumnStatsEntry";var DI=Yd;var Fd=class extends a{constructor(e){super(),this.title=new c(e.title),this.thumbnails=y.fromResponse(e.thumbnail)}};s(Fd,"ProfileColumnUserInfo");Fd.type="ProfileColumnUserInfo";var LI=Fd;var Wd=class extends a{constructor(e){super(),this.choices=e.choices.map(i=>({text:new c(i.text),is_correct:i.isCorrect})),this.total_votes=new c(e.totalVotes)}};s(Wd,"Quiz");Wd.type="Quiz";var OI=Wd;var jd=class extends a{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.avatars=e.avatars.map(i=>new y(i)),this.button=u.parseItem(e.button,I),this.surface=e.surface}};s(jd,"RecognitionShelf");jd.type="RecognitionShelf";var BI=jd;var Hd=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new c(e.headline),this.thumbnails=y.fromResponse(e.thumbnail),this.views=new c(e.viewCountText),this.endpoint=new m(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};s(Hd,"ReelItem");Hd.type="ReelItem";var Ir=Hd;var Gd=class extends a{constructor(e){super(),this.reel_title_text=new c(e.reelTitleText),this.timestamp_text=new c(e.timestampText),this.channel_title_text=new c(e.channelTitleText),this.channel_thumbnail=y.fromResponse(e.channelThumbnail),this.author=new A(e.channelNavigationEndpoint,void 0)}};s(Gd,"ReelPlayerHeader");Gd.type="ReelPlayerHeader";var Ty=Gd;var Kd=class extends a{constructor(e){super(),this.like_button=u.parseItem(e.likeButton,kx),this.reel_player_header_supported_renderers=u.parseItem(e.reelPlayerHeaderSupportedRenderers,Ty),this.menu=u.parseItem(e.menu,U),this.next_item_button=u.parseItem(e.nextItemButton,I),this.prev_item_button=u.parseItem(e.prevItemButton,I),this.subscribe_button_renderer=u.parseItem(e.subscribeButtonRenderer,[I,Re]),this.style=e.style,this.view_comments_button=u.parseItem(e.viewCommentsButton,I),this.share_button=u.parseItem(e.shareButton,I),this.pivot_button=u.parseItem(e.pivotButton,ly),this.info_panel=u.parseItem(e.infoPanel,gx)}};s(Kd,"ReelPlayerOverlay");Kd.type="ReelPlayerOverlay";var UI=Kd;var $d=class extends a{constructor(e){super(),this.content=u.parseItem(e.content)}};s($d,"RelatedChipCloud");$d.type="RelatedChipCloud";var ky=$d;var qd=class extends a{constructor(e){super(),this.header=u.parseItem(e.header),this.contents=u.parseArray(e.contents)}};s(qd,"RichGrid");qd.type="RichGrid";var un=qd;var zd=class extends a{constructor(e){super(),this.content=u.parseItem(e.content)}};s(zd,"RichItem");zd.type="RichItem";var VI=zd;var Jd=class extends a{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};s(Jd,"RichListHeader");Jd.type="RichListHeader";var YI=Jd;var Xd=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.call_to_action=new c(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new m(e.endpoint)}};s(Xd,"RichMetadata");Xd.type="RichMetadata";var Zd=Xd;var Qd=class extends a{constructor(e){super(),this.contents=u.parseArray(e.contents)}};s(Qd,"RichMetadataRow");Qd.type="RichMetadataRow";var eh=Qd;var th=class extends a{constructor(e){super(),this.content=u.parseItem(e.content)}};s(th,"RichSection");th.type="RichSection";var FI=th;var ih=class extends a{constructor(e){super(),this.title=new c(e.title),this.contents=u.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new m(e.endpoint))}};s(ih,"RichShelf");ih.type="RichShelf";var Iy=ih;var nh=class extends a{constructor(e){super(),this.endpoint=new m(e.endpoint),this.search_button=u.parseItem(e.searchButton,I),this.clear_button=u.parseItem(e.clearButton,I),this.placeholder_text=new c(e.placeholderText)}};s(nh,"SearchBox");nh.type="SearchBox";var WI=nh;var oh=class extends a{constructor(e){super(),this.label=new c(e.label),this.endpoint=new m(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};s(oh,"SearchFilter");oh.type="SearchFilter";var Sy=oh;var rh=class extends a{constructor(e){super(),this.title=new c(e.title),this.filters=u.parseArray(e.filters,Sy)}};s(rh,"SearchFilterGroup");rh.type="SearchFilterGroup";var Sr=rh;var sh=class extends a{constructor(e){super(),this.title=new c(e.title),this.groups=u.parseArray(e.groups,Sr)}};s(sh,"SearchFilterOptionsDialog");sh.type="SearchFilterOptionsDialog";var jI=sh;var ah=class extends a{constructor(e){super(),this.chip_bar=u.parseItem(e.chipBar,ct),this.search_filter_button=u.parseItem(e.searchFilterButton,I)}};s(ah,"SearchHeader");ah.type="SearchHeader";var Ey=ah;var ch=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new c(e.title)),Reflect.has(e,"groups")&&(this.groups=u.parseArray(e.groups,Sr)),Reflect.has(e,"button")&&(this.button=u.parseItem(e.button,ge))}};s(ch,"SearchSubMenu");ch.type="SearchSubMenu";var Cy=ch;var uh=class extends a{constructor(e){super(),this.contents=u.parseArray(e.contents)}};s(uh,"SearchSuggestionsSection");uh.type="SearchSuggestionsSection";var Ny=uh;var lh=class extends a{constructor(e){super(),this.contents=u.parseArray(e.contents)}};s(lh,"SecondarySearchContainer");lh.type="SecondarySearchContainer";var HI=lh;var ph=class extends a{constructor(e){super(),this.like_button=u.parseItem(e.likeButton,[ge,I]),this.dislike_button=u.parseItem(e.dislikeButton,[ge,I])}};s(ph,"SegmentedLikeDislikeButton");ph.type="SegmentedLikeDislikeButton";var to=ph;var fh=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new c(e.title)),Reflect.has(e,"summary")&&(this.summary=new c(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new m(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new m(e.disableServiceEndpoint)),this.item_id=e.itemId}};s(fh,"SettingBoolean");fh.type="SettingBoolean";var GI=fh;var dh=class extends a{constructor(e){super(),this.title=new c(e.title),this.help_text=new c(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};s(dh,"SettingsCheckbox");dh.type="SettingsCheckbox";var Py=dh;var hh=class extends a{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new m(e.enableServiceEndpoint),this.disable_endpoint=new m(e.disableServiceEndpoint)}};s(hh,"SettingsSwitch");hh.type="SettingsSwitch";var Er=hh;var mh=class extends a{constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"text")&&(this.text=new c(e.text).toString()),Reflect.has(e,"options")&&(this.options=u.parseArray(e.options,[Er,Yi,lr,Py,Nb]))}};s(mh,"SettingsOptions");mh.type="SettingsOptions";var Cr=mh;var _h=class extends a{constructor(e){super(),this.title=new c(e.title),this.items=u.parseArray(e.items,ji)}get contents(){return this.items}};s(_h,"SettingsSidebar");_h.type="SettingsSidebar";var Ry=_h;var bh=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.content=new c(e.content),this.published=new c(e.publishedTimeText),this.menu=Z(e.actionMenu,U),this.original_post=Z(e.originalPost,Ki),this.id=e.postId,this.endpoint=new m(e.navigationEndpoint),this.expand_button=Z(e.expandButton,I),this.author=new A(e.displayName,void 0)}};s(bh,"SharedPost");bh.type="SharedPost";var Ay=bh;var xh=class extends a{constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new m(e.endpoint)),this.content=u.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=u.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=u.parseItem(e.playAllButton,I))}};s(xh,"Shelf");xh.type="Shelf";var Nr=xh;var yh=class extends a{constructor(e){var i;super(),this.entity_id=e.entityId,this.accessibility_text=e.accessibilityText,this.thumbnail=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new m(e.onTap),this.menu_on_tap=new m(e.menuOnTap),this.index_in_collection=e.indexInCollection,this.menu_on_tap_a11y_label=e.menuOnTapA11yLabel,this.overlay_metadata={primary_text:e.overlayMetadata.primaryText?c.fromAttributed(e.overlayMetadata.primaryText):void 0,secondary_text:e.overlayMetadata.secondaryText?c.fromAttributed(e.overlayMetadata.secondaryText):void 0},(i=e.inlinePlayerData)!=null&&i.onVisible&&(this.inline_player_data=new m(e.inlinePlayerData.onVisible)),e.badge&&(this.badge=u.parseItem(e.badge,$i))}};s(yh,"ShortsLockupView");yh.type="ShortsLockupView";var Pr=yh;var gh=class extends a{constructor(e){super(),this.corrected_query=new c(e.correctedQuery),this.original_query=new c(e.originalQuery),this.corrected_query_endpoint=new m(e.correctedQueryEndpoint),this.original_query_endpoint=new m(e.originalQueryEndpoint),this.search_instead_for=new c(e.searchInsteadFor),this.showing_results_for=new c(e.showingResultsFor)}};s(gh,"ShowingResultsFor");gh.type="ShowingResultsFor";var My=gh;var wh=class extends a{constructor(e){super(),this.image=y.fromResponse(e.image),this.title=new c(e.title),this.display_domain=new c(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new c(e.callToAction),this.endpoint=new m(e.command)}};s(wh,"SimpleCardContent");wh.type="SimpleCardContent";var KI=wh;var vh=class extends a{constructor(e){super(),this.message=new c(e.message),this.prominent=e.prominent}};s(vh,"SimpleCardTeaser");vh.type="SimpleCardTeaser";var $I=vh;var Th=class extends a{constructor(e){super(),this.lines=e.lines.map(i=>new c(i)),this.style=e.layoutStyle}};s(Th,"SimpleTextSection");Th.type="SimpleTextSection";var qI=Th;var kh=class extends a{constructor(e){super(),this.action_text=new c(e.actionText),this.nav_text=new c(e.navigationText),this.details=new c(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new m(e.navigationEndpoint)}};s(kh,"SingleActionEmergencySupport");kh.type="SingleActionEmergencySupport";var zI=kh;var Ih=class extends a{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new m(e.endpoint),this.content=u.parseItem(e.content,[G,vr,un])}};s(Ih,"Tab");Ih.type="Tab";var pe=Ih;var Sh=class extends a{constructor(e){super(),this.tabs=u.parseArray(e.tabs,pe)}};s(Sh,"SingleColumnBrowseResults");Sh.type="SingleColumnBrowseResults";var Zt=Sh;var Eh=class extends a{constructor(e){super(),this.contents=u.parse(e)}};s(Eh,"SingleColumnMusicWatchNextResults");Eh.type="SingleColumnMusicWatchNextResults";var JI=Eh;var Ch=class extends a{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.style=e.style}};s(Ch,"SingleHeroImage");Ch.type="SingleHeroImage";var XI=Ch;var Nh=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new c(e.title),this.endpoint=new m(e.navigationEndpoint),this.subscribe_button=u.parseItem(e.subscribeButton,Re)}};s(Nh,"SlimOwner");Nh.type="SlimOwner";var ZI=Nh;var Ph=class extends a{constructor(e){super(),this.title=new c(e.title),this.collapsed_subtitle=new c(e.collapsedSubtitle),this.expanded_subtitle=new c(e.expandedSubtitle),this.owner=u.parseItem(e.owner),this.description=new c(e.description),this.video_id=e.videoId,this.date=new c(e.dateText)}};s(Ph,"SlimVideoMetadata");Ph.type="SlimVideoMetadata";var Dy=Ph;var Rh=class extends a{constructor(e){super(),this.name=new c(e.name),this.is_selected=e.isSelected,this.endpoint=new m(e.navigationEndpoint)}};s(Rh,"SubFeedOption");Rh.type="SubFeedOption";var Ly=Rh;var Ah=class extends a{constructor(e){super(),this.title=new c(e.title),this.options=u.parseArray(e.options,Ly)}};s(Ah,"SubFeedSelector");Ah.type="SubFeedSelector";var QI=Ah;var Mh=class extends a{constructor(e){super(),this.contents=u.parse(e)}};s(Mh,"Tabbed");Mh.type="Tabbed";var eS=Mh;var Dh=class extends a{constructor(e){super(),this.tabs=u.parseArray(e.tabs,pe)}};s(Dh,"TabbedSearchResults");Dh.type="TabbedSearchResults";var Oy=Dh;var Lh=class extends a{constructor(e){super(),this.title=new c(e.title),this.style=e.style}};s(Lh,"TextHeader");Lh.type="TextHeader";var tS=Lh;var Oh=class extends a{constructor(e){super(),this.landscape=y.fromResponse(e.landscape),this.portrait=y.fromResponse(e.portrait)}};s(Oh,"ThumbnailLandscapePortrait");Oh.type="ThumbnailLandscapePortrait";var iS=Oh;var Bh=class extends a{constructor(e){super(),this.text=new c(e.text).toString()}};s(Bh,"ThumbnailOverlayEndorsement");Bh.type="ThumbnailOverlayEndorsement";var nS=Bh;var Uh=class extends a{constructor(e){super(),this.text=new c(e.text),this.icon_type=e.icon.iconType}};s(Uh,"ThumbnailOverlayHoverText");Uh.type="ThumbnailOverlayHoverText";var oS=Uh;var Vh=class extends a{constructor(e){super(),this.text=new c(e.text).toString(),this.icon_type=e.icon.iconType}};s(Vh,"ThumbnailOverlayInlineUnplayable");Vh.type="ThumbnailOverlayInlineUnplayable";var rS=Vh;var Yh=class extends a{constructor(e){super(),this.text=new c(e.text)}};s(Yh,"ThumbnailOverlayLoadingPreview");Yh.type="ThumbnailOverlayLoadingPreview";var sS=Yh;var Fh=class extends a{constructor(e){super(),this.text=new c(e.text).toString()}};s(Fh,"ThumbnailOverlayNowPlaying");Fh.type="ThumbnailOverlayNowPlaying";var aS=Fh;var Wh=class extends a{constructor(e){super(),this.hack=e.hack}};s(Wh,"ThumbnailOverlayPinking");Wh.type="ThumbnailOverlayPinking";var cS=Wh;var jh=class extends a{constructor(e){super(),this.texts=e.texts.map(i=>new c(i))}};s(jh,"ThumbnailOverlayPlaybackStatus");jh.type="ThumbnailOverlayPlaybackStatus";var uS=jh;var Hh=class extends a{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};s(Hh,"ThumbnailOverlayResumePlayback");Hh.type="ThumbnailOverlayResumePlayback";var lS=Hh;var Gh=class extends a{constructor(e){super(),this.text=new c(e.text),this.icon_type=e.icon.iconType}};s(Gh,"ThumbnailOverlaySidePanel");Gh.type="ThumbnailOverlaySidePanel";var pS=Gh;var Kh=class extends a{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},e.toggledServiceEndpoint&&(this.toggled_endpoint=new m(e.toggledServiceEndpoint)),e.untoggledServiceEndpoint&&(this.untoggled_endpoint=new m(e.untoggledServiceEndpoint))}};s(Kh,"ThumbnailOverlayToggleButton");Kh.type="ThumbnailOverlayToggleButton";var fS=Kh;var $h=class extends a{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new c(e.label),this.icon=e.icon}};s($h,"TimedMarkerDecoration");$h.type="TimedMarkerDecoration";var dS=$h;var qh=class extends a{constructor(e){super(),this.title=new c(e.title)}};s(qh,"TitleAndButtonListHeader");qh.type="TitleAndButtonListHeader";var hS=qh;var zh=class extends a{constructor(e){super(),this.text=new c(e.defaultText),this.toggled_text=new c(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new m(e.defaultServiceEndpoint),this.toggled_endpoint=new m(e.toggledServiceEndpoint)}};s(zh,"ToggleMenuServiceItem");zh.type="ToggleMenuServiceItem";var mS=zh;var Jh=class extends a{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new m(i)),accept:new m(e.promoConfig.acceptCommand),dismiss:new m(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new c(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};s(Jh,"Tooltip");Jh.type="Tooltip";var _S=Jh;var Xh=class extends a{constructor(e){var i;super(),this.title=new c(e.title),this.avatar=y.fromResponse((i=e.thumbnail)!=null?i:e.avatar),this.subtitle=new c(e.subtitle),this.subscribe_button=u.parseItem(e.subscribeButton,Re),this.endpoint=new m(e.navigationEndpoint)}};s(Xh,"TopicChannelDetails");Xh.type="TopicChannelDetails";var bS=Xh;var Zh=class extends a{constructor(e){super(),this.tabs=u.parse(e.tabs),this.secondary_contents=u.parse(e.secondaryContents)}};s(Zh,"TwoColumnBrowseResults");Zh.type="TwoColumnBrowseResults";var Qt=Zh;var Qh=class extends a{constructor(e){super(),this.primary_contents=u.parse(e.primaryContents),this.secondary_contents=u.parse(e.secondaryContents)}};s(Qh,"TwoColumnSearchResults");Qh.type="TwoColumnSearchResults";var By=Qh;var Uy,iv,em=class extends a{constructor(e){var o,r,l,f,d;super(),Uy.add(this),this.results=u.parseArray((o=e.results)==null?void 0:o.results.contents),this.secondary_results=u.parseArray((r=e.secondaryResults)==null?void 0:r.secondaryResults.results),this.conversation_bar=u.parseItem(e==null?void 0:e.conversationBar);let i=(l=e.playlist)==null?void 0:l.playlist;i&&(this.playlist={id:i.playlistId,title:i.title,author:(f=i.shortBylineText)!=null&&f.simpleText?new c(i.shortBylineText):new A(i.longBylineText),contents:u.parseArray(i.contents),current_index:i.currentIndex,is_infinite:!!i.isInfinite,menu:u.parseItem(i.menu,U)});let n=(d=e.autoplay)==null?void 0:d.autoplay;n&&(this.autoplay={sets:n.sets.map(x=>p(this,Uy,"m",iv).call(this,x))},n.modifiedSets&&(this.autoplay.modified_sets=n.modifiedSets.map(x=>p(this,Uy,"m",iv).call(this,x))),n.countDownSecs&&(this.autoplay.count_down_secs=n.countDownSecs))}};s(em,"TwoColumnWatchNextResults");Uy=new WeakSet,iv=s(function(e){let i={autoplay_video:new m(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new m(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");em.type="TwoColumnWatchNextResults";var Rr=em;var tm=class extends a{constructor(e){super(),this.header=u.parseItem(e.header),this.call_to_action=u.parseItem(e.callToAction),this.sections=u.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new c(e.collapsedLabel))}};s(tm,"UniversalWatchCard");tm.type="UniversalWatchCard";var Vy=tm;var im=class extends a{constructor(e){super(),this.message_title=new c(e.dialogMessageTitle),this.message_text=new c(e.dialogMessageText),this.action_button=u.parseItem(e.actionButton,I),this.dismiss_button=u.parseItem(e.dismissButton,I),this.is_visible=e.isVisible}};s(im,"UpsellDialog");im.type="UpsellDialog";var xS=im;var nm=class extends a{constructor(e){super(),this.items=u.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new c(e.collapsedStateButtonText)}get contents(){return this.items}};s(nm,"VerticalList");nm.type="VerticalList";var yS=nm;var om=class extends a{constructor(e){super(),this.items=u.parseArray(e.items),this.view_all_text=new c(e.viewAllText),this.view_all_endpoint=new m(e.viewAllEndpoint)}get contents(){return this.items}};s(om,"VerticalWatchCardList");om.type="VerticalWatchCardList";var gS=om;var rm=class extends a{constructor(e){super(),this.title=new c(e.videoTitle),this.channel_name=new c(e.channelName),this.view_count=new c(e.viewCountText),this.video_thumbnails=y.fromResponse(e.videoThumbnail),this.duration=new c(e.lengthString),this.endpoint=new m(e.action)}};s(rm,"VideoInfoCardContent");rm.type="VideoInfoCardContent";var wS=rm;var sm=class extends a{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new c(e.subscriberCountText),this.author=new A({...e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.thumbnail)}};s(sm,"VideoOwner");sm.type="VideoOwner";var Ar=sm;var am=class extends a{constructor(e){var i,n,o,r;super(),this.title=new c(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new c(e.superTitleLink)),this.view_count=new c((n=(i=e.viewCount)==null?void 0:i.videoViewCountRenderer)==null?void 0:n.viewCount),this.short_view_count=new c((r=(o=e.viewCount)==null?void 0:o.videoViewCountRenderer)==null?void 0:r.shortViewCount),this.badges=u.parseArray(e.badges,Qe),this.published=new c(e.dateText),this.relative_date=new c(e.relativeDateText),this.menu=u.parseItem(e.videoActions,U)}};s(am,"VideoPrimaryInfo");am.type="VideoPrimaryInfo";var Yy=am;var cm=class extends a{constructor(e){super(),this.owner=u.parseItem(e.owner,Ar),this.description=new c(e.description),Reflect.has(e,"attributedDescription")&&(this.description=c.fromAttributed(e.attributedDescription)),this.subscribe_button=u.parseItem(e.subscribeButton,[Re,I]),this.metadata=u.parseItem(e.metadataRowContainer,$x),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};s(cm,"VideoSecondaryInfo");cm.type="VideoSecondaryInfo";var um=cm;var lm=class extends a{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.duration={text:new c(e.lengthText).toString(),seconds:Pe(e.lengthText.simpleText)},this.style=e.style}};s(lm,"WatchCardCompactVideo");lm.type="WatchCardCompactVideo";var Fy=lm;var pm=class extends a{constructor(e){var i;super(),this.endpoint=new m(e.navigationEndpoint),this.call_to_action_button=u.parseItem(e.callToActionButton),this.hero_image=u.parseItem(e.heroImage),this.label=((i=e.lengthText)==null?void 0:i.accessibility.accessibilityData.label)||""}};s(pm,"WatchCardHeroVideo");pm.type="WatchCardHeroVideo";var vS=pm;var fm=class extends a{constructor(e){super(),this.title=new c(e.title),this.title_endpoint=new m(e.titleNavigationEndpoint),this.subtitle=new c(e.subtitle),this.author=new A(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};s(fm,"WatchCardRichHeader");fm.type="WatchCardRichHeader";var TS=fm;var dm=class extends a{constructor(e){super(),this.lists=u.parseArray(e.lists)}};s(dm,"WatchCardSectionSequence");dm.type="WatchCardSectionSequence";var kS=dm;var hm=class extends Qt{constructor(e){super(e)}};s(hm,"WatchNextTabbedResults");hm.type="WatchNextTabbedResults";var Wy=hm;var mm=class extends a{constructor(e){var i,n;super(),this.title=e.title,this.content=u.parseItem(e.content,G),this.endpoint=new m(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)==null?void 0:i.assetKey,background_color:(n=e.categoryAssets)==null?void 0:n.backgroundColor},this.category_type=e.categoryType}};s(mm,"AnchoredSection");mm.type="AnchoredSection";var jy=mm;var _m,bm=class extends a{constructor(e){super(),_m.set(this,void 0),this.child_display_name=new c(e.childDisplayName),this.child_account_description=new c(e.childAccountDescription),this.avatar=y.fromResponse(e.avatar),this.block_button=u.parseItem(e.blockButton,[ge]),this.blocked_entity_key=e.blockedEntityKey}async blockChannel(){if(!p(this,_m,"f"))throw new _("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new _("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new _("This channel is already blocked.",{child_display_name:this.child_display_name});return await e.endpoint.call(p(this,_m,"f"),{parse:!1})}setActions(e){k(this,_m,e,"f")}};s(bm,"KidsBlocklistPickerItem");_m=new WeakMap;bm.type="KidsBlocklistPickerItem";var Mr=bm;var xm=class extends a{constructor(e){super(),this.title=new c(e.title),this.child_rows=u.parse(e.childRows,!0,[Mr]),this.done_button=u.parseItem(e.doneButton,[I]),this.successful_toast_action_message=new c(e.successfulToastActionMessage)}};s(xm,"KidsBlocklistPicker");xm.type="KidsBlocklistPicker";var IS=xm;var ym=class extends a{constructor(e){var i,n;super(),this.title=new c(e.title),this.category_assets={asset_key:(i=e.categoryAssets)==null?void 0:i.assetKey,background_color:(n=e.categoryAssets)==null?void 0:n.backgroundColor},this.category_type=e.categoryType,this.endpoint=new m(e.endpoint)}};s(ym,"KidsCategoryTab");ym.type="KidsCategoryTab";var Dr=ym;var gm=class extends a{constructor(e){super(),this.category_tabs=u.parseArray(e.categoryTabs,Dr),this.privacy_button=u.parseItem(e.privacyButtonRenderer,I)}};s(gm,"KidsCategoriesHeader");gm.type="kidsCategoriesHeader";var Hy=gm;var wm=class extends a{constructor(e){super(),this.anchors=u.parseArray(e.anchors,jy)}};s(wm,"KidsHomeScreen");wm.type="kidsHomeScreen";var Gy=wm;var uv={};D(uv,{camelToSnake:()=>io,createRuntimeClass:()=>LS,generateRuntimeClass:()=>km,generateTypescriptClass:()=>$y,inferType:()=>Ky,introspect:()=>rv,isArrayType:()=>MS,isIgnoredKey:()=>DS,isMiscType:()=>AS,isRenderer:()=>ov,isRendererList:()=>RS,mergeKeyInfo:()=>vm,parse:()=>cv,toParser:()=>av,toTypeDeclaration:()=>sv});var R2=new Set(["trackingParams","accessibility","accessibilityData"]),nv={};function io(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}s(io,"camelToSnake");function Ky(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=ov(e))return nv[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=RS(e)){for(let[o,r]of Object.entries(i))nv[o]=r;return{type:"array",array_type:"renderer",renderers:Object.keys(i),optional:!1}}if((i=AS(t,e))||(i=MS(e)))return i}let n=typeof e;return n==="object"?{type:"object",keys:Object.entries(e).map(([o,r])=>[o,Ky(o,r)]),optional:!1}:{type:"primative",typeof:[n],optional:!1}}s(Ky,"inferType");function RS(t){let e=Array.isArray(t);return e&&t.length===0?!1:e&&t.every(n=>ov(n))?Object.fromEntries(t.map(n=>{let o=Reflect.ownKeys(n)[0].toString();return[Im(o),n[o]]})):!1}s(RS,"isRendererList");function AS(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new m(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let i=new c(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}s(AS,"isMiscType");function ov(t){if(!(typeof t=="object"))return!1;let i=Reflect.ownKeys(t);if(i.length===1){let n=i[0].toString();if(n.endsWith("Renderer")||n.endsWith("Model"))return Im(n)}return!1}s(ov,"isRenderer");function MS(t){if(!Array.isArray(t))return!1;if(t.length===0)return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["never"],optional:!1},optional:!1};let e=t.map(r=>typeof r);if(!e.every(r=>r===e[0]))return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!1},optional:!1};let n=e[0];if(n!=="object")return{type:"array",array_type:"primitive",items:{type:"primative",typeof:[n],optional:!1},optional:!1};let o=[];for(let r=0;r<t.length;r++){let l=Object.entries(t[r]).map(([f,d])=>[f,Ky(f,d)]);if(r===0){o=l;continue}o=vm(o,l).resolved_key_info}return{type:"array",array_type:"object",items:{type:"object",keys:o,optional:!1},optional:!1}}s(MS,"isArrayType");function A2(t){if(typeof t!="object"||t===null)throw new _("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!DS(i)).filter(i=>typeof i=="string").map(i=>{let n=Reflect.get(t,i),o=Ky(i,n);return[i,o]})}s(A2,"introspectKeysFirstPass");function M2(t){var l;let i=t.filter(([,f])=>{var d;return f.type!=="misc"||!(f.misc_type==="NavigationEndpoint"||f.misc_type==="Text")?!1:((d=f.endpoint)==null?void 0:d.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,f],[,d])=>f.type!=="misc"||d.type!=="misc"||f.misc_type!=="Text"||d.misc_type!=="Text"?0:d.text.length-f.text.length),n=new Set,o=i[0],r;if(o){n.add(o[0]);let d=t.map(([T])=>T).filter(T=>T.endsWith("Badges")||T==="badges"),b=(l=d.filter(T=>T.startsWith("owner")||T.startsWith("author"))[0])!=null?l:d[0],g=t.find(([T])=>T===b),w=g?g[1].type==="array"&&g[1].array_type==="renderer"&&Reflect.has(g[1].renderers,"MetadataBadge"):!1;w&&b&&n.add(b),r={type:"misc",misc_type:"Author",optional:!1,params:[o[0],w?b:void 0]}}return r&&t.push(["author",r]),t.filter(([f])=>!n.has(f))}s(M2,"introspectKeysSecondPass");function D2(t){let e=A2(t);return M2(e)}s(D2,"introspect2");function rv(t){let e=D2(t),i=new Map;for(let[,o]of e)if(o.type==="renderer"||o.type==="array"&&o.array_type==="renderer")for(let r of o.renderers){let l=nv[r];l&&i.set(r,l)}let n=Array.from(i).filter(([o])=>!qy(o));return{key_info:e,unimplemented_dependencies:n}}s(rv,"introspect");function DS(t){return typeof t=="string"&&R2.has(t)}s(DS,"isIgnoredKey");function LS(t,e,i){var n,o;i({error_type:"class_not_found",classname:t,key_info:e});let r=(n=s(class extends a{static set key_info(l){k(this,n,new Map(l),"f",o)}static get key_info(){return[...p(this,n,"f",o).entries()]}constructor(l){super();let{key_info:f,unimplemented_dependencies:d}=rv(l),{resolved_key_info:x,changed_keys:b}=vm(r.key_info,f);b.length>0&&(r.key_info=x,i({error_type:"class_changed",classname:t,key_info:r.key_info,changed_keys:b}));for(let[w,T]of d)km(w,T,i);for(let[w,T]of f){let S=io(w);T.type==="misc"&&T.misc_type==="NavigationEndpoint"&&(S="endpoint"),Reflect.set(this,S,cv(w,T,l))}}},"_a"),ET(n,"node"),n.type=t,o={value:new Map},n);return r.key_info=e,Object.defineProperty(r,"name",{value:t,writable:!1}),r}s(LS,"createRuntimeClass");function km(t,e,i){let{key_info:n,unimplemented_dependencies:o}=rv(e),r=LS(t,n,i);lv(t,r);for(let[l,f]of o)km(l,f,i);return r}s(km,"generateRuntimeClass");function $y(t,e){let i=[],n=["super();"];for(let[o,r]of e){let l=io(o);r.type==="misc"&&r.misc_type==="NavigationEndpoint"&&(l="endpoint"),i.push(`${l}${r.optional?"?":""}: ${sv(r)};`),n.push(`this.${l} = ${av(o,r)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${i.join(`
  `)}

  constructor(data: RawNode) {
    ${n.join(`
    `)}
  }
}
`}s($y,"generateTypescriptClass");function SS(t,e){return`{
${e.map(([i,n])=>`${" ".repeat((t+2)*2)}${io(i)}${n.optional?"?":""}: ${sv(n,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}s(SS,"toTypeDeclarationObject");function sv(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"primitive":{let i=t.items.typeof;return t.items.optional&&!i.includes("undefined")&&i.push("undefined"),`${i.length===1?`${i[0]}`:`(${i.join(" | ")})`}[]`}case"object":return`${SS(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return SS(e,t.keys);case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primative":return t.typeof.join(" | ")}}s(sv,"toTypeDeclaration");function ES(t,e,i,n){let o=[...i,n];return`{
${e.map(([r,l])=>`${" ".repeat((t+2)*2)}${io(r)}: ${av(r,l,o,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}s(ES,"toParserObject");function av(t,e,i=["data"],n=1){let o="undefined";switch(e.type){case"renderer":o=`Parser.parseItem(${i.join(".")}.${t}, ${CS(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":o=`Parser.parse(${i.join(".")}.${t}, true, ${CS(e.renderers)})`;break;case"object":o=`${i.join(".")}.${t}.map((item: any) => (${ES(n,e.items.keys,[],"item")}))`;break;case"primitive":o=`${i.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":o=ES(n,e.keys,i,t);break;case"misc":switch(e.misc_type){case"Thumbnail":o=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let r=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${r} : undefined`:r}default:o=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(o==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":o=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${o} : undefined`:o}s(av,"toParser");function CS(t){return t.length===1?`YTNodes.${t[0]}`:`[ ${t.map(e=>`YTNodes.${e}`).join(", ")} ]`}s(CS,"toParserValidTypes");function ei(t,e){let i=t;for(let n of e)i=i[n];return i}s(ei,"accessDataFromKeyPath");function NS(t,e){let i=t;for(let n of e)if(Reflect.has(i,n))i=i[n];else return!1;return!0}s(NS,"hasDataFromKeyPath");function PS(t,e,i,n,o){let r={},l=[...i,t];for(let[f,d]of n)r[f]=o?cv(f,d,e,l):void 0;return r}s(PS,"parseObject");function cv(t,e,i,n=["data"]){let o=!e.optional||NS({data:i},[...n,t]);switch(e.type){case"renderer":return o?Z(ei({data:i},[...n,t]),e.renderers.map(r=>Tm(r))):void 0;case"array":{switch(e.array_type){case"renderer":return o?$e(ei({data:i},[...n,t]),!0,e.renderers.map(r=>Tm(r))):void 0;case"object":return o?ei({data:i},[...n,t]).map((r,l)=>PS(`${l}`,i,[...n,t],e.items.keys,o)):void 0;case"primitive":return o?ei({data:i},[...n,t]):void 0}throw new Error("Unreachable code reached! Switch missing case!")}case"object":return PS(t,i,n,e.keys,o);case"misc":switch(e.misc_type){case"NavigationEndpoint":return o?new m(ei({data:i},[...n,t])):void 0;case"Text":return o?new c(ei({data:i},[...n,t])):void 0;case"Thumbnail":return o?y.fromResponse(ei({data:i},[...n,t])):void 0;case"Author":return!e.optional||NS({data:i},[...n,e.params[0]])?new A(ei({data:i},[...n,e.params[0]]),e.params[1]?ei({data:i},[...n,e.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":return ei({data:i},[...n,t])}}s(cv,"parse");function vm(t,e){let i=new Map,n=new Set(t.map(([w])=>w)),o=new Set(e.map(([w])=>w)),r=e.filter(([w])=>!n.has(w)),l=t.filter(([w])=>!o.has(w)),f=t.filter(([w])=>o.has(w)),d=new Map(e);for(let[w,T]of f){let S=d.get(w);if(!!S){if(T.type!==S.type){i.set(w,{type:"primative",typeof:["unknown"],optional:!0});continue}switch(T.type){case"object":{if(S.type!=="object")continue;let{resolved_key_info:E}=vm(T.keys,S.keys),P={type:"object",keys:E,optional:T.optional||S.optional};JSON.stringify(P)!==JSON.stringify(T)&&i.set(w,P)}break;case"renderer":{if(S.type!=="renderer")continue;let E={...T.renderers,...S.renderers},P=T.optional||S.optional,C={type:"renderer",renderers:E,optional:P};JSON.stringify({...C,renderers:Object.keys(C.renderers)})!==JSON.stringify({...T,renderers:Object.keys(T.renderers)})&&i.set(w,C)}break;case"array":{if(S.type!=="array")continue;switch(T.array_type){case"renderer":{if(S.array_type!=="renderer"){i.set(w,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let E={...T.renderers,...S.renderers},P=T.optional||S.optional,C={type:"array",array_type:"renderer",renderers:E,optional:P};JSON.stringify({...C,renderers:Object.keys(C.renderers)})!==JSON.stringify({...T,renderers:Object.keys(T.renderers)})&&i.set(w,C)}break;case"object":{if(S.array_type==="primitive"&&S.items.typeof.length==1&&S.items.typeof[0]==="never")continue;if(S.array_type!=="object"){i.set(w,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let{resolved_key_info:E}=vm(T.items.keys,S.items.keys),P={type:"array",array_type:"object",items:{type:"object",keys:E,optional:T.items.optional||S.items.optional},optional:T.optional||S.optional};JSON.stringify(P)!==JSON.stringify(T)&&i.set(w,P)}break;case"primitive":{if(T.items.typeof.includes("never")&&S.array_type==="object"){i.set(w,S);continue}if(S.array_type!=="primitive"){i.set(w,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let E=new Set([...S.items.typeof,...T.items.typeof]);E.size>1&&E.has("never")&&E.delete("never");let P={type:"array",array_type:"primitive",items:{type:"primative",typeof:Array.from(E),optional:T.items.optional||S.items.optional},optional:T.optional||S.optional};JSON.stringify(P)!==JSON.stringify(T)&&i.set(w,P)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}}break;case"misc":{if(S.type!=="misc")continue;switch(T.misc_type!==S.misc_type&&i.set(w,{type:"primative",typeof:["unknown"],optional:!0}),T.misc_type){case"Author":{if(S.misc_type!=="Author")break;let E=T.params[1]||S.params[1],P=T.optional||S.optional,C={type:"misc",misc_type:"Author",optional:P,params:[S.params[0],E]};JSON.stringify(C)!==JSON.stringify(T)&&i.set(w,C)}break}}break;case"primative":{if(S.type!=="primative")continue;let E={type:"primative",typeof:Array.from(new Set([...S.typeof,...T.typeof])),optional:T.optional||S.optional};JSON.stringify(E)!==JSON.stringify(T)&&i.set(w,E)}break}}}for(let[w,T]of r)i.set(w,{...T,optional:!0});for(let[w,T]of l)i.set(w,{...T,optional:!0});let x=t.filter(([w])=>!i.has(w));return{resolved_key_info:[...new Map([...x,...i]).entries()],changed_keys:[...i.entries()]}}s(vm,"mergeKeyInfo");var ln=class extends a{constructor(e){var i,n,o;super(),this.contents=Ue(e.contents),Array.isArray(e.continuations)&&(this.continuation=(o=(n=(i=e.continuations)==null?void 0:i.at(0))==null?void 0:n.nextContinuationData)==null?void 0:o.continuation)}};s(ln,"ItemSectionContinuation");ln.type="itemSectionContinuation";var pn=class extends a{constructor(e){super(),this.endpoint=new m(e.endpoint)}};s(pn,"NavigateAction");pn.type="navigateAction";var Lr=class extends a{constructor(e){super(),this.miniplayer_command=new m(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};s(Lr,"ShowMiniplayerCommand");Lr.type="showMiniplayerCommand";var fn=class extends a{constructor(e){super(),this.target_id=e.targetId,this.contents=$e(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};s(fn,"ReloadContinuationItemsCommand");fn.type="reloadContinuationItemsCommand";var et=class extends a{constructor(e){var i,n,o,r,l,f;super(),this.contents=$e(e.contents,!0),this.continuation=((o=(n=(i=e.continuations)==null?void 0:i[0])==null?void 0:n.nextContinuationData)==null?void 0:o.continuation)||((f=(l=(r=e.continuations)==null?void 0:r[0])==null?void 0:l.reloadContinuationData)==null?void 0:f.continuation)||null}};s(et,"SectionListContinuation");et.type="sectionListContinuation";var dn=class extends a{constructor(e){var i;super(),this.contents=$e(e.contents,!0),this.continuation=((i=e.continuations)==null?void 0:i[0].nextContinuationData.continuation)||null}};s(dn,"MusicPlaylistShelfContinuation");dn.type="musicPlaylistShelfContinuation";var ti=class extends a{constructor(e){var i,n,o,r;super(),this.contents=Ue(e.contents),this.continuation=((n=(i=e.continuations)==null?void 0:i[0].nextContinuationData)==null?void 0:n.continuation)||((r=(o=e.continuations)==null?void 0:o[0].reloadContinuationData)==null?void 0:r.continuation)||null}};s(ti,"MusicShelfContinuation");ti.type="musicShelfContinuation";var hn=class extends a{constructor(e){var i;super(),this.items=$e(e.items,!0),this.continuation=((i=e.continuations)==null?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};s(hn,"GridContinuation");hn.type="gridContinuation";var Or=class extends a{constructor(e){var i,n,o,r,l,f;super(),this.contents=Ue(e.contents),this.continuation=((o=(n=(i=e.continuations)==null?void 0:i[0])==null?void 0:n.nextContinuationData)==null?void 0:o.continuation)||((f=(l=(r=e.continuations)==null?void 0:r[0])==null?void 0:l.nextRadioContinuationData)==null?void 0:f.continuation)||null}};s(Or,"PlaylistPanelContinuation");Or.type="playlistPanelContinuation";var no=class extends a{constructor(e){var i,n,o;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)==null?void 0:i.timeoutMs,this.time_until_last_message_ms=(n=e.continuation)==null?void 0:n.timeUntilLastMessageMsec,this.token=(o=e.continuation)==null?void 0:o.continuation}};s(no,"Continuation");no.type="continuation";var mn=class extends a{constructor(e){var o,r,l,f,d,x,b,g;super(),this.actions=$e((o=e.actions)==null?void 0:o.map(w=>(delete w.clickTrackingParams,w)),!0)||j([]),this.action_panel=Z(e.actionPanel),this.item_list=Z(e.itemList,Bx),this.header=Z(e.header,Ox),this.participants_list=Z(e.participantsList,Vx),this.popout_message=Z(e.popoutMessage,Le),this.emojis=((r=e.emojis)==null?void 0:r.map(w=>({emoji_id:w.emojiId,shortcuts:w.shortcuts,search_terms:w.searchTerms,image:y.fromResponse(w.image),is_custom_emoji:w.isCustomEmoji})))||[];let i,n;(l=e.continuations)!=null&&l[0].timedContinuationData?(n="timed",i=(f=e.continuations)==null?void 0:f[0].timedContinuationData):(d=e.continuations)!=null&&d[0].invalidationContinuationData?(n="invalidation",i=(x=e.continuations)==null?void 0:x[0].invalidationContinuationData):(b=e.continuations)!=null&&b[0].liveChatReplayContinuationData&&(n="replay",i=(g=e.continuations)==null?void 0:g[0].liveChatReplayContinuationData),this.continuation=new no({continuation:i,type:n}),this.viewer_name=e.viewerName}};s(mn,"LiveChatContinuation");mn.type="liveChatContinuation";var Ti=class extends a{constructor(e){super(),this.request=e.request,this.token=e.token}};s(Ti,"ContinuationCommand");Ti.type="ContinuationCommand";var zy,Jy=class{constructor(e,i){var n,o,r,l,f,d,x,b;if(zy.set(this,void 0),i&&k(this,zy,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,Reflect.has(e,"width")&&Reflect.has(e,"height")&&(this.width=parseInt(e.width),this.height=parseInt(e.height)),Reflect.has(e,"projectionType")&&(this.projection_type=e.projectionType),Reflect.has(e,"stereoLayout")&&(this.stereo_layout=(n=e.stereoLayout)==null?void 0:n.replace("STEREO_LAYOUT_","")),Reflect.has(e,"initRange")&&(this.init_range={start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}),Reflect.has(e,"indexRange")&&(this.index_range={start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}),this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.last_modified_ms=e.lastModified,Reflect.has(e,"contentLength")&&(this.content_length=parseInt(e.contentLength)),Reflect.has(e,"quality")&&(this.quality=e.quality),Reflect.has(e,"qualityLabel")&&(this.quality_label=e.qualityLabel),Reflect.has(e,"fps")&&(this.fps=e.fps),Reflect.has(e,"url")&&(this.url=e.url),Reflect.has(e,"cipher")&&(this.cipher=e.cipher),Reflect.has(e,"signatureCipher")&&(this.signature_cipher=e.signatureCipher),Reflect.has(e,"audioQuality")&&(this.audio_quality=e.audioQuality),this.approx_duration_ms=parseInt(e.approxDurationMs),Reflect.has(e,"audioSampleRate")&&(this.audio_sample_rate=parseInt(e.audioSampleRate)),Reflect.has(e,"audioChannels")&&(this.audio_channels=e.audioChannels),Reflect.has(e,"loudnessDb")&&(this.loudness_db=e.loudnessDb),Reflect.has(e,"spatialAudioType")&&(this.spatial_audio_type=(o=e.spatialAudioType)==null?void 0:o.replace("SPATIAL_AUDIO_TYPE_","")),Reflect.has(e,"maxDvrDurationSec")&&(this.max_dvr_duration_sec=e.maxDvrDurationSec),Reflect.has(e,"targetDurationSec")&&(this.target_duration_dec=e.targetDurationSec),this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_text=!!e.captionTrack,Reflect.has(e,"xtags")&&(this.xtags=e.xtags),Reflect.has(e,"fairPlayKeyUri")&&(this.fair_play_key_uri=e.fairPlayKeyUri),Reflect.has(e,"drmFamilies")&&(this.drm_families=e.drmFamilies),Reflect.has(e,"drmTrackType")&&(this.drm_track_type=e.drmTrackType),Reflect.has(e,"distinctParams")&&(this.distinct_params=e.distinctParams),Reflect.has(e,"trackAbsoluteLoudnessLkfs")&&(this.track_absolute_loudness_lkfs=e.trackAbsoluteLoudnessLkfs),Reflect.has(e,"highReplication")&&(this.high_replication=e.highReplication),Reflect.has(e,"colorInfo")&&(this.color_info={primaries:(r=e.colorInfo.primaries)==null?void 0:r.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(l=e.colorInfo.transferCharacteristics)==null?void 0:l.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(f=e.colorInfo.matrixCoefficients)==null?void 0:f.replace("COLOR_MATRIX_COEFFICIENTS_","")}),Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id}),Reflect.has(e,"captionTrack")&&(this.caption_track={display_name:e.captionTrack.displayName,vss_id:e.captionTrack.vssId,language_code:e.captionTrack.languageCode,kind:e.captionTrack.kind,id:e.captionTrack.id}),this.has_audio||this.has_text){let g=new URLSearchParams(this.cipher||this.signature_cipher),T=(d=new URLSearchParams(g.get("url")||this.url).get("xtags"))==null?void 0:d.split(":");if(this.language=((x=T==null?void 0:T.find(S=>S.startsWith("lang=")))==null?void 0:x.split("=")[1])||null,this.has_audio){this.is_drc=!!e.isDrc||!!(T!=null&&T.includes("drc=1"));let S=(b=T==null?void 0:T.find(E=>E.startsWith("acont=")))==null?void 0:b.split("=")[1];this.is_dubbed=S==="dubbed",this.is_descriptive=S==="descriptive",this.is_secondary=S==="secondary",this.is_auto_dubbed=S==="dubbed-auto",this.is_original=S==="original"||!this.is_dubbed&&!this.is_descriptive&&!this.is_secondary&&!this.is_auto_dubbed&&!this.is_drc}this.has_text&&!this.language&&this.caption_track&&(this.language=this.caption_track.language_code)}}decipher(e){return e?e.decipher(this.url,this.signature_cipher,this.cipher,p(this,zy,"f")):this.url||""}};s(Jy,"Format");zy=new WeakMap;var Xy=Jy;var _n=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=y.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_live_dvr_enabled=!!e.isLiveDvrEnabled,this.is_low_latency_live_stream=!!e.isLowLatencyLiveStream,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable,this.live_chunk_readahead=e.liveChunkReadahead}};s(_n,"VideoDetails");var oo="Parser",L2=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent","MiniGameCardView"]),hv=new Map(Object.entries(Zn)),OS=new Map,ro=null,bn=s(({classname:t,...e})=>{switch(e.error_type){case"parse":e.error instanceof Error&&L.warn(oo,new _(`Something went wrong at ${t}!
This is a bug, please report it at ${V.shim.info.bugs_url}`,{stack:e.error.stack,classdata:JSON.stringify(e.classdata,null,2)}));break;case"typecheck":L.warn(oo,new _t(`Type mismatch, got ${t} expected ${Array.isArray(e.expected)?e.expected.join(" | "):e.expected}.`,e.classdata));break;case"mutation_data_missing":L.warn(oo,new _(`Mutation data required for processing ${t}, but none found.
This is a bug, please report it at ${V.shim.info.bugs_url}`));break;case"mutation_data_invalid":L.warn(oo,new _(`Mutation data missing or invalid for ${e.failed} out of ${e.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${e.titles.join(", ")}.
This is a bug, please report it at ${V.shim.info.bugs_url}`));break;case"class_not_found":L.warn(oo,new _(`${t} not found!
This is a bug, want to help us fix it? Follow the instructions at ${V.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${V.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${$y(t,e.key_info)}`));break;case"class_changed":L.warn(oo,`${t} changed!
The following keys where altered: ${e.changed_keys.map(([i])=>io(i)).join(", ")}
The class has changed to:
${$y(t,e.key_info)}`);break;default:L.warn(oo,"Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function O2(t){bn=t}s(O2,"setParserErrorHandler");function ii(){ro=null}s(ii,"_clearMemo");function ni(){ro=new Ui}s(ni,"_createMemo");function B2(t,e){if(!ro)return;let i=ro.get(t);if(!i)return ro.set(t,[e]);i.push(e)}s(B2,"_addToMemo");function oi(){if(!ro)throw new Error("Parser#getMemo() called before Parser#createMemo()");return ro}s(oi,"_getMemo");function BS(t){return L2.has(t)}s(BS,"shouldIgnore");function Im(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}s(Im,"sanitizeClassName");function Tm(t){let e=hv.get(t);if(!e){let i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}s(Tm,"getParserByName");function qy(t){return hv.has(t)}s(qy,"hasParser");function lv(t,e){hv.set(t,e),OS.set(t,e)}s(lv,"addRuntimeParser");function U2(){return Object.fromEntries(OS)}s(U2,"getDynamicParsers");function pv(t){var lT,pT,fT,dT,hT,mT,_T,bT,xT,yT,gT,wT,vT,TT,kT,IT;let e={};ni();let i=$e(t.contents),n=oi();i&&(e.contents=i,e.contents_memo=n),ii(),ni();let o=t.onResponseReceivedActions?Zy(t.onResponseReceivedActions):null,r=oi();o&&(e.on_response_received_actions=o,e.on_response_received_actions_memo=r),ii(),ni();let l=t.onResponseReceivedEndpoints?Zy(t.onResponseReceivedEndpoints):null,f=oi();l&&(e.on_response_received_endpoints=l,e.on_response_received_endpoints_memo=f),ii(),ni();let d=t.onResponseReceivedCommands?Zy(t.onResponseReceivedCommands):null,x=oi();d&&(e.on_response_received_commands=d,e.on_response_received_commands_memo=x),ii(),ni();let b=t.continuationContents?fv(t.continuationContents):null,g=oi();b&&(e.continuation_contents=b,e.continuation_contents_memo=g),ii(),ni();let w=t.actions?VS(t.actions):null,T=oi();w&&(e.actions=w,e.actions_memo=T),ii(),ni();let S=t.liveChatItemContextMenuSupportedRenderers?Z(t.liveChatItemContextMenuSupportedRenderers):null,E=oi();S&&(e.live_chat_item_context_menu_supported_renderers=S,e.live_chat_item_context_menu_supported_renderers_memo=E),ii(),ni();let P=t.header?$e(t.header):null,C=oi();P&&(e.header=P,e.header_memo=C),ii(),ni();let Y=t.sidebar?Z(t.sidebar):null,F=oi();Y&&(e.sidebar=Y,e.sidebar_memo=F),ii(),ni();let ie=$e(t.items);ie&&(e.items=ie,e.items_memo=oi()),ii(),YS(n,(pT=(lT=t.frameworkUpdates)==null?void 0:lT.entityBatchUpdate)==null?void 0:pT.mutations),f&&FS(f,(dT=(fT=t.frameworkUpdates)==null?void 0:fT.entityBatchUpdate)==null?void 0:dT.mutations);let me=t.continuation?US(t.continuation):null;me&&(e.continuation=me);let Ce=t.continuationEndpoint?fv(t.continuationEndpoint):null;Ce&&(e.continuation_endpoint=Ce);let K=$e(t.metadata);K&&(e.metadata=K);let ue=Z(t.microformat);ue&&(e.microformat=ue);let q=Z(t.overlay);q&&(e.overlay=q);let H=Ue(t.alerts,[Jo,F_]);H.length&&(e.alerts=H);let oe=t.refinements;oe&&(e.refinements=oe);let ce=t.estimatedResults?parseInt(t.estimatedResults):null;ce&&(e.estimated_results=ce);let Xe=$e(t.playerOverlays);Xe&&(e.player_overlays=Xe);let Ct=Z(t.background,Oe);Ct&&(e.background=Ct);let Nt=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;Nt&&(e.playback_tracking=Nt);let Pt=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playablility:Z(t.playabilityStatus.audioOnlyPlayability,G_),error_screen:Z(t.playabilityStatus.errorScreen)}:null;if(Pt&&(e.playability_status=Pt),t.streamingData){let mt=new Map,hC={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:dv(t.streamingData.formats,mt),adaptive_formats:dv(t.streamingData.adaptiveFormats,mt),dash_manifest_url:t.streamingData.dashManifestUrl,hls_manifest_url:t.streamingData.hlsManifestUrl,server_abr_streaming_url:t.streamingData.serverAbrStreamingUrl};e.streaming_data=hC}if(t.playerConfig){let mt={audio_config:{loudness_db:(hT=t.playerConfig.audioConfig)==null?void 0:hT.loudnessDb,perceptual_loudness_db:(mT=t.playerConfig.audioConfig)==null?void 0:mT.perceptualLoudnessDb,enable_per_format_loudness:(_T=t.playerConfig.audioConfig)==null?void 0:_T.enablePerFormatLoudness},stream_selection_config:{max_bitrate:((bT=t.playerConfig.streamSelectionConfig)==null?void 0:bT.maxBitrate)||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:((yT=(xT=t.playerConfig.mediaCommonConfig)==null?void 0:xT.dynamicReadaheadConfig)==null?void 0:yT.maxReadAheadMediaTimeMs)||0,min_read_ahead_media_time_ms:((wT=(gT=t.playerConfig.mediaCommonConfig)==null?void 0:gT.dynamicReadaheadConfig)==null?void 0:wT.minReadAheadMediaTimeMs)||0,read_ahead_growth_rate_ms:((TT=(vT=t.playerConfig.mediaCommonConfig)==null?void 0:vT.dynamicReadaheadConfig)==null?void 0:TT.readAheadGrowthRateMs)||0},media_ustreamer_request_config:{video_playback_ustreamer_config:(IT=(kT=t.playerConfig.mediaCommonConfig)==null?void 0:kT.mediaUstreamerRequestConfig)==null?void 0:IT.videoPlaybackUstreamerConfig}}};e.player_config=mt}let Ze=t.currentVideoEndpoint?new m(t.currentVideoEndpoint):null;Ze&&(e.current_video_endpoint=Ze);let Bi=t.endpoint?new m(t.endpoint):null;Bi&&(e.endpoint=Bi);let _i=Z(t.captions,fy);_i&&(e.captions=_i);let xe=t.videoDetails?new _n(t.videoDetails):null;xe&&(e.video_details=xe);let at=Ue(t.annotations,py);at.length&&(e.annotations=at);let ye=Z(t.storyboards,[Un,my]);ye&&(e.storyboards=ye);let We=Z(t.endscreen,ox);We&&(e.endscreen=We);let ht=Z(t.cards,Ib);ht&&(e.cards=ht);let _e=Ue(t.engagementPanels,Xi);if(_e.length&&(e.engagement_panels=_e),t.playerResponse){let mt=pv(t.playerResponse);e.player_response=mt}if(t.watchNextResponse){let mt=pv(t.watchNextResponse);e.watch_next_response=mt}if(t.cpnInfo){let mt={cpn:t.cpnInfo.cpn,cpn_source:t.cpnInfo.cpnSource};e.cpn_info=mt}return t.entries&&(e.entries=t.entries.map(mt=>new m(mt))),e}s(pv,"parseResponse");function Z(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let n=Im(i[0]);if(!BS(n))try{let r=qy(n)?Tm(n):km(n,t[i[0]],bn);if(e){if(Array.isArray(e)){if(!e.some(f=>f.type===r.type))return bn({classdata:t[i[0]],classname:n,error_type:"typecheck",expected:e.map(f=>f.type)}),null}else if(r.type!==e.type)return bn({classdata:t[i[0]],classname:n,error_type:"typecheck",expected:e.type}),null}let l=new r(t[i[0]]);return B2(n,l),l}catch(o){return bn({classname:n,classdata:t[i[0]],error:o,error_type:"parse"}),null}return null}s(Z,"parseItem");function Ue(t,e){if(Array.isArray(t)){let i=[];for(let n of t){let o=Z(n,e);o&&i.push(o)}return j(i)}else if(!t)return j([]);throw new _t("Expected array but got a single item")}s(Ue,"parseArray");function $e(t,e,i){if(!t)return null;if(Array.isArray(t)){let n=[];for(let r of t){let l=Z(r,i);l&&n.push(l)}let o=j(n);return e?o:new Kt(o)}else if(e)throw new _t("Expected array but got a single item");return new Kt(Z(t,i))}s($e,"parse");function US(t){return t.timedContinuationData?new no({continuation:t.timedContinuationData,type:"timed"}):null}s(US,"parseC");function fv(t){return t.itemSectionContinuation?new ln(t.itemSectionContinuation):t.sectionListContinuation?new et(t.sectionListContinuation):t.liveChatContinuation?new mn(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new dn(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new ti(t.musicShelfContinuation):t.gridContinuation?new hn(t.gridContinuation):t.playlistPanelContinuation?new Or(t.playlistPanelContinuation):t.continuationCommand?new Ti(t.continuationCommand):null}s(fv,"parseLC");function Zy(t){return j(t.map(e=>{if(e.navigateAction)return new pn(e.navigateAction);if(e.showMiniplayerCommand)return new Lr(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new fn(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new jn(e.appendContinuationItemsAction)}).filter(e=>e))}s(Zy,"parseRR");function VS(t){return Array.isArray(t)?$e(t.map(e=>(delete e.clickTrackingParams,e))):new Kt(Z(t))}s(VS,"parseActions");function dv(t,e){return(t==null?void 0:t.map(i=>new Xy(i,e)))||[]}s(dv,"parseFormats");function YS(t,e){let i=t.getType(Bt);if(i.length>0&&!e)bn({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let n=[];for(let o of i){let r=e.find(f=>{var d,x;return((x=(d=f.payload)==null?void 0:d.musicFormBooleanChoice)==null?void 0:x.id)===o.form_item_entity_key}),l=r==null?void 0:r.payload.musicFormBooleanChoice;(l==null?void 0:l.selected)!==void 0&&(l==null?void 0:l.opaqueToken)?o.selected=l.selected:n.push(`'${o.title}'`)}n.length>0&&bn({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:n.length,titles:n})}}s(YS,"applyMutations");function FS(t,e){var n,o,r,l,f,d;let i=t.getType(on);if(i.length>0){e||bn({error_type:"mutation_data_missing",classname:"CommentView"});for(let x of i){let b=(o=(n=e.find(T=>{var S,E;return((E=(S=T.payload)==null?void 0:S.commentEntityPayload)==null?void 0:E.key)===x.keys.comment}))==null?void 0:n.payload)==null?void 0:o.commentEntityPayload,g=(l=(r=e.find(T=>{var S,E;return((E=(S=T.payload)==null?void 0:S.engagementToolbarStateEntityPayload)==null?void 0:E.key)===x.keys.toolbar_state}))==null?void 0:r.payload)==null?void 0:l.engagementToolbarStateEntityPayload,w=(d=(f=e.find(T=>T.entityKey===x.keys.toolbar_surface))==null?void 0:f.payload)==null?void 0:d.engagementToolbarSurfaceEntityPayload;x.applyMutations(b,g,w)}}}s(FS,"applyCommentsMutations");var gv={};D(gv,{AccountInfo:()=>eg,Analytics:()=>ig,Channel:()=>Te,ChannelListContinuation:()=>po,Comments:()=>sg,FilteredChannelList:()=>wn,Guide:()=>cg,HashtagFeed:()=>ai,History:()=>yt,HomeFeed:()=>Vt,ItemMenu:()=>fg,Library:()=>mg,LiveChat:()=>vg,NotificationsMenu:()=>Tg,Playlist:()=>ki,Search:()=>Ft,Settings:()=>kg,SmoothedQueue:()=>xg,TimeWatched:()=>Sg,TranscriptInfo:()=>rg,VideoInfo:()=>Bm});var Br,Qy=class{constructor(e){if(Br.set(this,void 0),k(this,Br,u.parseResponse(e.data),"f"),!p(this,Br,"f").contents)throw new _("Page contents not found");let i=p(this,Br,"f").contents.array().as(M_).first();if(!i)throw new _("Account section list not found");this.contents=i.contents.first()}get page(){return p(this,Br,"f")}};s(Qy,"AccountInfo");Br=new WeakMap;var eg=Qy;var Sm,tg=class{constructor(e){var i;Sm.set(this,void 0),k(this,Sm,u.parseResponse(e.data),"f"),this.sections=(i=p(this,Sm,"f").contents_memo)==null?void 0:i.getType(pr).map(n=>n.model).flatMap(n=>n||[])}get page(){return p(this,Sm,"f")}};s(tg,"Analytics");Sm=new WeakMap;var ig=tg;var Em,Ve,so,Cm,tt,WS,mv,xn=class{constructor(e,i,n=!1){Em.add(this),Ve.set(this,void 0),so.set(this,void 0),Cm.set(this,void 0),tt.set(this,void 0),p(this,Em,"m",WS).call(this,i)||n?k(this,Ve,i,"f"):k(this,Ve,u.parseResponse(i.data),"f");let o=_v(p(this,Ve,"f").contents_memo,p(this,Ve,"f").continuation_contents_memo,p(this,Ve,"f").on_response_received_commands_memo,p(this,Ve,"f").on_response_received_endpoints_memo,p(this,Ve,"f").on_response_received_actions_memo,p(this,Ve,"f").sidebar_memo,p(this,Ve,"f").header_memo);if(!o)throw new _("No memo found in feed");k(this,tt,o,"f"),k(this,Cm,e,"f")}static getVideosFromMemo(e){return e.getType(er,dx,Ir,Pr,ir,kr,vi,Fy)}static getPlaylistsFromMemo(e){let i=e.getType($t,lx),n=e.getType(Fx).filter(o=>["PLAYLIST","ALBUM","PODCAST"].includes(o.content_type));return n.length>0&&i.push(...n),i}get videos(){return xn.getVideosFromMemo(p(this,tt,"f"))}get posts(){return p(this,tt,"f").getType(Ki,vy,Ay)}get channels(){return p(this,tt,"f").getType(Eb,ux)}get playlists(){return xn.getPlaylistsFromMemo(p(this,tt,"f"))}get memo(){return p(this,tt,"f")}get page_contents(){var o;let e=(o=p(this,tt,"f").getType(pe))==null?void 0:o.first().content,i=p(this,tt,"f").getType(fn).first(),n=p(this,tt,"f").getType(jn).first();return e||i||n}get shelves(){return p(this,tt,"f").getType(Nr,Iy,or)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var i,n;if(!((i=p(this,Ve,"f").contents)!=null&&i.is_node))return;let e=(n=p(this,Ve,"f").contents)==null?void 0:n.item();if(!!e.is(Qt,By))return e.secondary_contents}get actions(){return p(this,Cm,"f")}get page(){return p(this,Ve,"f")}get has_continuation(){return p(this,Em,"m",mv).call(this).length>0}async getContinuationData(){if(p(this,so,"f")){if(p(this,so,"f").length===0)throw new _("There are no continuations.");return await p(this,so,"f")[0].endpoint.call(p(this,Cm,"f"),{parse:!0})}if(k(this,so,p(this,Em,"m",mv).call(this),"f"),p(this,so,"f"))return this.getContinuationData()}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new _("Could not get continuation data");return new xn(this.actions,e,!0)}};s(xn,"Feed");Ve=new WeakMap,so=new WeakMap,Cm=new WeakMap,tt=new WeakMap,Em=new WeakSet,WS=s(function(e){return!("data"in e)},"_Feed_isParsed"),mv=s(function(){if(p(this,Ve,"f").header_memo){let e=p(this,Ve,"f").header_memo.getType(se);return p(this,tt,"f").getType(se).filter(i=>!e.includes(i))}return p(this,tt,"f").getType(se)},"_Feed_getBodyContinuations");var ae=xn;var Ur,ng=class extends ae{constructor(e,i,n=!1){super(e,i,n),Ur.set(this,void 0)}get filter_chips(){var e,i;if(p(this,Ur,"f"))return p(this,Ur,"f")||[];if(((e=this.memo.getType(Ot))==null?void 0:e.length)>1)throw new _("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(Ot))==null?void 0:i.length)===0)throw new _("There are no feed filter chipbars");return k(this,Ur,this.memo.getType(le),"f"),p(this,Ur,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}async getFilteredFeed(e){var o;let i;if(typeof e=="string"){if(!this.filters.includes(e))throw new _("Filter not found",{available_filters:this.filters});i=this.filter_chips.find(r=>r.text.toString()===e)}else if(e.type==="ChipCloudChip")i=e;else throw new _("Invalid filter");if(!i)throw new _("Filter not found");if(i.is_selected)return this;let n=await((o=i.endpoint)==null?void 0:o.call(this.actions,{parse:!0}));if(!n)throw new _("Failed to get filtered feed");return new ae(this.actions,n,!0)}};s(ng,"FilterableFeed");Ur=new WeakMap;var yn=ng;var bv={};D(bv,{Feed:()=>ae,FilterableFeed:()=>yn,MediaInfo:()=>ri,TabbedFeed:()=>ao});var gn,Ut,Vr,Nm,og=class{constructor(e,i,n){var l,f,d,x,b,g,w,T,S,E,P,C,Y,F,ie,me,Ce,K,ue,q,H,oe;gn.set(this,void 0),Ut.set(this,void 0),Vr.set(this,void 0),Nm.set(this,void 0),k(this,Ut,i,"f");let o=u.parseResponse(e[0].data.playerResponse?e[0].data.playerResponse:e[0].data),r=(l=e[1])!=null&&l.data?u.parseResponse(e[1].data):void 0;if(k(this,gn,[o,r],"f"),k(this,Vr,n,"f"),((f=o.playability_status)==null?void 0:f.status)==="ERROR")throw new _("This video is unavailable",o.playability_status);if(o.microformat&&!((d=o.microformat)!=null&&d.is(lt,qt)))throw new _("Unsupported microformat",o.microformat);this.basic_info={...o.video_details,embed:(x=o.microformat)!=null&&x.is(lt)?(b=o.microformat)==null?void 0:b.embed:null,channel:(g=o.microformat)!=null&&g.is(lt)?(w=o.microformat)==null?void 0:w.channel:null,is_unlisted:(T=o.microformat)==null?void 0:T.is_unlisted,is_family_safe:(S=o.microformat)==null?void 0:S.is_family_safe,category:(E=o.microformat)!=null&&E.is(lt)?(P=o.microformat)==null?void 0:P.category:null,has_ypc_metadata:(C=o.microformat)!=null&&C.is(lt)?(Y=o.microformat)==null?void 0:Y.has_ypc_metadata:null,start_timestamp:(F=o.microformat)!=null&&F.is(lt)?o.microformat.start_timestamp:null,end_timestamp:(ie=o.microformat)!=null&&ie.is(lt)?o.microformat.end_timestamp:null,view_count:((me=o.microformat)==null?void 0:me.is(lt))&&isNaN((Ce=o.video_details)==null?void 0:Ce.view_count)?o.microformat.view_count:(K=o.video_details)==null?void 0:K.view_count,url_canonical:(ue=o.microformat)!=null&&ue.is(qt)?(q=o.microformat)==null?void 0:q.url_canonical:null,tags:(H=o.microformat)!=null&&H.is(qt)?(oe=o.microformat)==null?void 0:oe.tags:null,like_count:void 0,is_liked:void 0,is_disliked:void 0},this.annotations=o.annotations,this.storyboards=o.storyboards,this.endscreen=o.endscreen,this.captions=o.captions,this.cards=o.cards,this.streaming_data=o.streaming_data,this.playability_status=o.playability_status,this.player_config=o.player_config,k(this,Nm,o.playback_tracking,"f")}async toDash(e,i,n={include_thumbnails:!1}){var f,d;let o=p(this,gn,"f")[0];if(o.video_details&&o.video_details.is_live)throw new _("Generating DASH manifests for live videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let r,l;return n.include_thumbnails&&o.storyboards&&(r=o.storyboards),typeof n.captions_format=="string"&&((f=o.captions)==null?void 0:f.caption_tracks)&&(l=o.captions.caption_tracks),Vn.toDash(this.streaming_data,(d=this.page[0].video_details)==null?void 0:d.is_post_live_dvr,e,i,p(this,Vr,"f"),p(this,Ut,"f").session.player,p(this,Ut,"f"),r,l,n)}getStreamingInfo(e,i){var n;return f_(this.streaming_data,(n=this.page[0].video_details)==null?void 0:n.is_post_live_dvr,e,i,this.cpn,p(this,Ut,"f").session.player,p(this,Ut,"f"),p(this,gn,"f")[0].storyboards?p(this,gn,"f")[0].storyboards:void 0)}chooseFormat(e){return Vn.chooseFormat(e,this.streaming_data)}async download(e={}){let i=p(this,gn,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new _("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return Vn.download(e,p(this,Ut,"f"),this.playability_status,this.streaming_data,p(this,Ut,"f").session.player,this.cpn)}async getTranscript(){var r;let e=this.page[1];if(!e)throw new _("Cannot get transcript from basic video info.");if(!e.engagement_panels)throw new _("Engagement panels not found. Video likely has no transcript.");let i=e.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!i)throw new _("Transcript panel not found. Video likely has no transcript.");let n=(r=i.content)==null?void 0:r.as(se);if(!n)throw new _("Transcript continuation not found.");let o=await n.endpoint.call(this.actions);return new rg(this.actions,o)}async addToWatchHistory(e=$.CLIENTS.WEB.NAME,i=$.CLIENTS.WEB.VERSION,n="https://www."){if(!p(this,Nm,"f"))throw new _("Playback tracking not available");let o={cpn:p(this,Vr,"f"),fmt:251,rtn:0,rt:0},r=p(this,Nm,"f").videostats_playback_url.replace("https://s.",n);return await p(this,Ut,"f").stats(r,{client_name:e,client_version:i},o)}get actions(){return p(this,Ut,"f")}get cpn(){return p(this,Vr,"f")}get page(){return p(this,gn,"f")}};s(og,"MediaInfo");gn=new WeakMap,Ut=new WeakMap,Vr=new WeakMap,Nm=new WeakMap;var ri=og;var co,uo,lo=class extends ae{constructor(e,i,n=!1){var o;super(e,i,n),co.set(this,void 0),uo.set(this,void 0),k(this,uo,e,"f"),k(this,co,(o=this.page.contents_memo)==null?void 0:o.getType(pe),"f")}get tabs(){var e,i;return(i=(e=p(this,co,"f"))==null?void 0:e.map(n=>n.title.toString()))!=null?i:[]}async getTabByName(e){var o;let i=(o=p(this,co,"f"))==null?void 0:o.find(r=>r.title.toLowerCase()===e.toLowerCase());if(!i)throw new _(`Tab "${e}" not found`);if(i.selected)return this;let n=await i.endpoint.call(p(this,uo,"f"));return new lo(p(this,uo,"f"),n,!1)}async getTabByURL(e){var o;let i=(o=p(this,co,"f"))==null?void 0:o.find(r=>{var l;return((l=r.endpoint.metadata.url)==null?void 0:l.split("/").pop())===e});if(!i)throw new _(`Tab "${e}" not found`);if(i.selected)return this;let n=await i.endpoint.call(p(this,uo,"f"));return new lo(p(this,uo,"f"),n,!1)}hasTabWithURL(e){var i,n;return(n=(i=p(this,co,"f"))==null?void 0:i.some(o=>{var r;return((r=o.endpoint.metadata.url)==null?void 0:r.split("/").pop())===e}))!=null?n:!1}get title(){var e,i,n;return(n=(i=(e=this.page.contents_memo)==null?void 0:e.getType(pe))==null?void 0:i.find(o=>o.selected))==null?void 0:n.title.toString()}};s(lo,"TabbedFeed");co=new WeakMap,uo=new WeakMap;var ao=lo;var Te=class extends ao{constructor(e,i,n=!1){var l,f,d,x,b,g;super(e,i,n),this.header=(f=(l=this.page.header)==null?void 0:l.item())==null?void 0:f.as(Zi,Sb,wx,Xt);let o=(d=this.page.metadata)==null?void 0:d.item().as(Cb),r=(x=this.page.microformat)==null?void 0:x.as(qt);if(this.page.alerts){let w=this.page.alerts.first();if((w==null?void 0:w.alert_type)==="ERROR")throw new Yr(w.text.toString())}if(!o&&!this.page.contents)throw new _("Invalid channel",this);this.metadata={...o,...r||{}},this.subscribe_button=(b=this.page.header_memo)==null?void 0:b.getType(Re).first(),this.current_tab=(g=this.page.contents)==null?void 0:g.item().as(Qt).tabs.array().filterType(pe,fr).get({selected:!0})}async applyFilter(e){var r;let i,n=this.memo.getType(Ot).first();if(typeof e=="string"){if(i=n==null?void 0:n.contents.get({text:e}),!i)throw new _(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof le&&(i=e);if(!i)throw new _("Invalid filter",e);let o=await((r=i.endpoint)==null?void 0:r.call(this.actions,{parse:!0}));if(!o)throw new _("No page returned",{filter:i});return new wn(this.actions,o,!0)}async applySort(e){var r,l;let i=this.memo.getType(Dt).first();if(!i)throw new _("No sort filter sub menu found");let n=(r=i==null?void 0:i.sub_menu_items)==null?void 0:r.find(f=>f.title===e);if(!n)throw new _(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(n.selected)return this;let o=await((l=n.endpoint)==null?void 0:l.call(this.actions,{parse:!0}));return new Te(this.actions,o,!0)}async applyContentTypeFilter(e){var r,l,f,d;let i=(f=(l=(r=this.current_tab)==null?void 0:r.content)==null?void 0:l.as(G).sub_menu)==null?void 0:f.as(au);if(!i)throw new _("Sub menu not found");let n=i.content_type_sub_menu_items.find(x=>x.title===e);if(!n)throw new _(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(n.selected)return this;let o=await((d=n.endpoint)==null?void 0:d.call(this.actions,{parse:!0}));return new Te(this.actions,o,!0)}get filters(){var e,i;return((i=(e=this.memo.getType(Ot))==null?void 0:e[0])==null?void 0:i.contents.filterType(le).map(n=>n.text))||[]}get sort_filters(){var i;let e=this.memo.getType(Dt).first();return((i=e==null?void 0:e.sub_menu_items)==null?void 0:i.map(n=>n.title))||[]}get content_type_filters(){var i,n,o;let e=(o=(n=(i=this.current_tab)==null?void 0:i.content)==null?void 0:n.as(G).sub_menu)==null?void 0:o.as(au);return(e==null?void 0:e.content_type_sub_menu_items.map(r=>r.title))||[]}async getHome(){let e=await this.getTabByURL("featured");return new Te(this.actions,e.page,!0)}async getVideos(){let e=await this.getTabByURL("videos");return new Te(this.actions,e.page,!0)}async getShorts(){let e=await this.getTabByURL("shorts");return new Te(this.actions,e.page,!0)}async getLiveStreams(){let e=await this.getTabByURL("streams");return new Te(this.actions,e.page,!0)}async getReleases(){let e=await this.getTabByURL("releases");return new Te(this.actions,e.page,!0)}async getPodcasts(){let e=await this.getTabByURL("podcasts");return new Te(this.actions,e.page,!0)}async getPlaylists(){let e=await this.getTabByURL("playlists");return new Te(this.actions,e.page,!0)}async getCommunity(){let e=await this.getTabByURL("community");return new Te(this.actions,e.page,!0)}async getAbout(){var i,n,o,r,l;if(this.hasTabWithURL("about"))return(await this.getTabByURL("about")).memo.getType(Qc)[0];let e=((i=this.header)==null?void 0:i.is(Zi))&&this.header.tagline;if(e||((n=this.header)==null?void 0:n.is(Xt))&&((o=this.header.content)==null?void 0:o.description)){if(e&&e.more_endpoint instanceof m){let x=await e.more_endpoint.call(this.actions);return new ao(this.actions,x,!1).memo.getType(Qc)[0]}let f=(l=(r=this.page.header_memo)==null?void 0:r.getType(se)[0])==null?void 0:l.endpoint;if(!f)throw new _("Failed to extract continuation to get channel about");let d=await f.call(this.actions,{parse:!0});if(!d.on_response_received_endpoints_memo)throw new _("Unexpected response while fetching channel about",{response:d});return d.on_response_received_endpoints_memo.getType(C_)[0]}throw new _("About not found")}async search(e){var o,r;let i=(o=this.memo.getType(fr))==null?void 0:o[0];if(!i)throw new _("Search tab not found",this);let n=await((r=i.endpoint)==null?void 0:r.call(this.actions,{query:e,parse:!0}));return new Te(this.actions,n,!0)}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,i,n,o,r;return this.hasTabWithURL("about")||!!(((e=this.header)==null?void 0:e.is(Zi))&&((i=this.header.tagline)==null?void 0:i.more_endpoint))||!!(((n=this.header)==null?void 0:n.is(Xt))&&((r=(o=this.header.content)==null?void 0:o.description)==null?void 0:r.more_endpoint))}get has_search(){var e;return((e=this.memo.getType(fr))==null?void 0:e.length)>0}async getContinuation(){let e=await super.getContinuationData();if(!e)throw new _("Could not get continuation data");return new po(this.actions,e,!0)}};s(Te,"Channel");var po=class extends ae{constructor(e,i,n=!1){var o,r;super(e,i,n),this.contents=((o=this.page.on_response_received_actions)==null?void 0:o.first())||((r=this.page.on_response_received_endpoints)==null?void 0:r.first())}async getContinuation(){let e=await super.getContinuationData();if(!e)throw new _("Could not get continuation data");return new po(this.actions,e,!0)}};s(po,"ChannelListContinuation");var wn=class extends yn{constructor(e,i,n=!1){var o;super(e,i,n),this.applied_filter=this.memo.getType(le).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=(o=this.page.on_response_received_actions)==null?void 0:o.first()}async applyFilter(e){let i=await super.getFilteredFeed(e);return new wn(this.actions,i.page,!0)}async getContinuation(){let e=await super.getContinuationData();if(!(e!=null&&e.on_response_received_actions_memo))throw new _("Unexpected continuation data",e);return e.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(Ot)),e.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(le)),new wn(this.actions,e,!0)}};s(wn,"FilteredChannelList");var Fr,si,Wr,fo=class{constructor(e,i,n=!1){var d,x,b;Fr.set(this,void 0),si.set(this,void 0),Wr.set(this,void 0),k(this,Fr,n?i:u.parseResponse(i),"f"),k(this,si,e,"f");let o=p(this,Fr,"f").on_response_received_endpoints;if(!o)throw new _("Comments page did not have any content.");let r=o.at(0),l=o.at(1);this.header=(d=r==null?void 0:r.contents)==null?void 0:d.firstOfType(nn);let f=((x=l==null?void 0:l.contents)==null?void 0:x.filterType($b))||[];this.contents=j(f.map(g=>{var w;return(w=g.comment)==null||w.setActions(p(this,si,"f")),g.setActions(p(this,si,"f")),g})),k(this,Wr,(b=l==null?void 0:l.contents)==null?void 0:b.firstOfType(se),"f")}async applySort(e){var o,r,l,f;if(!this.header)throw new _("Page header is missing. Cannot apply sort option.");let i;if(e==="TOP_COMMENTS"?i=(r=(o=this.header.sort_menu)==null?void 0:o.sub_menu_items)==null?void 0:r.at(0):e==="NEWEST_FIRST"&&(i=(f=(l=this.header.sort_menu)==null?void 0:l.sub_menu_items)==null?void 0:f.at(1)),!i)throw new _("Could not find target button.");if(i.selected)return this;let n=await i.endpoint.call(p(this,si,"f"),{parse:!0});return new fo(p(this,si,"f"),n,!0)}async createComment(e){var o;if(!this.header)throw new _("Page header is missing. Cannot create comment.");let i=(o=this.header.create_renderer)==null?void 0:o.as(Kb).submit_button;if(!i)throw new _("Could not find target button. You are probably not logged in.");if(!i.endpoint)throw new _("Button does not have an endpoint.");return await i.endpoint.call(p(this,si,"f"),{commentText:e})}async getContinuation(){if(!p(this,Wr,"f"))throw new _("Continuation not found");let e=await p(this,Wr,"f").endpoint.call(p(this,si,"f"),{parse:!0}),i=Object.assign({},p(this,Fr,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new _("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new fo(p(this,si,"f"),i,!0)}get has_continuation(){return!!p(this,Wr,"f")}get page(){return p(this,Fr,"f")}};s(fo,"Comments");Fr=new WeakMap,si=new WeakMap,Wr=new WeakMap;var sg=fo;var jr,ag=class{constructor(e){jr.set(this,void 0),k(this,jr,u.parseResponse(e),"f"),p(this,jr,"f").items&&(this.contents=p(this,jr,"f").items.array().as(dr,hx))}get page(){return p(this,jr,"f")}};s(ag,"Guide");jr=new WeakMap;var cg=ag;var yt=class extends ae{constructor(e,i,n=!1){super(e,i,n),this.sections=this.memo.getType(fe),this.feed_actions=this.memo.getType(X_).first()}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new Error("No continuation data found");return new yt(this.actions,e,!0)}async removeVideo(e){let i;for(let l of this.sections)for(let f of l.contents){let d=f;if(d.id===e&&d.menu){i=d.menu.top_level_buttons[0].as(I).endpoint.payload.feedbackToken;break}}if(!i)throw new Error("Failed to get feedback token");let n={feedbackTokens:[i]};if(!(await this.actions.execute("/feedback",n)).data.feedbackResponses[0].isProcessed)throw new Error("Failed to remove video from watch history");return!0}};s(yt,"History");var Vt=class extends yn{constructor(e,i,n=!1){var o;super(e,i,n),this.header=this.memo.getType(ax).first(),this.contents=this.memo.getType(un).first()||((o=this.page.on_response_received_actions)==null?void 0:o.first())}async applyFilter(e){let i=await super.getFilteredFeed(e);return new Vt(this.actions,i.page,!0)}async getContinuation(){var i;let e=await super.getContinuation();return e.page.header=this.page.header,this.header&&((i=e.page.header_memo)==null||i.set(this.header.type,[this.header])),new Vt(this.actions,e.page,!0)}};s(Vt,"HomeFeed");var ai=class extends yn{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new _("Unexpected response",this.page);let n=this.page.contents_memo.getType(pe).first();if(!n.content)throw new _("Content tab has no content",n);this.page.header&&(this.header=this.page.header.item().as(mx,Xt)),this.contents=n.content.as(un)}async applyFilter(e){let i=await super.getFilteredFeed(e);return new ai(this.actions,i.page)}};s(ai,"HashtagFeed");var ug,lg,Pm,pg=class{constructor(e,i){ug.set(this,void 0),lg.set(this,void 0),Pm.set(this,void 0),k(this,ug,e,"f"),k(this,lg,i,"f");let n=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!n||!n.is(U))throw new _('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');k(this,Pm,n.as(U).items,"f")}async selectItem(e){let i;if(e instanceof I){if(!e.endpoint)throw new _("Item does not have an endpoint.");i=e.endpoint}else{let o=p(this,Pm,"f").find(r=>r.is(rn)?r.as(rn).icon_type===e:!1);if(!o||!o.is(rn))throw new _(`Button "${e}" not found.`);i=o.endpoint}if(!i)throw new _("Target button does not have an endpoint.");return await i.call(p(this,lg,"f"),{parse:!0})}items(){return p(this,Pm,"f")}page(){return p(this,ug,"f")}};s(pg,"ItemMenu");ug=new WeakMap,lg=new WeakMap,Pm=new WeakMap;var fg=pg;var Rm,dg,Hr=class extends ae{constructor(e,i,n=!1){var d,x,b,g,w;super(e,i,n),Rm.add(this);let o=this.memo.getType(xy).first(),r=this.memo.getType(gy).first(),l=this.memo.getType(wy).first(),f=(d=this.page.alerts)==null?void 0:d.firstOfType(Jo);if(f&&f.alert_type==="ERROR")throw new _(f.text.toString(),f);if(!r&&!l&&Object.keys(this.page).length===0)throw new _("Got empty continuation response. This is likely the end of the playlist.");this.info={...(x=this.page.metadata)==null?void 0:x.item().as(yy),subtitle:o?o.subtitle:null,author:(g=(b=l==null?void 0:l.owner)==null?void 0:b.as(Ar).author)!=null?g:o==null?void 0:o.author,thumbnails:(w=r==null?void 0:r.thumbnail_renderer)==null?void 0:w.as(cr,ar).thumbnail,total_items:p(this,Rm,"m",dg).call(this,0,r),views:p(this,Rm,"m",dg).call(this,1,r),last_updated:p(this,Rm,"m",dg).call(this,2,r),can_share:o==null?void 0:o.can_share,can_delete:o==null?void 0:o.can_delete,is_editable:o==null?void 0:o.is_editable,privacy:o==null?void 0:o.privacy},this.menu=r==null?void 0:r.menu,this.endpoint=r==null?void 0:r.endpoint,this.messages=this.memo.getType(Le)}get items(){return j(this.videos.as(kr,Ir,Pr).filter(e=>e.style!=="PLAYLIST_VIDEO_RENDERER_STYLE_RECOMMENDED_VIDEO"))}get has_continuation(){let e=this.memo.getType(G).first();return e?!!this.memo.getType(se).find(i=>!e.contents.includes(i)):super.has_continuation}async getContinuationData(){let e=this.memo.getType(G).first();if(!e)return await super.getContinuationData();let i=this.memo.getType(se).find(o=>!e.contents.includes(o));if(!i)throw new _("There are no continuations.");return await i.endpoint.call(this.actions,{parse:!0})}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new _("Could not get continuation data");return new Hr(this.actions,e,!0)}};s(Hr,"Playlist");Rm=new WeakSet,dg=s(function(e,i){var n;return!i||!i.stats?"N/A":((n=i.stats[e])==null?void 0:n.toString())||"N/A"},"_Playlist_getStat");var ki=Hr;var xv,jS,hg=class extends ae{constructor(e,i){if(super(e,i),xv.add(this),!this.page.contents_memo)throw new _("Page contents not found");this.header=this.memo.getType(Xt).first();let n=this.page.contents_memo.getType(Nr);this.sections=n.map(o=>{var r;return{type:o.icon_type,title:o.title,contents:((r=o.content)==null?void 0:r.key("items").array())||[],getAll:()=>p(this,xv,"m",jS).call(this,o)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};s(hg,"Library");xv=new WeakSet,jS=s(async function(e){var o;if(!((o=e.menu)!=null&&o.as(U).top_level_buttons))throw new _(`The ${e.title.text} shelf doesn't have more items`);let i=e.menu.as(U).top_level_buttons.firstOfType(I);if(!i)throw new _("Did not find target button.");let n=await i.as(I).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new ki(this.actions,n,!0);case"WATCH_HISTORY":return new yt(this.actions,n,!0);case"CONTENT_CUT":return new ae(this.actions,n,!0);default:throw new _("Target shelf not implemented.")}},"_Library_getAll");var mg=hg;var Ii,vn,ho,gt,Yt,it;function V2(t){let e=[];for(let i of t)if(Array.isArray(i))for(let n of i)e.push(n);else e.push(i);return e}s(V2,"flattenQueue");var _g=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};s(_g,"DelayQueue");var bg=class{constructor(){Ii.set(this,void 0),vn.set(this,void 0),ho.set(this,void 0),gt.set(this,void 0),Yt.set(this,void 0),it.set(this,void 0),k(this,Ii,null,"f"),k(this,vn,null,"f"),k(this,ho,null,"f"),k(this,gt,[],"f"),k(this,Yt,null,"f"),k(this,it,new _g,"f")}enqueueActionGroup(e){if(p(this,Ii,"f")!==null){let i=Date.now()-p(this,Ii,"f");p(this,it,"f").back.push(i),5<p(this,it,"f").front.length+p(this,it,"f").back.length&&(p(this,it,"f").front.length||(p(this,it,"f").front=p(this,it,"f").back,p(this,it,"f").front.reverse(),p(this,it,"f").back=[]),p(this,it,"f").front.pop()),k(this,vn,Math.max(...p(this,it,"f").getValues()),"f")}k(this,Ii,Date.now(),"f"),p(this,gt,"f").push(e),p(this,Yt,"f")===null&&k(this,Yt,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(k(this,Yt,null,"f"),p(this,gt,"f").length){let e=1e4;p(this,vn,"f")!==null&&p(this,Ii,"f")!==null&&(e=p(this,vn,"f")-Date.now()+p(this,Ii,"f")),e=p(this,gt,"f").length<e/80?1:Math.ceil(p(this,gt,"f").length/(e/80));let i=V2(p(this,gt,"f").splice(0,e));p(this,ho,"f")&&p(this,ho,"f").call(this,i),p(this,gt,"f")!==null&&(e==1?(e=p(this,vn,"f")/p(this,gt,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,k(this,Yt,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){p(this,Yt,"f")!==null&&(clearTimeout(p(this,Yt,"f")),k(this,Yt,null,"f")),k(this,gt,[],"f")}set callback(e){k(this,ho,e,"f")}get callback(){return p(this,ho,"f")}get action_queue(){return p(this,gt,"f")}get estimated_update_interval(){return p(this,vn,"f")}get last_update_time(){return p(this,Ii,"f")}get next_update_id(){return p(this,Yt,"f")}get poll_response_delay_queue(){return p(this,it,"f")}};s(bg,"SmoothedQueue");Ii=new WeakMap,vn=new WeakMap,ho=new WeakMap,gt=new WeakMap,Yt=new WeakMap,it=new WeakMap;var xg=bg;var Me,Si,Dm,yg,_o,Am,Mm,yv,gg,HS,mo,wg=class extends Xs{constructor(e){var i,n;super(),Me.add(this),Si.set(this,void 0),Dm.set(this,void 0),yg.set(this,void 0),_o.set(this,void 0),Am.set(this,void 0),Mm.set(this,0),this.running=!1,this.is_replay=!1,k(this,Dm,e.basic_info.id,"f"),k(this,yg,e.basic_info.channel_id,"f"),k(this,Si,e.actions,"f"),k(this,_o,(i=e.livechat)==null?void 0:i.continuation,"f"),this.is_replay=((n=e.livechat)==null?void 0:n.is_replay)||!1,this.smoothed_queue=new xg,this.smoothed_queue.callback=async o=>{o.length?o.length<10?await p(this,Me,"m",gg).call(this,o):this.is_replay?(p(this,Me,"m",gg).call(this,o),await p(this,Me,"m",mo).call(this,2e3)):p(this,Me,"m",gg).call(this,o):await p(this,Me,"m",mo).call(this,2e3),this.running&&p(this,Me,"m",yv).call(this)}}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,p(this,Me,"m",yv).call(this),p(this,Me,"m",HS).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}async sendMessage(e){let i=_0.encode({params:{ids:{videoId:p(this,Dm,"f"),channelId:p(this,yg,"f")}},number0:1,number1:4}),n=btoa(encodeURIComponent(Ie(i.finish()))),o=await p(this,Si,"f").execute("/live_chat/send_message",{richMessage:{textSegments:[{text:e}]},clientMessageId:V.shim.uuidv4(),client:"WEB",parse:!0,params:n});if(!o.actions)throw new _("Unexpected response from send_message",o);return o.actions.array().as(Cx)}applyFilter(e){var n,o,r,l,f,d,x;if(!this.initial_info)throw new _("Cannot apply filter before initial info is retrieved.");let i=(r=(o=(n=this.initial_info)==null?void 0:n.header)==null?void 0:o.view_selector)==null?void 0:r.sub_menu_items;if(e==="TOP_CHAT"){if((l=i==null?void 0:i.at(0))!=null&&l.selected)return;k(this,_o,(f=i==null?void 0:i.at(0))==null?void 0:f.continuation,"f")}else{if((d=i==null?void 0:i.at(1))!=null&&d.selected)return;k(this,_o,(x=i==null?void 0:i.at(1))==null?void 0:x.continuation,"f")}}async getItemMenu(e){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(m))throw new _("This item does not have a menu.",e);let i=await e.key("menu_endpoint").instanceof(m).call(p(this,Si,"f"),{parse:!0});if(!i)throw new _("Could not retrieve item menu.",e);return new fg(i,p(this,Si,"f"))}async selectButton(e){return await e.endpoint.call(p(this,Si,"f"),{parse:!0})}};s(wg,"LiveChat");Si=new WeakMap,Dm=new WeakMap,yg=new WeakMap,_o=new WeakMap,Am=new WeakMap,Mm=new WeakMap,Me=new WeakSet,yv=s(function t(){(async()=>{var e,i;try{let n=await p(this,Si,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:p(this,_o,"f"),parse:!0}),o=n.continuation_contents;if(o||(this.emit("error",new _("Unexpected live chat incremental continuation response",n)),this.emit("end"),this.stop()),!(o instanceof mn)){this.stop(),this.emit("end");return}k(this,_o,o.continuation.token,"f"),o.header?(this.initial_info=o,this.emit("start",o),this.running&&p(this,Me,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(o.actions),k(this,Mm,0,"f")}catch(n){this.emit("error",n),k(this,Mm,(i=p(this,Mm,"f"),e=i++,i),"f"),e<10?(await p(this,Me,"m",mo).call(this,2e3),p(this,Me,"m",t).call(this)):(this.emit("error",new _("Reached retry limit for incremental continuation requests",n)),this.emit("end"),this.stop())}})()},"_LiveChat_pollLivechat"),gg=s(async function(e){let n=e.length<125?1:Math.ceil(e.length/125),o=n==1?(n=1e4/e.length,n*=Math.random()+.5,n=Math.min(1e3,n),n=Math.max(80,n)):n=80;for(let r of e)await p(this,Me,"m",mo).call(this,o),this.emit("chat-update",r)},"_LiveChat_emitSmoothedActions"),HS=s(function t(){(async()=>{var e,i,n,o,r,l,f,d,x,b,g;try{let w={videoId:p(this,Dm,"f")};p(this,Am,"f")&&(w.continuation=p(this,Am,"f"));let T=await p(this,Si,"f").execute("/updated_metadata",w),S=u.parseResponse(T.data);k(this,Am,(e=S.continuation)==null?void 0:e.token,"f"),this.metadata={title:((i=S.actions)==null?void 0:i.array().firstOfType(Mx))||((n=this.metadata)==null?void 0:n.title),description:((o=S.actions)==null?void 0:o.array().firstOfType(Ax))||((r=this.metadata)==null?void 0:r.description),views:((l=S.actions)==null?void 0:l.array().firstOfType(Lx))||((f=this.metadata)==null?void 0:f.views),likes:((d=S.actions)==null?void 0:d.array().firstOfType(Dx))||((x=this.metadata)==null?void 0:x.likes),date:((b=S.actions)==null?void 0:b.array().firstOfType(Rx))||((g=this.metadata)==null?void 0:g.date)},this.emit("metadata-update",this.metadata),await p(this,Me,"m",mo).call(this,5e3),this.running&&p(this,Me,"m",t).call(this)}catch{await p(this,Me,"m",mo).call(this,2e3),this.running&&p(this,Me,"m",t).call(this)}})()},"_LiveChat_pollMetadata"),mo=s(async function(e){return new Promise(i=>setTimeout(()=>i(),e))},"_LiveChat_wait");var vg=wg;var Tn,Lm,Gr=class{constructor(e,i){if(Tn.set(this,void 0),Lm.set(this,void 0),k(this,Lm,e,"f"),k(this,Tn,u.parseResponse(i.data),"f"),!p(this,Tn,"f").actions_memo)throw new _("Page actions not found");this.header=p(this,Tn,"f").actions_memo.getType(Gx).first(),this.contents=p(this,Tn,"f").actions_memo.getType(ay)}async getContinuation(){var n;let e=(n=p(this,Tn,"f").actions_memo)==null?void 0:n.getType(se).first();if(!e)throw new _("Continuation not found");let i=await e.endpoint.call(p(this,Lm,"f"),{parse:!1});return new Gr(p(this,Lm,"f"),i)}get page(){return p(this,Tn,"f")}};s(Gr,"NotificationsMenu");Tn=new WeakMap,Lm=new WeakMap;var Tg=Gr;var Ft=class extends ae{constructor(e,i,n=!1){var r,l,f;super(e,i,n);let o=((r=this.page.contents_memo)==null?void 0:r.getType(G).first().contents)||((l=this.page.on_response_received_commands)==null?void 0:l.first().contents);if(!o)throw new _("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(Ey)),this.results=j(o.filterType(fe).flatMap(d=>d.contents)),this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results||0,this.page.contents_memo&&(this.sub_menu=this.page.contents_memo.getType(Cy).first(),this.watch_card=this.page.contents_memo.getType(Vy).first()),this.refinement_cards=(f=this.results)==null?void 0:f.firstOfType(qi)}async selectRefinementCard(e){var o,r;let i;if(typeof e=="string"){if(!this.refinement_cards)throw new _("No refinement cards found.");if(i=(r=(o=this.refinement_cards)==null?void 0:o.cards.get({query:e}))==null?void 0:r.as(Hn),!i)throw new _(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")i=e;else throw new _("Invalid refinement card!");let n=await i.endpoint.call(this.actions,{parse:!0});return new Ft(this.actions,n,!0)}get refinement_card_queries(){var e;return((e=this.refinement_cards)==null?void 0:e.cards.as(Hn).map(i=>i.query))||[]}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new _("Could not get continuation data");return new Ft(this.actions,e,!0)}};s(Ft,"Search");var bo,Om,Kr=class{constructor(e,i){var r,l,f,d;if(bo.set(this,void 0),Om.set(this,void 0),k(this,Om,e,"f"),k(this,bo,u.parseResponse(i.data),"f"),this.sidebar=(r=p(this,bo,"f").sidebar)==null?void 0:r.as(Ry),!p(this,bo,"f").contents)throw new _("Page contents not found");let n=p(this,bo,"f").contents.item().as(Qt).tabs.array().as(pe).get({selected:!0});if(!n)throw new _("Target tab not found");let o=(l=n.content)==null?void 0:l.as(G).contents.as(fe);this.introduction=(d=(f=o==null?void 0:o.shift())==null?void 0:f.contents)==null?void 0:d.firstOfType(uy),this.sections=o==null?void 0:o.map(x=>{var b;return{title:(b=x.header)!=null&&b.is(nn,hr,mr)?x.header.title.toString():null,contents:x.contents}})}async selectSidebarItem(e){if(!this.sidebar)throw new _("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new _(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(ji))i=e;else throw new _("Invalid item",{target_item:e});let n=await i.endpoint.call(p(this,Om,"f"),{parse:!1});return new Kr(p(this,Om,"f"),n)}getSettingOption(e){var i;if(!this.sections)throw new _("Sections not available");for(let n of this.sections)if(!!n.contents)for(let o of n.contents){let r=o.as(Cr).options;if(r){for(let l of r)if(l.is(Er)&&((i=l.title)==null?void 0:i.toString())===e)return l}}throw new _(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new _("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let n of i.contents)n.as(Cr).options&&(e=e.concat(n.as(Cr).options));return e.map(i=>{var n;return(n=i.title)==null?void 0:n.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new _("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return p(this,bo,"f")}};s(Kr,"Settings");bo=new WeakMap,Om=new WeakMap;var kg=Kr;var $r,Ig=class{constructor(e){var n;if($r.set(this,void 0),k(this,$r,u.parseResponse(e.data),"f"),!p(this,$r,"f").contents)throw new _("Page contents not found");let i=p(this,$r,"f").contents.item().as(Zt).tabs.get({selected:!0});if(!i)throw new _("Could not find target tab.");this.contents=(n=i.content)==null?void 0:n.as(G).contents.as(fe)}get page(){return p(this,$r,"f")}};s(Ig,"TimeWatched");$r=new WeakMap;var Sg=Ig;var kn,qr=class extends ri{constructor(e,i,n){var x,b,g,w,T,S,E,P,C,Y,F,ie,me,Ce,K,ue,q,H,oe,ce,Xe,Ct,Nt,Pt,Ze,Bi,_i,xe,at;super(e,i,n),kn.set(this,void 0);let[o,r]=this.page;if(this.streaming_data){let ye=this.streaming_data.adaptive_formats.find(We=>{var ht;return(ht=We.audio_track)==null?void 0:ht.audio_is_default});if(ye)this.streaming_data.formats.forEach(We=>We.language=ye.language);else if(((x=this.captions)==null?void 0:x.caption_tracks)&&((b=this.captions)==null?void 0:b.caption_tracks.length)>0){let We=this.captions.caption_tracks.find(_e=>_e.kind==="asr"),ht=We==null?void 0:We.language_code;this.streaming_data.adaptive_formats.forEach(_e=>{_e.has_audio&&(_e.language=ht)}),this.streaming_data.formats.forEach(_e=>_e.language=ht)}}let l=(g=r==null?void 0:r.contents)==null?void 0:g.item().as(Rr),f=l==null?void 0:l.results,d=l==null?void 0:l.secondary_results;if(f&&d){if(((w=o.microformat)==null?void 0:w.is(lt))&&((T=o.microformat)==null?void 0:T.category)==="Gaming"){let _e=(P=(E=(S=f.firstOfType(um))==null?void 0:S.metadata)==null?void 0:E.rows)==null?void 0:P.firstOfType(eh);_e!=null&&_e.is(eh)&&(this.game_info={title:(Y=(C=_e==null?void 0:_e.contents)==null?void 0:C.firstOfType(Zd))==null?void 0:Y.title,release_year:(ie=(F=_e==null?void 0:_e.contents)==null?void 0:F.firstOfType(Zd))==null?void 0:ie.subtitle})}this.primary_info=f.firstOfType(Yy),this.secondary_info=f.firstOfType(um),this.merchandise=f.firstOfType(Kx),this.related_chip_cloud=(me=d.firstOfType(ky))==null?void 0:me.content.as(ct),l!=null&&l.playlist&&(this.playlist=l.playlist),this.watch_next_feed=((Ce=d.firstOfType(fe))==null?void 0:Ce.contents)||d,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((K=this.watch_next_feed.at(-1))==null?void 0:K.is(se))&&k(this,kn,(ue=this.watch_next_feed.pop())==null?void 0:ue.as(se),"f"),this.player_overlays=(q=r==null?void 0:r.player_overlays)==null?void 0:q.item().as(cn),l!=null&&l.autoplay&&(this.autoplay=l.autoplay);let ye=(oe=(H=this.primary_info)==null?void 0:H.menu)==null?void 0:oe.top_level_buttons.firstOfType(to);((ce=ye==null?void 0:ye.like_button)==null?void 0:ce.is(ge))&&((Xe=ye==null?void 0:ye.dislike_button)==null?void 0:Xe.is(ge))&&(this.basic_info.like_count=(Ct=ye==null?void 0:ye.like_button)==null?void 0:Ct.like_count,this.basic_info.is_liked=(Nt=ye==null?void 0:ye.like_button)==null?void 0:Nt.is_toggled,this.basic_info.is_disliked=(Pt=ye==null?void 0:ye.dislike_button)==null?void 0:Pt.is_toggled);let We=(Bi=(Ze=this.primary_info)==null?void 0:Ze.menu)==null?void 0:Bi.top_level_buttons.firstOfType(gi);if(We&&(this.basic_info.like_count=We.like_count,We.like_button)){let _e=We.like_button.like_status_entity.like_status;this.basic_info.is_liked=_e==="LIKE",this.basic_info.is_disliked=_e==="DISLIKE"}let ht=(_i=f.get({target_id:"comments-entry-point"}))==null?void 0:_i.as(fe);this.comments_entry_point_header=(xe=ht==null?void 0:ht.contents)==null?void 0:xe.firstOfType(Gb),this.livechat=(at=r==null?void 0:r.contents_memo)==null?void 0:at.getType(Ix).first()}}async selectFilter(e){var r,l,f,d;if(!this.related_chip_cloud)throw new _("Chip cloud not found, cannot apply filter");let i;if(typeof e=="string"){let x=(l=(r=this.related_chip_cloud)==null?void 0:r.chips)==null?void 0:l.get({text:e});if(!x)throw new _("Invalid filter",{available_filters:this.filters});i=x}else if(e!=null&&e.is(le))i=e;else throw new _("Invalid cloud chip",e);if(i.is_selected)return this;let n=await((f=i.endpoint)==null?void 0:f.call(this.actions,{parse:!0})),o=(d=n==null?void 0:n.on_response_received_endpoints)==null?void 0:d.get({target_id:"watch-next-feed"});return this.watch_next_feed=o==null?void 0:o.contents,this}async addToWatchHistory(){return super.addToWatchHistory()}async getWatchNextContinuation(){var n,o,r,l,f;if(!p(this,kn,"f"))throw new _("Watch next feed continuation not found");let e=await((n=p(this,kn,"f"))==null?void 0:n.endpoint.call(this.actions,{parse:!0})),i=(o=e==null?void 0:e.on_response_received_endpoints)==null?void 0:o.get({type:"AppendContinuationItemsAction"});if(!i)throw new _("AppendContinuationItemsAction not found");return this.watch_next_feed=i==null?void 0:i.contents,(l=(r=this.watch_next_feed)==null?void 0:r.at(-1))!=null&&l.is(se)?k(this,kn,(f=this.watch_next_feed.pop())==null?void 0:f.as(se),"f"):k(this,kn,void 0,"f"),this}async like(){var r,l,f,d,x;let e=(l=(r=this.primary_info)==null?void 0:r.menu)==null?void 0:l.top_level_buttons.firstOfType(gi);if(e){let b=(f=e==null?void 0:e.like_button)==null?void 0:f.toggle_button;if(!b||!b.default_button||!e.like_button)throw new _("Like button not found",{video_id:this.basic_info.id});if(e.like_button.like_status_entity.like_status==="LIKE")throw new _("This video is already liked",{video_id:this.basic_info.id});return await new m(b.default_button.on_tap.payload.commands.find(S=>S.innertubeCommand)).call(this.actions)}let i=(x=(d=this.primary_info)==null?void 0:d.menu)==null?void 0:x.top_level_buttons.firstOfType(to),n=i==null?void 0:i.like_button;if(!n)throw new _("Like button not found",{video_id:this.basic_info.id});if(!n.is(ge))throw new _("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(n.is_toggled)throw new _("This video is already liked",{video_id:this.basic_info.id});return await n.endpoint.call(this.actions)}async dislike(){var r,l,f,d,x;let e=(l=(r=this.primary_info)==null?void 0:r.menu)==null?void 0:l.top_level_buttons.firstOfType(gi);if(e){let b=(f=e==null?void 0:e.dislike_button)==null?void 0:f.toggle_button;if(!b||!b.default_button||!e.dislike_button||!e.like_button)throw new _("Dislike button not found",{video_id:this.basic_info.id});if(e.like_button.like_status_entity.like_status==="DISLIKE")throw new _("This video is already disliked",{video_id:this.basic_info.id});return await new m(b.default_button.on_tap.payload.commands.find(S=>S.innertubeCommand)).call(this.actions)}let i=(x=(d=this.primary_info)==null?void 0:d.menu)==null?void 0:x.top_level_buttons.firstOfType(to),n=i==null?void 0:i.dislike_button;if(!n)throw new _("Dislike button not found",{video_id:this.basic_info.id});if(!n.is(ge))throw new _("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(n.is_toggled)throw new _("This video is already disliked",{video_id:this.basic_info.id});return await n.endpoint.call(this.actions)}async removeRating(){var f,d,x,b,g,w,T;let e,i=(d=(f=this.primary_info)==null?void 0:f.menu)==null?void 0:d.top_level_buttons.firstOfType(gi);if(i){let S=(x=i==null?void 0:i.like_button)==null?void 0:x.toggle_button;if(!S||!S.default_button||!i.like_button)throw new _("Like button not found",{video_id:this.basic_info.id});let E=i.like_button.like_status_entity.like_status;if(E==="LIKE")e=(b=i==null?void 0:i.like_button)==null?void 0:b.toggle_button;else if(E==="DISLIKE")e=(g=i==null?void 0:i.dislike_button)==null?void 0:g.toggle_button;else throw new _("This video is not liked/disliked",{video_id:this.basic_info.id});if(!e||!e.toggled_button)throw new _("Like/Dislike button not found",{video_id:this.basic_info.id});return await new m(e.toggled_button.on_tap.payload.commands.find(Y=>Y.innertubeCommand)).call(this.actions)}let n=(T=(w=this.primary_info)==null?void 0:w.menu)==null?void 0:T.top_level_buttons.firstOfType(to),o=n==null?void 0:n.like_button,r=n==null?void 0:n.dislike_button;if(!(o!=null&&o.is(ge))||!(r!=null&&r.is(ge)))throw new _("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(o!=null&&o.is_toggled?e=o:r!=null&&r.is_toggled&&(e=r),!e)throw new _("This video is not liked/disliked",{video_id:this.basic_info.id});return await e.toggled_endpoint.call(this.actions)}getLiveChat(){if(!this.livechat)throw new _("Live Chat is not available",{video_id:this.basic_info.id});return new vg(this)}getTrailerInfo(){var e,i;if(this.has_trailer&&this.playability_status){let n=(i=(e=this.playability_status.error_screen)==null?void 0:e.as(yd).trailer)==null?void 0:i.player_response;if(n)return new qr([{data:n}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)==null?void 0:e.chips)==null?void 0:i.map(n=>{var o;return(o=n.text)==null?void 0:o.toString()}))||[]}get wn_has_continuation(){return!!p(this,kn,"f")}get autoplay_video_endpoint(){var e,i,n;return((n=(i=(e=this.autoplay)==null?void 0:e.sets)==null?void 0:i[0])==null?void 0:n.autoplay_video)||null}get has_trailer(){var e,i;return!!((i=(e=this.playability_status)==null?void 0:e.error_screen)!=null&&i.is(yd))}get music_tracks(){var i,n,o,r,l,f;let e=(n=(i=this.page[1])==null?void 0:i.engagement_panels)==null?void 0:n.filter(d=>{var x;return(x=d.content)==null?void 0:x.is(Kn)});if(e!==void 0&&e.length>0){let d=(l=(r=(o=e[0].content)==null?void 0:o.as(Kn))==null?void 0:r.items)==null?void 0:l.filterType(nr);if(d!==void 0&&d.length>0)return(f=d[0].carousel_lockups)==null?void 0:f.map(x=>{var P,C,Y,F,ie,me,Ce,K,ue,q,H,oe,ce,Xe,Ct,Nt,Pt,Ze,Bi;let b,g,w,T,S,E;b=(C=(P=x.video_lockup)==null?void 0:P.title)==null?void 0:C.toString(),S=(Y=x.video_lockup)==null?void 0:Y.endpoint.payload.videoId;for(let _i=0;_i<x.info_rows.length;_i++){let xe=x.info_rows[_i];if(xe.info_row_expand_status_key===void 0)if(b===void 0){if(b=((F=xe.default_metadata)==null?void 0:F.toString())||((ie=xe.expanded_metadata)==null?void 0:ie.toString()),S===void 0){let at=((me=xe.default_metadata)==null?void 0:me.endpoint)||((Ce=xe.expanded_metadata)==null?void 0:Ce.endpoint);S=(K=at==null?void 0:at.payload)==null?void 0:K.videoId}}else w=((ue=xe.default_metadata)==null?void 0:ue.toString())||((q=xe.expanded_metadata)==null?void 0:q.toString());else{if(((H=xe.info_row_expand_status_key)==null?void 0:H.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(g=((oe=xe.default_metadata)==null?void 0:oe.toString())||((ce=xe.expanded_metadata)==null?void 0:ce.toString()),E===void 0)){let at=((Xe=xe.default_metadata)==null?void 0:Xe.endpoint)||((Ct=xe.expanded_metadata)==null?void 0:Ct.endpoint);E=(Nt=at==null?void 0:at.payload)==null?void 0:Nt.browseId}((Pt=xe.info_row_expand_status_key)==null?void 0:Pt.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(T=((Ze=xe.default_metadata)==null?void 0:Ze.toString())||((Bi=xe.expanded_metadata)==null?void 0:Bi.toString()))}}return{song:b,artist:g,album:w,license:T,videoId:S,channelId:E}})}return[]}};s(qr,"VideoInfo");kn=new WeakMap;var Bm=qr;var zr,Um,Jr=class{constructor(e,i){if(zr.set(this,void 0),Um.set(this,void 0),k(this,zr,u.parseResponse(i.data),"f"),k(this,Um,e,"f"),!p(this,zr,"f").actions_memo)throw new Error("Page actions not found");this.transcript=p(this,zr,"f").actions_memo.getType(zo).first()}async selectLanguage(e){var o,r,l,f;let i=(f=(l=(r=(o=this.transcript.content)==null?void 0:o.footer)==null?void 0:r.language_menu)==null?void 0:l.sub_menu_items)==null?void 0:f.find(d=>d.title.toString()===e);if(!i)throw new Error(`Language not found: ${e}`);if(i.selected)return this;let n=await p(this,Um,"f").execute("/get_transcript",{params:i.continuation});return new Jr(p(this,Um,"f"),n)}get languages(){var e,i,n,o;return((o=(n=(i=(e=this.transcript.content)==null?void 0:e.footer)==null?void 0:i.language_menu)==null?void 0:n.sub_menu_items)==null?void 0:o.map(r=>r.title.toString()))||[]}get selectedLanguage(){var e,i,n,o,r;return((r=(o=(n=(i=(e=this.transcript.content)==null?void 0:e.footer)==null?void 0:i.language_menu)==null?void 0:n.sub_menu_items)==null?void 0:o.find(l=>l.selected))==null?void 0:r.title.toString())||""}get page(){return p(this,zr,"f")}};s(Jr,"TranscriptInfo");zr=new WeakMap,Um=new WeakMap;var rg=Jr;var vv={};D(vv,{Album:()=>Cg,Artist:()=>Rg,Explore:()=>Mg,HomeFeed:()=>Dg,Library:()=>Lg,LibraryContinuation:()=>wo,Playlist:()=>os,Recap:()=>Bg,Search:()=>Ug,TrackInfo:()=>Hm});var ci,Eg=class{constructor(e){var i,n,o;if(ci.set(this,void 0),k(this,ci,u.parseResponse(e.data),"f"),!p(this,ci,"f").contents_memo)throw new Error("No contents found in the response");this.header=(i=p(this,ci,"f").contents_memo.getType(wr,Tr))==null?void 0:i.first(),this.contents=((n=p(this,ci,"f").contents_memo.getType(de))==null?void 0:n.first().contents)||j([]),this.sections=p(this,ci,"f").contents_memo.getType(Ae)||j([]),this.background=p(this,ci,"f").background,this.url=(o=p(this,ci,"f").microformat)==null?void 0:o.as(qt).url_canonical}get page(){return p(this,ci,"f")}};s(Eg,"Album");ci=new WeakMap;var Cg=Eg;var Xr,Ng,Pg=class{constructor(e,i){var r,l,f;Xr.set(this,void 0),Ng.set(this,void 0),k(this,Xr,u.parseResponse(e.data),"f"),k(this,Ng,i,"f"),this.header=(r=this.page.header)==null?void 0:r.item().as(ty,sy,an);let n=((l=p(this,Xr,"f").contents_memo)==null?void 0:l.getType(de))||[],o=((f=p(this,Xr,"f").contents_memo)==null?void 0:f.getType(Ae))||[];this.sections=j([...n,...o])}async getAllSongs(){var r,l;let e=this.sections.filter(f=>f.type==="MusicShelf");if(!e.length)throw new _("Could not find any node of type MusicShelf.");let i=e.find(f=>f.title.toString()==="Songs");if(!i)throw new _("Could not find target shelf (Songs).");if(!i.endpoint)throw new _("Target shelf (Songs) did not have an endpoint.");return(l=(r=(await i.endpoint.call(p(this,Ng,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)==null?void 0:r.getType(eo))==null?void 0:l.first()}get page(){return p(this,Xr,"f")}};s(Pg,"Artist");Xr=new WeakMap,Ng=new WeakMap;var Rg=Pg;var Vm,Ag=class{constructor(e){var o,r,l;Vm.set(this,void 0),k(this,Vm,u.parseResponse(e.data),"f");let i=(o=p(this,Vm,"f").contents)==null?void 0:o.item().as(Zt).tabs.get({selected:!0});if(!i)throw new _("Could not find target tab.");let n=(r=i.content)==null?void 0:r.as(G);if(!n)throw new _("Target tab did not have any content.");this.top_buttons=((l=n.contents.firstOfType(Jn))==null?void 0:l.items.as(xr))||[],this.sections=n.contents.filterType(Ae)}get page(){return p(this,Vm,"f")}};s(Ag,"Explore");Vm=new WeakMap;var Mg=Ag;var In,xo,yo,go=class{constructor(e,i){var o,r,l,f,d,x;In.set(this,void 0),xo.set(this,void 0),yo.set(this,void 0),k(this,xo,i,"f"),k(this,In,u.parseResponse(e.data),"f");let n=(o=p(this,In,"f").contents)==null?void 0:o.item().as(Zt).tabs.get({selected:!0});if(!n)throw new _("Could not find Home tab.");if(n.content===null){if(!p(this,In,"f").continuation_contents)throw new _("Continuation did not have any content.");k(this,yo,p(this,In,"f").continuation_contents.as(et).continuation,"f"),this.sections=(r=p(this,In,"f").continuation_contents.as(et).contents)==null?void 0:r.as(Ae);return}this.header=(f=(l=n.content)==null?void 0:l.as(G).header)==null?void 0:f.as(ct),k(this,yo,(d=n.content)==null?void 0:d.as(G).continuation,"f"),this.sections=(x=n.content)==null?void 0:x.as(G).contents.as(Ae,ry)}async getContinuation(){if(!p(this,yo,"f"))throw new _("Continuation not found.");let e=await p(this,xo,"f").execute("/browse",{client:"YTMUSIC",continuation:p(this,yo,"f")});return new go(e,p(this,xo,"f"))}async applyFilter(e){var o,r;let i;if(typeof e=="string"){if(i=(r=(o=this.header)==null?void 0:o.chips)==null?void 0:r.as(le).get({text:e}),!i)throw new _("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(le)&&(i=e);if(!i)throw new _("Invalid filter",{available_filters:this.filters});if(i!=null&&i.is_selected)return this;if(!i.endpoint)throw new _("Selected filter does not have an endpoint.");let n=await i.endpoint.call(p(this,xo,"f"),{client:"YTMUSIC"});return new go(n,p(this,xo,"f"))}get filters(){var e,i;return((i=(e=this.header)==null?void 0:e.chips)==null?void 0:i.as(le).map(n=>n.text))||[]}get has_continuation(){return!!p(this,yo,"f")}get page(){return p(this,In,"f")}};s(go,"HomeFeed");In=new WeakMap,xo=new WeakMap,yo=new WeakMap;var Dg=go;var ui,Sn,Zr,Qr,Ym,es,ts=class{constructor(e,i){var o,r,l,f,d;ui.set(this,void 0),Sn.set(this,void 0),Zr.set(this,void 0),k(this,ui,u.parseResponse(e.data),"f"),k(this,Sn,i,"f");let n=(o=p(this,ui,"f").contents_memo)==null?void 0:o.getType(G).first();this.header=(r=n==null?void 0:n.header)==null?void 0:r.as(ny),this.contents=(l=n==null?void 0:n.contents)==null?void 0:l.as(Jn,de),k(this,Zr,(d=(f=this.contents)==null?void 0:f.find(x=>x.continuation))==null?void 0:d.continuation,"f")}async applySort(e){var l,f,d,x,b,g,w,T,S,E;let i;if(typeof e=="string"){let P=(l=p(this,ui,"f").contents_memo)==null?void 0:l.getType(id).first(),C=(f=P==null?void 0:P.menu)==null?void 0:f.options.filter(Y=>Y instanceof Bt);if(i=C==null?void 0:C.find(Y=>Y.title===e),!i)throw new _(`Sort option "${e}" not found`,{available_filters:C.map(Y=>Y.title)})}else e instanceof Bt&&(i=e);if(!i)throw new _("Invalid sort option");if(i.selected)return this;let n=(g=(b=(x=(d=i.endpoint)==null?void 0:d.payload)==null?void 0:x.commands)==null?void 0:b.find(P=>P.browseSectionListReloadEndpoint))==null?void 0:g.browseSectionListReloadEndpoint;if(!n)throw new _("Failed to find sort option command");let o=await p(this,Sn,"f").execute("/browse",{client:"YTMUSIC",continuation:n.continuation.reloadContinuationData.continuation,parse:!0}),r=(T=(w=p(this,ui,"f").contents_memo)==null?void 0:w.getType(Bt))==null?void 0:T.find(P=>P.selected);return r&&(r.selected=!1),i.selected=!0,this.contents=(E=(S=o.continuation_contents)==null?void 0:S.as(et).contents)==null?void 0:E.as(Jn,de),this}async applyFilter(e){var l,f,d,x;let i,n=(l=p(this,ui,"f").contents_memo)==null?void 0:l.getType(ct).first();if(typeof e=="string"){if(i=n==null?void 0:n.chips.get({text:e}),!i)throw new _(`Filter "${e}" not found`,{available_filters:this.filters})}else e instanceof le&&(i=e);if(!i)throw new _("Invalid filter",e);let r=await new m((x=(d=(f=i.endpoint)==null?void 0:f.payload)==null?void 0:d.commands)==null?void 0:x[0]).call(p(this,Sn,"f"),{client:"YTMUSIC"});return new ts(r,p(this,Sn,"f"))}async getContinuation(){if(!p(this,Zr,"f"))throw new _("No continuation available");let e=await p(this,Sn,"f").execute("/browse",{client:"YTMUSIC",continuation:p(this,Zr,"f")});return new wo(e,p(this,Sn,"f"))}get has_continuation(){return!!p(this,Zr,"f")}get sort_options(){var n,o;let e=(n=p(this,ui,"f").contents_memo)==null?void 0:n.getType(id).first();return((o=e==null?void 0:e.menu)==null?void 0:o.options.filter(r=>r instanceof Bt)).map(r=>r.title)}get filters(){var e,i;return((i=(e=p(this,ui,"f").contents_memo)==null?void 0:e.getType(ct))==null?void 0:i.first().chips.map(n=>n.text))||[]}get page(){return p(this,ui,"f")}};s(ts,"Library");ui=new WeakMap,Sn=new WeakMap,Zr=new WeakMap;var Lg=ts,wo=class{constructor(e,i){if(Qr.set(this,void 0),Ym.set(this,void 0),es.set(this,void 0),k(this,Qr,u.parseResponse(e.data),"f"),k(this,Ym,i,"f"),!p(this,Qr,"f").continuation_contents)throw new _("No continuation contents found");this.contents=p(this,Qr,"f").continuation_contents.as(ti,hn),k(this,es,this.contents.continuation||null,"f")}async getContinuation(){if(!p(this,es,"f"))throw new _("No continuation available");let e=await p(this,Ym,"f").execute("/browse",{client:"YTMUSIC",continuation:p(this,es,"f")});return new wo(e,p(this,Ym,"f"))}get has_continuation(){return!!p(this,es,"f")}get page(){return p(this,Qr,"f")}};s(wo,"LibraryContinuation");Qr=new WeakMap,Ym=new WeakMap,es=new WeakMap;var wv,pt,To,vo,is,Fm,GS,ns=class{constructor(e,i){var n,o,r,l,f,d;if(wv.add(this),pt.set(this,void 0),To.set(this,void 0),vo.set(this,void 0),is.set(this,void 0),Fm.set(this,void 0),k(this,To,i,"f"),k(this,pt,u.parseResponse(e.data),"f"),k(this,is,null,"f"),k(this,Fm,null,"f"),p(this,pt,"f").continuation_contents){let x=(n=p(this,pt,"f").continuation_contents)==null?void 0:n.as(dn);if(!x.contents)throw new _("No contents found in the response");this.contents=x.contents.as(xt),k(this,vo,x.continuation,"f")}else{if(!p(this,pt,"f").contents_memo)throw new _("No contents found in the response");this.header=(o=p(this,pt,"f").contents_memo.getType(Tr,ey,wr))==null?void 0:o.first(),this.contents=((l=(r=p(this,pt,"f").contents_memo.getType(eo))==null?void 0:r.first())==null?void 0:l.contents)||j([]),this.background=p(this,pt,"f").background,k(this,vo,((d=(f=p(this,pt,"f").contents_memo.getType(eo))==null?void 0:f.first())==null?void 0:d.continuation)||null,"f")}}async getContinuation(){if(!p(this,vo,"f"))throw new _("Continuation not found.");let e=await p(this,To,"f").execute("/browse",{client:"YTMUSIC",continuation:p(this,vo,"f")});return new ns(e,p(this,To,"f"))}async getRelated(){var n,o,r,l;let e=(n=p(this,pt,"f").contents_memo)==null?void 0:n.getType(G).find(f=>f.continuation);if(!e)throw new _('Could not find "Related" section.');let i=e.continuation;for(;i;){let d=(o=(await p(this,To,"f").execute("/browse",{client:"YTMUSIC",continuation:i,parse:!0})).continuation_contents)==null?void 0:o.as(et),x=(r=d==null?void 0:d.contents)==null?void 0:r.as(Ae,de),b=(l=x==null?void 0:x.find(g=>g.is(Ae)))==null?void 0:l.as(Ae);if(b)return b;i=d==null?void 0:d.continuation}throw new _("Could not fetch related playlists.")}async getSuggestions(e=!0){let o=await(e||!p(this,is,"f")?p(this,wv,"m",GS).call(this):Promise.resolve(null));return o&&(k(this,is,o.items,"f"),k(this,Fm,o.continuation,"f")),(o==null?void 0:o.items)||p(this,is,"f")||j([])}get page(){return p(this,pt,"f")}get items(){return this.contents||j([])}get has_continuation(){return!!p(this,vo,"f")}};s(ns,"Playlist");pt=new WeakMap,To=new WeakMap,vo=new WeakMap,is=new WeakMap,Fm=new WeakMap,wv=new WeakSet,GS=s(async function(){var n,o,r,l;let e=(n=p(this,pt,"f").contents_memo)==null?void 0:n.getType(G).find(f=>f.continuation),i=p(this,Fm,"f")||(e==null?void 0:e.continuation);if(i){let d=(o=(await p(this,To,"f").execute("/browse",{client:"YTMUSIC",continuation:i,parse:!0})).continuation_contents)==null?void 0:o.as(et),x=(r=d==null?void 0:d.contents)==null?void 0:r.as(Ae,de),b=(l=x==null?void 0:x.find(g=>g.is(de)))==null?void 0:l.as(de);return{items:(b==null?void 0:b.contents)||j([]),continuation:(b==null?void 0:b.continuation)||null}}return{items:j([]),continuation:null}},"_Playlist_fetchSuggestions");var os=ns;var En,Wm,Og=class{constructor(e,i){var r,l,f,d,x,b,g;En.set(this,void 0),Wm.set(this,void 0),k(this,En,u.parseResponse(e.data),"f"),k(this,Wm,i,"f");let n=(r=p(this,En,"f").header)==null?void 0:r.item();this.header=n!=null&&n.is(Yf)?(d=(f=(l=p(this,En,"f").header)==null?void 0:l.item().as(Yf).element)==null?void 0:f.model)==null?void 0:d.as(Gl):(x=p(this,En,"f").header)==null?void 0:x.item().as(an);let o=(b=p(this,En,"f").contents)==null?void 0:b.item().as(Zt).tabs.firstOfType(pe);if(!o)throw new _("Target tab not found");this.sections=(g=o.content)==null?void 0:g.as(G).contents.as(fe,Ae,Le)}async getPlaylist(){if(!this.header)throw new _("Header not found");if(!this.header.is(Gl))throw new _("Recap playlist not available, check back later.");let i=await this.header.panels[0].text_on_tap_endpoint.call(p(this,Wm,"f"),{client:"YTMUSIC"});return new os(i,p(this,Wm,"f"))}get page(){return p(this,En,"f")}};s(Og,"Recap");En=new WeakMap,Wm=new WeakMap;var Bg=Og;var li,Ei,rs,jm,ss,ko=class{constructor(e,i,n){var l,f,d;if(li.set(this,void 0),Ei.set(this,void 0),rs.set(this,void 0),k(this,Ei,i,"f"),k(this,li,u.parseResponse(e.data),"f"),!p(this,li,"f").contents||!p(this,li,"f").contents_memo)throw new _("Response did not contain any contents.");let o=p(this,li,"f").contents.item().as(Oy).tabs.get({selected:!0});if(!o)throw new _("Could not find target tab.");let r=(l=o.content)==null?void 0:l.as(G);if(!r)throw new _("Target tab did not have any content.");this.header=(f=r.header)==null?void 0:f.as(ct),this.contents=r.contents.as(de,zx,fe),n&&k(this,rs,(d=this.contents.firstOfType(de))==null?void 0:d.continuation,"f")}async getMore(e){if(!e||!e.endpoint)throw new _("Cannot retrieve more items for this shelf because it does not have an endpoint.");let i=await e.endpoint.call(p(this,Ei,"f"),{client:"YTMUSIC"});if(!i)throw new _("Endpoint did not return any data");return new ko(i,p(this,Ei,"f"),!0)}async getContinuation(){if(!p(this,rs,"f"))throw new _("Continuation not found.");let e=await p(this,Ei,"f").execute("/search",{continuation:p(this,rs,"f"),client:"YTMUSIC"});return new as(p(this,Ei,"f"),e)}async applyFilter(e){var o,r;let i;if(typeof e=="string"){if(i=(r=(o=this.header)==null?void 0:o.chips)==null?void 0:r.as(le).get({text:e}),!i)throw new _("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(le)&&(i=e);if(!i)throw new _("Invalid filter",{available_filters:this.filters});if(i!=null&&i.is_selected)return this;if(!i.endpoint)throw new _("Selected filter does not have an endpoint.");let n=await i.endpoint.call(p(this,Ei,"f"),{client:"YTMUSIC"});return new ko(n,p(this,Ei,"f"),!0)}get filters(){var e,i;return((i=(e=this.header)==null?void 0:e.chips)==null?void 0:i.as(le).map(n=>n.text))||[]}get has_continuation(){return!!p(this,rs,"f")}get did_you_mean(){var e;return(e=p(this,li,"f").contents_memo)==null?void 0:e.getType(ex).first()}get showing_results_for(){var e;return(e=p(this,li,"f").contents_memo)==null?void 0:e.getType(My).first()}get message(){var e;return(e=p(this,li,"f").contents_memo)==null?void 0:e.getType(Le).first()}get songs(){var e;return(e=this.contents)==null?void 0:e.filterType(de).find(i=>i.title.toString()==="Songs")}get videos(){var e;return(e=this.contents)==null?void 0:e.filterType(de).find(i=>i.title.toString()==="Videos")}get albums(){var e;return(e=this.contents)==null?void 0:e.filterType(de).find(i=>i.title.toString()==="Albums")}get artists(){var e;return(e=this.contents)==null?void 0:e.filterType(de).find(i=>i.title.toString()==="Artists")}get playlists(){var e;return(e=this.contents)==null?void 0:e.filterType(de).find(i=>i.title.toString()==="Community playlists")}get results(){var e,i;return(i=(e=this.contents)==null?void 0:e.firstOfType(de))==null?void 0:i.contents}get sections(){var e;return(e=this.contents)==null?void 0:e.filterType(de)}get page(){return p(this,li,"f")}};s(ko,"Search");li=new WeakMap,Ei=new WeakMap,rs=new WeakMap;var Ug=ko,as=class{constructor(e,i){var n,o;jm.set(this,void 0),ss.set(this,void 0),k(this,jm,e,"f"),k(this,ss,u.parseResponse(i.data),"f"),this.header=(n=p(this,ss,"f").header)==null?void 0:n.item().as(an),this.contents=(o=p(this,ss,"f").continuation_contents)==null?void 0:o.as(ti)}async getContinuation(){var i;if(!((i=this.contents)!=null&&i.continuation))throw new _("Continuation not found.");let e=await p(this,jm,"f").execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new as(p(this,jm,"f"),e)}get has_continuation(){var e;return!!((e=this.contents)!=null&&e.continuation)}get page(){return p(this,ss,"f")}};s(as,"SearchContinuation");jm=new WeakMap,ss=new WeakMap;var Vg=class extends ri{constructor(e,i,n){var r,l,f;super(e,i,n);let o=this.page[1];if(o){let d=(l=(r=o.contents_memo)==null?void 0:r.getType(Wy))==null?void 0:l[0];this.tabs=d==null?void 0:d.tabs.array().as(pe),this.current_video_endpoint=o.current_video_endpoint,this.player_overlays=(f=o.player_overlays)==null?void 0:f.item().as(cn)}}async getTab(e){var o,r;if(!this.tabs)throw new _("Could not find any tab");let i=this.tabs.get({title:e})||this.tabs.matchCondition(l=>{var f,d;return((d=(f=l.endpoint.payload.browseEndpointContextSupportedConfigs)==null?void 0:f.browseEndpointContextMusicConfig)==null?void 0:d.pageType)===e})||((o=this.tabs)==null?void 0:o[0]);if(!i)throw new _(`Tab "${e}" not found`,{available_tabs:this.available_tabs});if(i.content)return i.content;let n=await i.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if(((r=n.contents)==null?void 0:r.item().type)==="Message")return n.contents.item().as(Le);if(!n.contents)throw new _("Page contents was empty",n);return n.contents.item().as(G).contents}async getUpNext(e=!0){var o,r;let i=await this.getTab("Up next");if(!i||!i.content)throw new _("Music queue was empty, the video id is probably invalid.",i);let n=i.content.as(Jt);if(!n.playlist_id&&e){let l=n.contents.firstOfType(Hi);if(!l)throw new _("Automix item not found");let f=await((o=l.playlist_video)==null?void 0:o.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0}));if(!f||!f.contents_memo)throw new _("Could not fetch automix");return(r=f.contents_memo.getType(Jt))==null?void 0:r[0]}return n}async getRelated(){return await this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")}async getLyrics(){return(await this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(sn)}async addToWatchHistory(){return super.addToWatchHistory($.CLIENTS.YTMUSIC.NAME,$.CLIENTS.YTMUSIC.VERSION,"https://music.")}get available_tabs(){return this.tabs?this.tabs.map(e=>e.title):[]}};s(Vg,"TrackInfo");var Hm=Vg;var Tv={};D(Tv,{Channel:()=>pi,HomeFeed:()=>fi,Search:()=>Cn,VideoInfo:()=>Nn});var pi=class extends ae{constructor(e,i,n=!1){var o,r;super(e,i,n),this.header=(o=this.page.header)==null?void 0:o.item().as(Zi),this.contents=this.memo.getType(fe).first()||((r=this.page.continuation_contents)==null?void 0:r.as(ln))}async getContinuation(){var i;let e=await this.actions.execute("/browse",{continuation:(i=this.contents)==null?void 0:i.continuation,client:"YTKIDS"});return new pi(this.actions,e)}get has_continuation(){var e;return!!((e=this.contents)!=null&&e.continuation)}};s(pi,"Channel");var fi=class extends ae{constructor(e,i,n=!1){var o,r;super(e,i,n),this.header=(o=this.page.header)==null?void 0:o.item().as(Hy),this.contents=(r=this.page.contents)==null?void 0:r.item().as(Gy)}async selectCategoryTab(e){var o;let i;if(typeof e=="string"?i=(o=this.header)==null?void 0:o.category_tabs.find(r=>r.title.toString()===e):e!=null&&e.is(Dr)&&(i=e),!i)throw new _(`Tab "${e}" not found`);let n=await i.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return n.header=this.page.header,n.header_memo=this.page.header_memo,new fi(this.actions,n,!0)}get categories(){var e;return((e=this.header)==null?void 0:e.category_tabs.map(i=>i.title.toString()))||[]}};s(fi,"HomeFeed");var Cn=class extends ae{constructor(e,i){super(e,i),this.estimated_results=this.page.estimated_results;let n=this.memo.getType(fe).first();if(!n)throw new _("No item section found in search response.");this.contents=n.contents}};s(Cn,"Search");var Nn=class extends ri{constructor(e,i,n){var d,x,b,g,w;super(e,i,n);let o=this.page[1],r=(d=o==null?void 0:o.contents)==null?void 0:d.item().as(Rr),l=r==null?void 0:r.results,f=r==null?void 0:r.secondary_results;l&&f&&(this.slim_video_metadata=(b=(x=l.firstOfType(fe))==null?void 0:x.contents)==null?void 0:b.firstOfType(Dy),this.watch_next_feed=((g=f.firstOfType(fe))==null?void 0:g.contents)||f,this.current_video_endpoint=o==null?void 0:o.current_video_endpoint,this.player_overlays=(w=o==null?void 0:o.player_overlays)==null?void 0:w.item().as(cn))}};s(Nn,"VideoInfo");var Iv={};D(Iv,{ShortFormVideoInfo:()=>tw});var kv={};D(kv,{Account:()=>Eo,Browse:()=>Fg,BrowseEndpoint:()=>O,Channel:()=>Ci,Comment:()=>Hg,GetNotificationMenuEndpoint:()=>Io,GuideEndpoint:()=>cs,Kids:()=>Qg,Like:()=>Gg,Music:()=>Kg,NextEndpoint:()=>be,Notification:()=>us,PlayerEndpoint:()=>qe,Playlist:()=>qg,Reel:()=>wt,ResolveURLEndpoint:()=>So,SearchEndpoint:()=>ft,Subscription:()=>zg,Upload:()=>Zg});var O={};D(O,{PATH:()=>Y2,build:()=>F2});var Y2="/browse";function F2(t){return{browseId:t.browse_id,params:t.params,continuation:t.continuation,client:t.client}}s(F2,"build");var Io={};D(Io,{PATH:()=>W2,build:()=>j2});var W2="/notification/get_notification_menu";function j2(t){return{notificationsMenuRequestType:t.notifications_menu_request_type}}s(j2,"build");var cs={};D(cs,{PATH:()=>H2});var H2="/guide";var be={};D(be,{PATH:()=>G2,build:()=>K2});var G2="/next";function K2(t){return{videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation}}s(K2,"build");var qe={};D(qe,{PATH:()=>$2,build:()=>q2});var $2="/player";function q2(t){let e={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1",signatureTimestamp:t.sts}},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id};return t.client&&(e.client=t.client),t.playlist_id&&(e.playlistId=t.playlist_id),t.params&&(e.params=t.params),t.po_token&&(e.serviceIntegrityDimensions={poToken:t.po_token}),e}s(q2,"build");var So={};D(So,{PATH:()=>z2,build:()=>J2});var z2="/navigation/resolve_url";function J2(t){return{url:t.url}}s(J2,"build");var ft={};D(ft,{PATH:()=>X2,build:()=>Z2});var X2="/search";function Z2(t){return{query:t.query,params:t.params,continuation:t.continuation,client:t.client}}s(Z2,"build");var Eo={};D(Eo,{AccountListEndpoint:()=>Yg});var Yg={};D(Yg,{PATH:()=>Q2,build:()=>eN});var Q2="/account/accounts_list";function eN(){return{client:"TV",callCircumstance:2}}s(eN,"build");var Fg={};D(Fg,{EditPlaylistEndpoint:()=>ze});var ze={};D(ze,{PATH:()=>tN,build:()=>iN});var tN="/browse/edit_playlist";function iN(t){return{playlistId:t.playlist_id,actions:t.actions.map(e=>({action:e.action,addedVideoId:e.added_video_id,setVideoId:e.set_video_id,movedSetVideoIdPredecessor:e.moved_set_video_id_predecessor,playlistDescription:e.playlist_description,playlistName:e.playlist_name}))}}s(iN,"build");var Ci={};D(Ci,{EditDescriptionEndpoint:()=>jg,EditNameEndpoint:()=>Wg});var Wg={};D(Wg,{PATH:()=>nN,build:()=>oN});var nN="/channel/edit_name";function oN(t){return{givenName:t.given_name,client:"ANDROID"}}s(oN,"build");var jg={};D(jg,{PATH:()=>rN,build:()=>sN});var rN="/channel/edit_description";function sN(t){return{givenDescription:t.given_description,client:"ANDROID"}}s(sN,"build");var Hg={};D(Hg,{CreateCommentEndpoint:()=>No,PerformCommentActionEndpoint:()=>Co});var Co={};D(Co,{PATH:()=>aN,build:()=>cN});var aN="/comment/perform_comment_action";function cN(t){return{actions:t.actions,client:t.client}}s(cN,"build");var No={};D(No,{PATH:()=>uN,build:()=>lN});var uN="/comment/create_comment";function lN(t){return{commentText:t.comment_text,createCommentParams:t.create_comment_params,client:t.client}}s(lN,"build");var Gg={};D(Gg,{DislikeEndpoint:()=>Ro,LikeEndpoint:()=>Po,RemoveLikeEndpoint:()=>Ao});var Po={};D(Po,{PATH:()=>pN,build:()=>fN});var pN="/like/like";function fN(t){return{target:{videoId:t.target.video_id},client:t.client}}s(fN,"build");var Ro={};D(Ro,{PATH:()=>dN,build:()=>hN});var dN="/like/dislike";function hN(t){return{target:{videoId:t.target.video_id},client:t.client}}s(hN,"build");var Ao={};D(Ao,{PATH:()=>mN,build:()=>_N});var mN="/like/removelike";function _N(t){return{target:{videoId:t.target.video_id},client:t.client}}s(_N,"build");var Kg={};D(Kg,{GetSearchSuggestionsEndpoint:()=>Mo});var Mo={};D(Mo,{PATH:()=>bN,build:()=>xN});var bN="/music/get_search_suggestions";function xN(t){return{input:t.input,client:"YTMUSIC"}}s(xN,"build");var us={};D(us,{GetUnseenCountEndpoint:()=>$g,ModifyChannelPreferenceEndpoint:()=>Do});var $g={};D($g,{PATH:()=>yN});var yN="/notification/get_unseen_count";var Do={};D(Do,{PATH:()=>gN,build:()=>wN});var gN="/notification/modify_channel_preference";function wN(t){return{params:t.params,client:t.client}}s(wN,"build");var qg={};D(qg,{CreateEndpoint:()=>Lo,DeleteEndpoint:()=>Oo});var Lo={};D(Lo,{PATH:()=>vN,build:()=>TN});var vN="/playlist/create";function TN(t){return{title:t.title,ids:t.ids}}s(TN,"build");var Oo={};D(Oo,{PATH:()=>kN,build:()=>IN});var kN="/playlist/delete";function IN(t){return{playlistId:t.playlist_id}}s(IN,"build");var zg={};D(zg,{SubscribeEndpoint:()=>Bo,UnsubscribeEndpoint:()=>Uo});var Bo={};D(Bo,{PATH:()=>SN,build:()=>EN});var SN="/subscription/subscribe";function EN(t){return{channelIds:t.channel_ids,client:t.client,params:t.params}}s(EN,"build");var Uo={};D(Uo,{PATH:()=>CN,build:()=>NN});var CN="/subscription/unsubscribe";function NN(t){return{channelIds:t.channel_ids,client:t.client,params:t.params}}s(NN,"build");var wt={};D(wt,{ReelItemWatchEndpoint:()=>Jg,ReelWatchSequenceEndpoint:()=>Xg});var Jg={};D(Jg,{PATH:()=>PN,build:()=>RN});var PN="/reel/reel_item_watch";function RN(t){var e,i;return{disablePlayerResponse:!1,playerRequest:{videoId:t.video_id,params:(e=t.params)!=null?e:"CAUwAg%3D%3D"},params:(i=t.params)!=null?i:"CAUwAg%3D%3D",client:t.client}}s(RN,"build");var Xg={};D(Xg,{PATH:()=>AN,build:()=>MN});var AN="/reel/reel_watch_sequence";function MN(t){return{sequenceParams:t.sequence_params}}s(MN,"build");var Zg={};D(Zg,{CreateVideoEndpoint:()=>Vo});var Vo={};D(Vo,{PATH:()=>DN,build:()=>LN});var DN="/upload/createvideo";function LN(t){return{resourceId:{scottyResourceId:{id:t.resource_id.scotty_resource_id.id}},frontendUploadId:t.frontend_upload_id,initialMetadata:{title:{newTitle:t.initial_metadata.title.new_title},description:{newDescription:t.initial_metadata.description.new_description,shouldSegment:t.initial_metadata.description.should_segment},privacy:{newPrivacy:t.initial_metadata.privacy.new_privacy},draftState:{isDraft:!!t.initial_metadata.draft_state.is_draft}},client:t.client}}s(LN,"build");var Qg={};D(Qg,{BlocklistPickerEndpoint:()=>Yo});var Yo={};D(Yo,{PATH:()=>ON,build:()=>BN});var ON="/kids/get_kids_blocklist_picker";function BN(t){return{blockedForKidsContent:{external_channel_id:t.channel_id}}}s(BN,"build");var Fo,ew=class extends ri{constructor(e,i,n,o){var r;if(super(e,i,n),Fo.set(this,void 0),o){let l=u.parseResponse(o.data);l.entries&&(this.watch_next_feed=l.entries),l.continuation_endpoint&&k(this,Fo,(r=l.continuation_endpoint)==null?void 0:r.as(Ti),"f")}}async getWatchNextContinuation(){var i;if(!p(this,Fo,"f"))throw new _("Continuation not found");let e=await this.actions.execute(wt.ReelWatchSequenceEndpoint.PATH,{...wt.ReelWatchSequenceEndpoint.build({sequence_params:p(this,Fo,"f").token}),parse:!0});return e.entries&&(this.watch_next_feed=e.entries),k(this,Fo,(i=e.continuation_endpoint)==null?void 0:i.as(Ti),"f"),this}get wn_has_continuation(){return!!p(this,Fo,"f")}};s(ew,"ShortFormVideoInfo");Fo=new WeakMap;var tw=ew;var KS={};var A=class{constructor(e,i,n,o){var l,f,d,x,b,g,w,T,S,E,P,C,Y,F,ie,me,Ce,K,ue,q,H,oe,ce,Xe,Ct,Nt,Pt;let r=new c(e);this.id=o||((x=(d=(f=(l=r==null?void 0:r.runs)==null?void 0:l[0])==null?void 0:f.endpoint)==null?void 0:d.payload)==null?void 0:x.browseId)||((g=(b=r==null?void 0:r.endpoint)==null?void 0:b.payload)==null?void 0:g.browseId)||"N/A",this.name=(r==null?void 0:r.text)||"N/A",this.thumbnails=n?y.fromResponse(n):[],this.endpoint=((T=(w=r==null?void 0:r.runs)==null?void 0:w[0])==null?void 0:T.endpoint)||(r==null?void 0:r.endpoint),i?Array.isArray(i)?(this.badges=u.parseArray(i),this.is_moderator=(S=this.badges)==null?void 0:S.some(Ze=>Ze.icon_type=="MODERATOR"),this.is_verified=(E=this.badges)==null?void 0:E.some(Ze=>Ze.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(P=this.badges)==null?void 0:P.some(Ze=>Ze.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST")):(this.badges=j([]),this.is_verified=!!i.isVerified,this.is_verified_artist=!!i.isArtist):this.badges=j([]),this.url=((ie=(F=(Y=(C=r==null?void 0:r.runs)==null?void 0:C[0])==null?void 0:Y.endpoint)==null?void 0:F.metadata)==null?void 0:ie.api_url)==="/browse"&&`${Be.YT_BASE}${((ue=(K=(Ce=(me=r==null?void 0:r.runs)==null?void 0:me[0])==null?void 0:Ce.endpoint)==null?void 0:K.payload)==null?void 0:ue.canonicalBaseUrl)||`/u/${(ce=(oe=(H=(q=r==null?void 0:r.runs)==null?void 0:q[0])==null?void 0:H.endpoint)==null?void 0:oe.payload)==null?void 0:ce.browseId}`}`||`${Be.YT_BASE}${((Ct=(Xe=r==null?void 0:r.endpoint)==null?void 0:Xe.payload)==null?void 0:Ct.canonicalBaseUrl)||`/u/${(Pt=(Nt=r==null?void 0:r.endpoint)==null?void 0:Nt.payload)==null?void 0:Pt.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};s(A,"Author");var $S={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var $m={};D($m,{ArrayExpression:()=>ls,ArrowFunctionExpression:()=>ps,AssignmentExpression:()=>Ni,BinaryExpression:()=>Pi,BlockStatement:()=>fs,BreakStatement:()=>ds,CallExpression:()=>hs,ConditionalExpression:()=>_s,ContinueStatement:()=>bs,ExpressionStatement:()=>xs,ForOfStatement:()=>ys,ForStatement:()=>gs,FunctionDeclaration:()=>ws,FunctionExpression:()=>vs,Identifier:()=>Ts,IfStatement:()=>ks,Literal:()=>Is,LogicalExpression:()=>Ri,MemberExpression:()=>Ss,NewExpression:()=>Es,ObjectExpression:()=>Cs,Property:()=>Ns,ReturnStatement:()=>Ps,SequenceExpression:()=>Rs,SwitchCase:()=>As,SwitchStatement:()=>Ms,TemplateLiteral:()=>Ds,ThisExpression:()=>Ls,ThrowStatement:()=>Os,TryStatement:()=>Bs,UnaryExpression:()=>Wt,UpdateExpression:()=>Us,VariableDeclaration:()=>Vs,WhileStatement:()=>Ys});var R=class{constructor(e,i){this.node=e,this.visitor=i}run(){}};s(R,"BaseJSNode");var ls=class extends R{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};s(ls,"ArrayExpression");var Ev={};D(Ev,{JinterError:()=>di,namedFunction:()=>Wo});var Wo=s((t,e)=>Object.defineProperty(e,"name",{value:t}),"namedFunction"),di=class extends Error{constructor(e,i){super(e),i&&(this.info=i)}};s(di,"JinterError");var ps=class extends R{run(){let{params:e,body:i}=this.node;return Wo("anonymous function",o=>{let r=0;for(let l of e)this.visitor.visitNode(l),l.type==="Identifier"?this.visitor.scope.set(l.name,o[r]):console.warn("Unhandled param type",l.type),r++;return this.visitor.visitNode(i)})}};s(ps,"ArrowFunctionExpression");var Ni=class extends R{handleMemberExpression(e,i,n){let o=this.visitor.visitNode(e.object),r=this.visitor.visitNode(e.property),l=o[r],f=n(l,i);return o[r]=f}handleIdentifier(e,i,n){let o=this.visitor.visitNode(e),r=n(o,i);return this.visitor.scope.set(e.name,r),this.visitor.scope.get(e.name)}run(){let{operator:e,left:i,right:n}=this.node,o=this.visitor.visitNode(n),r=Ni.operatorMap[e];if(!r){console.warn("Unhandled operator:",e);return}if(i.type==="MemberExpression")return this.handleMemberExpression(i,o,r);if(i.type==="Identifier")return this.handleIdentifier(i,o,r);console.warn("Unhandled left node type:",i.type)}};s(Ni,"AssignmentExpression");Ni.operatorMap={"=":(t,e)=>e,"+=":(t,e)=>t+e,"-=":(t,e)=>t-e,"*=":(t,e)=>t*e,"/=":(t,e)=>t/e,"%=":(t,e)=>t%e,"**=":(t,e)=>t**e,"<<=":(t,e)=>t<<e,">>=":(t,e)=>t>>e,">>>=":(t,e)=>t>>>e,"&=":(t,e)=>t&e,"^=":(t,e)=>t^e,"|=":(t,e)=>t|e};var Pi=class extends R{run(){let{operator:e,left:i,right:n}=this.node,o=this.visitor.visitNode(i),r=this.visitor.visitNode(n),l=Pi.operatorMap[e];if(!l){console.warn("Unhandled binary operator:",e);return}return l(o,r)}};s(Pi,"BinaryExpression");Pi.operatorMap={"!=":(t,e)=>t!=e,"!==":(t,e)=>t!==e,"==":(t,e)=>t==e,"===":(t,e)=>t===e,"<":(t,e)=>t<e,"<=":(t,e)=>t<=e,">":(t,e)=>t>e,">=":(t,e)=>t>=e,"+":(t,e)=>t+e,"-":(t,e)=>t-e,"*":(t,e)=>t*e,"/":(t,e)=>t/e,"%":(t,e)=>t%e,"**":(t,e)=>t**e,"&":(t,e)=>t&e,"|":(t,e)=>t|e,"^":(t,e)=>t^e,"<<":(t,e)=>t<<e,">>":(t,e)=>t>>e,">>>":(t,e)=>t>>>e,in:(t,e)=>t in e,instanceof:(t,e)=>t instanceof e};var fs=class extends R{run(){for(let e of this.node.body){let i=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||i==="break"||i==="continue"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&!!i)return i}}};s(fs,"BlockStatement");var ds=class extends R{run(){return"break"}};s(ds,"BreakStatement");var Gm=function(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)},jo,iw,qS,hs=class extends R{constructor(){super(...arguments),jo.add(this)}run(){let e,i;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),e&&this.visitor.listeners[e]){let r=this.visitor.listeners[e](this.node,this.visitor);if(r!=="__continue_exec")return r}if(i&&i!=="toString"&&this.visitor.listeners[i]){let r=this.visitor.listeners[i](this.node,this.visitor);if(r!=="__continue_exec")return r}if(this.node.callee.type==="MemberExpression"){if(ms.has(this.node,this.visitor))return ms.execute(this.node,this.visitor);let r=this.visitor.visitNode(this.node.callee.object),l=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),f=this.node.arguments.map(d=>this.visitor.visitNode(d));return r||Gm(this,jo,"m",iw).call(this),typeof r[l]!="function"&&Gm(this,jo,"m",iw).call(this),r[l].toString().includes("[native code]")?r[l](...f):r[l](f)}let n=this.visitor.visitNode(this.node.callee),o=this.node.arguments.map(r=>this.visitor.visitNode(r));return typeof n!="function"&&Gm(this,jo,"m",iw).call(this),n(o)}};s(hs,"CallExpression");jo=new WeakSet,iw=s(function(){if(this.node.callee.type==="MemberExpression"||this.node.callee.type==="Identifier"){let e=Gm(this,jo,"m",qS).call(this,this.node.callee);throw new di(`${e} is not a function`)}else if(this.node.callee.type==="SequenceExpression"){let e=[],i=[];throw e.push("("),this.node.callee.expressions.forEach(n=>{n.type==="Literal"?i.push(n.raw||""):n.type==="Identifier"?i.push(n.name):n.type==="MemberExpression"&&(n.computed?i.push(`${this.visitor.getName(n.object)}[${this.visitor.getName(n.property)||"..."}]`):i.push(`${this.visitor.getName(n.object)}.${this.visitor.getName(n.property)}`))}),e.push(i.join(", ")),e.push(")"),new di(`${e.join("")} is not a function`)}},"_CallExpression_throwError"),qS=s(function t(e){if(e.type==="Identifier")return e.name;if(e.type==="MemberExpression"){let i=Gm(this,jo,"m",t).call(this,e.object),n=e.computed?`[${this.visitor.getName(e.property)||"..."}]`:`.${this.visitor.getName(e.property)}`;return`${i}${n}`}return"<unknown>"},"_CallExpression_getCalleeString");var ms=class{static has(e,i){var n;return e.callee.type==="MemberExpression"?!!((n=this.builtins)!=null&&n[i.getName(e.callee.property)||""]):!1}static execute(e,i){if(e.callee.type==="MemberExpression")return this.builtins[i.getName(e.callee.property)||""](e,i)}};s(ms,"Builtins");ms.builtins={forEach:(t,e)=>{let i=t.arguments.map(n=>e.visitNode(n));if(t.callee.type==="MemberExpression"){let n=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let o=0;for(let r of n)i[0]([r,o++,n])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};var _s=class extends R{run(){let{test:e,consequent:i,alternate:n}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(i):this.visitor.visitNode(n)}};s(_s,"ConditionalExpression");var bs=class extends R{run(){return"continue"}};s(bs,"ContinueStatement");var xs=class extends R{run(){return this.visitor.visitNode(this.node.expression)}};s(xs,"ExpressionStatement");var ys=class extends R{run(){this.visitor.visitNode(this.node.left);let e=this.visitor.visitNode(this.node.right);for(let i of e){if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="Identifier")this.visitor.scope.set(this.node.left.declarations[0].id.name,i);else if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="ObjectPattern")for(let o of this.node.left.declarations[0].id.properties)o.type==="Property"&&o.value.type==="Identifier"&&o.key.type==="Identifier"&&this.visitor.scope.set(o.value.name,i[o.key.name]);let n=this.visitor.visitNode(this.node.body);if(n==="break")break;if(n!=="continue"&&n&&this.node.body.type!=="ExpressionStatement")return n}}};s(ys,"ForOfStatement");var gs=class extends R{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=s(()=>this.node.test?this.visitor.visitNode(this.node.test):!0,"test");for(;e();){let n=this.visitor.visitNode(this.node.body);if(n!=="continue"){if(n==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),n&&this.node.body.type!=="ExpressionStatement")return n}}}};s(gs,"ForStatement");var ws=class extends R{run(){let{params:e,body:i}=this.node,n=this.visitor.visitNode(this.node.id),o=Wo(n,r=>{let l=0;for(let f of e)this.visitor.visitNode(f),f.type==="Identifier"?this.visitor.scope.set(f.name,r[l]):console.warn("Unhandled param type",f.type),l++;return this.visitor.visitNode(i)});this.visitor.scope.set(n,o)}};s(ws,"FunctionDeclaration");var vs=class extends R{run(){let{params:e,body:i}=this.node;return Wo("anonymous function",o=>{let r=0;for(let l of e)this.visitor.visitNode(l),l.type==="Identifier"?this.visitor.scope.set(l.name,o[r]):console.warn("Unhandled param type",l.type),r++;return this.visitor.visitNode(i)})}};s(vs,"FunctionExpression");var Ts=class extends R{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="__continue_exec")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};s(Ts,"Identifier");var ks=class extends R{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}};s(ks,"IfStatement");var Is=class extends R{run(){return this.node.value}};s(Is,"Literal");var Ri=class extends R{run(){let{operator:e,left:i,right:n}=this.node,o=Ri.operatorMap[e];if(!o){console.warn("Unhandled logical operator:",e);return}return o(this.visitor,i,n)}};s(Ri,"LogicalExpression");Ri.operatorMap={"&&":(t,e,i)=>{let n=t.visitNode(e);return n===!0?t.visitNode(i):n},"||":(t,e,i)=>t.visitNode(e)||t.visitNode(i),"??":(t,e,i)=>{let n=s((l,f)=>f&&l==="undefined"?void 0:l,"normalizeUndefined"),o=n(t.visitNode(e),e.type==="Identifier"),r=n(t.visitNode(i),i.type==="Identifier");return o!=null?o:r}};var Ss=class extends R{run(){let{object:e,property:i,computed:n}=this.node,o=this.visitor.visitNode(e),r=n?this.visitor.visitNode(i):this.visitor.getName(i);if(r!==void 0||r!==null){if(this.visitor.listeners[r]){let l=this.visitor.listeners[r](this.node,this.visitor);if(l!=="__continue_exec")return l}return o==null?void 0:o[r]}}};s(Ss,"MemberExpression");var Es=class extends R{run(){let e=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(n=>this.visitor.visitNode(n));return i.length?new e(i):new e}};s(Es,"NewExpression");var Cs=class extends R{run(){let e={};for(let i of this.node.properties)if(i.type==="Property")e={...e,...this.visitor.visitNode(i)};else throw new Error(`Unhandled property type: ${i.type}`);return e}};s(Cs,"ObjectExpression");var Cv=function(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)},Km,zS,JS,XS,Ns=class extends R{constructor(){super(...arguments),Km.add(this)}run(){switch(this.node.kind){case"init":return Cv(this,Km,"m",zS).call(this);case"get":return Cv(this,Km,"m",JS).call(this);case"set":return Cv(this,Km,"m",XS).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};s(Ns,"Property");Km=new WeakSet,zS=s(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(e)return{[e]:i}},"_Property_init"),JS=s(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),XS=s(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set");var Ps=class extends R{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};s(Ps,"ReturnStatement");var Rs=class extends R{run(){let e;for(let i of this.node.expressions)e=this.visitor.visitNode(i);return e}};s(Rs,"SequenceExpression");var As=class extends R{run(){for(let e of this.node.consequent){let i=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return i}}};s(As,"SwitchCase");var Ms=class extends R{run(){let e=this.visitor.visitNode(this.node.discriminant),i=!1,n=-1,o=0;for(;;){let r=this.node.cases[o];if(i){let l=this.visitor.visitNode(r);if(l==="break")break;if(l==="continue")return l;if(++o,o>=this.node.cases.length){o=0;break}else continue}if(i=r&&e===this.visitor.visitNode(r.test),i===void 0&&o>this.node.cases.length)break;if(r&&!i&&!r.test){n=o,o+=1;continue}if(!r&&!i&&n!==-1){i=!0,o=n;continue}i||++o}}};s(Ms,"SwitchStatement");var Ds=class extends R{run(){let e="";for(let i=0;i<this.node.quasis.length;++i){let n=this.node.quasis[i];if(n.type==="TemplateElement"){if(n.value.cooked===null)throw new Error(`Invalid template literal: ${n.value.raw}`);if(n.value.cooked!==void 0&&(e+=n.value.cooked),!n.tail){let o=this.node.expressions[i];if(o!==void 0)e+=this.visitor.visitNode(o);else throw new Error(`Expected expression after: ${n.value}`)}}else throw new Error(`Unhandled quasi type: ${n.type}`)}return e}};s(Ds,"TemplateLiteral");var Ls=class extends R{run(){return this.visitor.scope.get("_this")}};s(Ls,"ThisExpression");var Os=class extends R{run(){throw this.visitor.visitNode(this.node.argument)}};s(Os,"ThrowStatement");var Bs=class extends R{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};s(Bs,"TryStatement");var Wt=class extends R{static isValidOperator(e){return e in Wt.operatorMap}run(){let{operator:e,argument:i}=this.node;if(!Wt.isValidOperator(e)){console.warn("Unhandled unary operator:",e);return}return Wt.operatorMap[e](this.visitor,i)}};s(Wt,"UnaryExpression");Wt.operatorMap={"-":(t,e)=>-t.visitNode(e),"+":(t,e)=>+t.visitNode(e),"!":(t,e)=>!t.visitNode(e),"~":(t,e)=>~t.visitNode(e),void:(t,e)=>{t.visitNode(e)},typeof:(t,e)=>{let i=t.visitNode(e);return e.type==="Identifier"&&i==="undefined"?"undefined":typeof t.visitNode(e)},delete:(t,e)=>{if(e.type==="MemberExpression"){let i=t.visitNode(e.object),n=e.computed?t.visitNode(e.property):t.getName(e.property);return delete i[n]}return e.type==="Identifier"&&t.scope.has(e.name)?t.scope.delete(e.name):!0}};var Us=class extends R{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}};s(Us,"UpdateExpression");var Vs=class extends R{run(){this.node.declarations.forEach(e=>{let{id:i,init:n}=e,o=this.visitor.getName(i),r=n?this.visitor.visitNode(n):void 0;o&&this.visitor.scope.set(o,r),typeof r=="object"&&r!==null&&this.visitor.scope.set("_this",r)})}};s(Vs,"VariableDeclaration");var Ys=class extends R{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if(e==="break")break;if(e!=="continue"&&e)return e}}};s(Ys,"WhileStatement");var UN=function(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)},Nv,ZS,Fs=class{constructor(){Nv.add(this),this.scope=new Map,this.listeners={},this.ast=[]}setAST(e){this.ast=e}run(){let e;for(let i of this.ast)e=this.visitNode(i);return e}visitNode(e){if(!e)return null;let i=UN(this,Nv,"m",ZS).call(this,e.type);return i?new i(e,this).run():null}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,i){this.listeners[e]=i}};s(Fs,"Visitor");Nv=new WeakSet,ZS=s(function(e){let i=$m[e];return i||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i},"_Visitor_getNode");var VN=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],oE=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],YN="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",rE="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Pv={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Rv="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",FN={5:Rv,"5module":Rv+" export import",6:Rv+" const class extends export import super"},WN=/^in(stanceof)?$/,jN=new RegExp("["+rE+"]"),HN=new RegExp("["+rE+YN+"]");function Mv(t,e){for(var i=65536,n=0;n<e.length;n+=2){if(i+=e[n],i>t)return!1;if(i+=e[n+1],i>=t)return!0}return!1}s(Mv,"isInAstralSet");function Ai(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&jN.test(String.fromCharCode(t)):e===!1?!1:Mv(t,oE)}s(Ai,"isIdentifierStart");function Ws(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&HN.test(String.fromCharCode(t)):e===!1?!1:Mv(t,oE)||Mv(t,VN)}s(Ws,"isIdentifierChar");var te=s(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function vt(t,e){return new te(t,{beforeExpr:!0,binop:e})}s(vt,"binop");var Tt={beforeExpr:!0},nt={startsExpr:!0},Bv={};function Q(t,e){return e===void 0&&(e={}),e.keyword=t,Bv[t]=new te(t,e)}s(Q,"kw");var h={num:new te("num",nt),regexp:new te("regexp",nt),string:new te("string",nt),name:new te("name",nt),privateId:new te("privateId",nt),eof:new te("eof"),bracketL:new te("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new te("]"),braceL:new te("{",{beforeExpr:!0,startsExpr:!0}),braceR:new te("}"),parenL:new te("(",{beforeExpr:!0,startsExpr:!0}),parenR:new te(")"),comma:new te(",",Tt),semi:new te(";",Tt),colon:new te(":",Tt),dot:new te("."),question:new te("?",Tt),questionDot:new te("?."),arrow:new te("=>",Tt),template:new te("template"),invalidTemplate:new te("invalidTemplate"),ellipsis:new te("...",Tt),backQuote:new te("`",nt),dollarBraceL:new te("${",{beforeExpr:!0,startsExpr:!0}),eq:new te("=",{beforeExpr:!0,isAssign:!0}),assign:new te("_=",{beforeExpr:!0,isAssign:!0}),incDec:new te("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new te("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:vt("||",1),logicalAND:vt("&&",2),bitwiseOR:vt("|",3),bitwiseXOR:vt("^",4),bitwiseAND:vt("&",5),equality:vt("==/!=/===/!==",6),relational:vt("</>/<=/>=",7),bitShift:vt("<</>>/>>>",8),plusMin:new te("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:vt("%",10),star:vt("*",10),slash:vt("/",10),starstar:new te("**",{beforeExpr:!0}),coalesce:vt("??",1),_break:Q("break"),_case:Q("case",Tt),_catch:Q("catch"),_continue:Q("continue"),_debugger:Q("debugger"),_default:Q("default",Tt),_do:Q("do",{isLoop:!0,beforeExpr:!0}),_else:Q("else",Tt),_finally:Q("finally"),_for:Q("for",{isLoop:!0}),_function:Q("function",nt),_if:Q("if"),_return:Q("return",Tt),_switch:Q("switch"),_throw:Q("throw",Tt),_try:Q("try"),_var:Q("var"),_const:Q("const"),_while:Q("while",{isLoop:!0}),_with:Q("with"),_new:Q("new",{beforeExpr:!0,startsExpr:!0}),_this:Q("this",nt),_super:Q("super",nt),_class:Q("class",nt),_extends:Q("extends",Tt),_export:Q("export"),_import:Q("import",nt),_null:Q("null",nt),_true:Q("true",nt),_false:Q("false",nt),_in:Q("in",{beforeExpr:!0,binop:7}),_instanceof:Q("instanceof",{beforeExpr:!0,binop:7}),_typeof:Q("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Q("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Q("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},St=/\r\n?|\n|\u2028|\u2029/,GN=new RegExp(St.source,"g");function js(t){return t===10||t===13||t===8232||t===8233}s(js,"isNewLine");function sE(t,e,i){i===void 0&&(i=t.length);for(var n=e;n<i;n++){var o=t.charCodeAt(n);if(js(o))return n<i-1&&o===13&&t.charCodeAt(n+1)===10?n+2:n+1}return-1}s(sE,"nextLineBreak");var aE=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,kt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,cE=Object.prototype,KN=cE.hasOwnProperty,$N=cE.toString,Xm=Object.hasOwn||function(t,e){return KN.call(t,e)},QS=Array.isArray||function(t){return $N.call(t)==="[object Array]"},eE=Object.create(null);function Pn(t){return eE[t]||(eE[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}s(Pn,"wordsRegexp");function Rn(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}s(Rn,"codePointToString");var qN=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,zm=s(function(e,i){this.line=e,this.column=i},"Position");zm.prototype.offset=s(function(e){return new zm(this.line,this.column+e)},"offset");var cw=s(function(e,i,n){this.start=i,this.end=n,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function uE(t,e){for(var i=1,n=0;;){var o=sE(t,n,e);if(o<0)return new zm(i,e-n);++i,n=o}}s(uE,"getLineInfo");var Dv={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},tE=!1;function zN(t){var e={};for(var i in Dv)e[i]=t&&Xm(t,i)?t[i]:Dv[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!tE&&typeof console=="object"&&console.warn&&(tE=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),QS(e.onToken)){var n=e.onToken;e.onToken=function(o){return n.push(o)}}return QS(e.onComment)&&(e.onComment=JN(e,e.onComment)),e}s(zN,"getOptions");function JN(t,e){return function(i,n,o,r,l,f){var d={type:i?"Block":"Line",value:n,start:o,end:r};t.locations&&(d.loc=new cw(this,l,f)),t.ranges&&(d.range=[o,r]),e.push(d)}}s(JN,"pushComment");var Jm=1,Hs=2,Uv=4,lE=8,pE=16,fE=32,Vv=64,dE=128,Zm=256,Yv=Jm|Hs|Zm;function Fv(t,e){return Hs|(t?Uv:0)|(e?lE:0)}s(Fv,"functionFlags");var ow=0,Wv=1,Di=2,hE=3,mE=4,_E=5,Se=s(function(e,i,n){this.options=e=zN(e),this.sourceFile=e.sourceFile,this.keywords=Pn(FN[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var o="";e.allowReserved!==!0&&(o=Pv[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(o+=" await")),this.reservedWords=Pn(o);var r=(o?o+" ":"")+Pv.strict;this.reservedWordsStrict=Pn(r),this.reservedWordsStrictBind=Pn(r+" "+Pv.strictBind),this.input=String(i),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf(`
`,n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(St).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=h.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Jm),this.regexpState=null,this.privateNameStack=[]},"Parser"),hi={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Se.prototype.parse=s(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");hi.inFunction.get=function(){return(this.currentVarScope().flags&Hs)>0};hi.inGenerator.get=function(){return(this.currentVarScope().flags&lE)>0&&!this.currentVarScope().inClassFieldInit};hi.inAsync.get=function(){return(this.currentVarScope().flags&Uv)>0&&!this.currentVarScope().inClassFieldInit};hi.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Zm)return!1;if(e.flags&Hs)return(e.flags&Uv)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};hi.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&Vv)>0||i||this.options.allowSuperOutsideMethod};hi.allowDirectSuper.get=function(){return(this.currentThisScope().flags&dE)>0};hi.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};hi.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(Hs|Zm))>0||i};hi.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Zm)>0};Se.extend=s(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var n=this,o=0;o<e.length;o++)n=e[o](n);return n},"extend");Se.parse=s(function(e,i){return new this(i,e).parse()},"parse");Se.parseExpressionAt=s(function(e,i,n){var o=new this(n,e,i);return o.nextToken(),o.parseExpression()},"parseExpressionAt");Se.tokenizer=s(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(Se.prototype,hi);var Je=Se.prototype,XN=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;Je.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){kt.lastIndex=t,t+=kt.exec(this.input)[0].length;var e=XN.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){kt.lastIndex=t+e[0].length;var i=kt.exec(this.input),n=i.index+i[0].length,o=this.input.charAt(n);return o===";"||o==="}"||St.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(o)||o==="!"&&this.input.charAt(n+1)==="=")}t+=e[0].length,kt.lastIndex=t,t+=kt.exec(this.input)[0].length,this.input[t]===";"&&t++}};Je.eat=function(t){return this.type===t?(this.next(),!0):!1};Je.isContextual=function(t){return this.type===h.name&&this.value===t&&!this.containsEsc};Je.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};Je.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};Je.canInsertSemicolon=function(){return this.type===h.eof||this.type===h.braceR||St.test(this.input.slice(this.lastTokEnd,this.start))};Je.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Je.semicolon=function(){!this.eat(h.semi)&&!this.insertSemicolon()&&this.unexpected()};Je.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};Je.expect=function(t){this.eat(t)||this.unexpected()};Je.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var uw=s(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");Je.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};Je.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,n=t.doubleProto;if(!e)return i>=0||n>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),n>=0&&this.raiseRecoverable(n,"Redefinition of __proto__ property")};Je.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Je.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var B=Se.prototype;B.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==h.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var n=0,o=Object.keys(this.undefinedExports);n<o.length;n+=1){var r=o[n];this.raiseRecoverable(this.undefinedExports[r].start,"Export '"+r+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var jv={kind:"loop"},ZN={kind:"switch"};B.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;kt.lastIndex=this.pos;var e=kt.exec(this.input),i=this.pos+e[0].length,n=this.input.charCodeAt(i);if(n===91||n===92)return!0;if(t)return!1;if(n===123||n>55295&&n<56320)return!0;if(Ai(n,!0)){for(var o=i+1;Ws(n=this.input.charCodeAt(o),!0);)++o;if(n===92||n>55295&&n<56320)return!0;var r=this.input.slice(i,o);if(!WN.test(r))return!0}return!1};B.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;kt.lastIndex=this.pos;var t=kt.exec(this.input),e=this.pos+t[0].length,i;return!St.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(Ws(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};B.parseStatement=function(t,e,i){var n=this.type,o=this.startNode(),r;switch(this.isLet(t)&&(n=h._var,r="let"),n){case h._break:case h._continue:return this.parseBreakContinueStatement(o,n.keyword);case h._debugger:return this.parseDebuggerStatement(o);case h._do:return this.parseDoStatement(o);case h._for:return this.parseForStatement(o);case h._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(o,!1,!t);case h._class:return t&&this.unexpected(),this.parseClass(o,!0);case h._if:return this.parseIfStatement(o);case h._return:return this.parseReturnStatement(o);case h._switch:return this.parseSwitchStatement(o);case h._throw:return this.parseThrowStatement(o);case h._try:return this.parseTryStatement(o);case h._const:case h._var:return r=r||this.value,t&&r!=="var"&&this.unexpected(),this.parseVarStatement(o,r);case h._while:return this.parseWhileStatement(o);case h._with:return this.parseWithStatement(o);case h.braceL:return this.parseBlock(!0,o);case h.semi:return this.parseEmptyStatement(o);case h._export:case h._import:if(this.options.ecmaVersion>10&&n===h._import){kt.lastIndex=this.pos;var l=kt.exec(this.input),f=this.pos+l[0].length,d=this.input.charCodeAt(f);if(d===40||d===46)return this.parseExpressionStatement(o,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),n===h._import?this.parseImport(o):this.parseExport(o,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(o,!0,!t);var x=this.value,b=this.parseExpression();return n===h.name&&b.type==="Identifier"&&this.eat(h.colon)?this.parseLabeledStatement(o,x,b,t):this.parseExpressionStatement(o,b)}};B.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(h.semi)||this.insertSemicolon()?t.label=null:this.type!==h.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var n=0;n<this.labels.length;++n){var o=this.labels[n];if((t.label==null||o.name===t.label.name)&&(o.kind!=null&&(i||o.kind==="loop")||t.label&&i))break}return n===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};B.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};B.parseDoStatement=function(t){return this.next(),this.labels.push(jv),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(h._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(h.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};B.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(jv),this.enterScope(0),this.expect(h.parenL),this.type===h.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===h._var||this.type===h._const||i){var n=this.startNode(),o=i?"let":this.value;return this.next(),this.parseVar(n,!0,o),this.finishNode(n,"VariableDeclaration"),(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&n.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===h._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,n)):(e>-1&&this.unexpected(e),this.parseFor(t,n))}var r=this.isContextual("let"),l=!1,f=this.containsEsc,d=new uw,x=this.start,b=e>-1?this.parseExprSubscripts(d,"await"):this.parseExpression(!0,d);return this.type===h._in||(l=this.options.ecmaVersion>=6&&this.isContextual("of"))?(e>-1?(this.type===h._in&&this.unexpected(e),t.await=!0):l&&this.options.ecmaVersion>=8&&(b.start===x&&!f&&b.type==="Identifier"&&b.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(t.await=!1)),r&&l&&this.raise(b.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(b,!1,d),this.checkLValPattern(b),this.parseForIn(t,b)):(this.checkExpressionErrors(d,!0),e>-1&&this.unexpected(e),this.parseFor(t,b))};B.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,qm|(i?0:Lv),!1,e)};B.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(h._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};B.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(h.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};B.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(h.braceL),this.labels.push(ZN),this.enterScope(0);for(var e,i=!1;this.type!==h.braceR;)if(this.type===h._case||this.type===h._default){var n=this.type===h._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),n?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(h.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};B.parseThrowStatement=function(t){return this.next(),St.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var QN=[];B.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?fE:0),this.checkLValPattern(t,e?mE:Di),this.expect(h.parenR),t};B.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===h._catch){var e=this.startNode();this.next(),this.eat(h.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(h._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};B.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};B.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(jv),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};B.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};B.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};B.parseLabeledStatement=function(t,e,i,n){for(var o=0,r=this.labels;o<r.length;o+=1){var l=r[o];l.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var f=this.type.isLoop?"loop":this.type===h._switch?"switch":null,d=this.labels.length-1;d>=0;d--){var x=this.labels[d];if(x.statementStart===t.start)x.statementStart=this.start,x.kind=f;else break}return this.labels.push({name:e,kind:f,statementStart:this.start}),t.body=this.parseStatement(n?n.indexOf("label")===-1?n+"label":n:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};B.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};B.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(h.braceL),t&&this.enterScope(0);this.type!==h.braceR;){var n=this.parseStatement(null);e.body.push(n)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};B.parseFor=function(t,e){return t.init=e,this.expect(h.semi),t.test=this.type===h.semi?null:this.parseExpression(),this.expect(h.semi),t.update=this.type===h.parenR?null:this.parseExpression(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};B.parseForIn=function(t,e){var i=this.type===h._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};B.parseVar=function(t,e,i,n){for(t.declarations=[],t.kind=i;;){var o=this.startNode();if(this.parseVarId(o,i),this.eat(h.eq)?o.init=this.parseMaybeAssign(e):!n&&i==="const"&&!(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!n&&o.id.type!=="Identifier"&&!(e&&(this.type===h._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):o.init=null,t.declarations.push(this.finishNode(o,"VariableDeclarator")),!this.eat(h.comma))break}return t};B.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?Wv:Di,!1)};var qm=1,Lv=2,bE=4;B.parseFunction=function(t,e,i,n,o){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!n)&&(this.type===h.star&&e&Lv&&this.unexpected(),t.generator=this.eat(h.star)),this.options.ecmaVersion>=8&&(t.async=!!n),e&qm&&(t.id=e&bE&&this.type!==h.name?null:this.parseIdent(),t.id&&!(e&Lv)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?Wv:Di:hE));var r=this.yieldPos,l=this.awaitPos,f=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Fv(t.async,t.generator)),e&qm||(t.id=this.type===h.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,o),this.yieldPos=r,this.awaitPos=l,this.awaitIdentPos=f,this.finishNode(t,e&qm?"FunctionDeclaration":"FunctionExpression")};B.parseFunctionParams=function(t){this.expect(h.parenL),t.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};B.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var n=this.enterClassBody(),o=this.startNode(),r=!1;for(o.body=[],this.expect(h.braceL);this.type!==h.braceR;){var l=this.parseClassElement(t.superClass!==null);l&&(o.body.push(l),l.type==="MethodDefinition"&&l.kind==="constructor"?(r&&this.raiseRecoverable(l.start,"Duplicate constructor in the same class"),r=!0):l.key&&l.key.type==="PrivateIdentifier"&&eP(n,l)&&this.raiseRecoverable(l.key.start,"Identifier '#"+l.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(o,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};B.parseClassElement=function(t){if(this.eat(h.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),n="",o=!1,r=!1,l="method",f=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(h.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===h.star?f=!0:n="static"}if(i.static=f,!n&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===h.star)&&!this.canInsertSemicolon()?r=!0:n="async"),!n&&(e>=9||!r)&&this.eat(h.star)&&(o=!0),!n&&!r&&!o){var d=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?l=d:n=d)}if(n?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=n,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===h.parenL||l!=="method"||o||r){var x=!i.static&&rw(i,"constructor"),b=x&&t;x&&l!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=x?"constructor":l,this.parseClassMethod(i,o,r,b)}else this.parseClassField(i);return i};B.isClassElementNameStart=function(){return this.type===h.name||this.type===h.privateId||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword};B.parseClassElementName=function(t){this.type===h.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};B.parseClassMethod=function(t,e,i,n){var o=t.key;t.kind==="constructor"?(e&&this.raise(o.start,"Constructor can't be a generator"),i&&this.raise(o.start,"Constructor can't be an async method")):t.static&&rw(t,"prototype")&&this.raise(o.start,"Classes may not have a static property named prototype");var r=t.value=this.parseMethod(e,i,n);return t.kind==="get"&&r.params.length!==0&&this.raiseRecoverable(r.start,"getter should have no params"),t.kind==="set"&&r.params.length!==1&&this.raiseRecoverable(r.start,"setter should have exactly one param"),t.kind==="set"&&r.params[0].type==="RestElement"&&this.raiseRecoverable(r.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};B.parseClassField=function(t){if(rw(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&rw(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(h.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};B.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Zm|Vv);this.type!==h.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};B.parseClassId=function(t,e){this.type===h.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,Di,!1)):(e===!0&&this.unexpected(),t.id=null)};B.parseClassSuper=function(t){t.superClass=this.eat(h._extends)?this.parseExprSubscripts(null,!1):null};B.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};B.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(!!this.options.checkPrivateFields)for(var n=this.privateNameStack.length,o=n===0?null:this.privateNameStack[n-1],r=0;r<i.length;++r){var l=i[r];Xm(e,l.name)||(o?o.used.push(l):this.raiseRecoverable(l.start,"Private field '#"+l.name+"' must be declared in an enclosing class"))}};function eP(t,e){var i=e.key.name,n=t[i],o="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(o=(e.static?"s":"i")+e.kind),n==="iget"&&o==="iset"||n==="iset"&&o==="iget"||n==="sget"&&o==="sset"||n==="sset"&&o==="sget"?(t[i]="true",!1):n?!0:(t[i]=o,!1)}s(eP,"isPrivateNameConflicted");function rw(t,e){var i=t.computed,n=t.key;return!i&&(n.type==="Identifier"&&n.name===e||n.type==="Literal"&&n.value===e)}s(rw,"checkKeyName");B.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};B.parseExport=function(t,e){if(this.next(),this.eat(h.star))return this.parseExportAllDeclaration(t,e);if(this.eat(h._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,n=t.specifiers;i<n.length;i+=1){var o=n[i];this.checkUnreserved(o.local),this.checkLocalExport(o.local),o.local.type==="Literal"&&this.raise(o.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};B.parseExportDeclaration=function(t){return this.parseStatement(null)};B.parseExportDefaultDeclaration=function(){var t;if(this.type===h._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,qm|bE,!1,t)}else if(this.type===h._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var n=this.parseMaybeAssign();return this.semicolon(),n}};B.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),Xm(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};B.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var n=0,o=e.properties;n<o.length;n+=1){var r=o[n];this.checkPatternExport(t,r)}else if(i==="ArrayPattern")for(var l=0,f=e.elements;l<f.length;l+=1){var d=f[l];d&&this.checkPatternExport(t,d)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"&&this.checkPatternExport(t,e.argument)};B.checkVariableExport=function(t,e){if(!!t)for(var i=0,n=e;i<n.length;i+=1){var o=n[i];this.checkPatternExport(t,o.id)}};B.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};B.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};B.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(h.braceL);!this.eat(h.braceR);){if(i)i=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;e.push(this.parseExportSpecifier(t))}return e};B.parseImport=function(t){return this.next(),this.type===h.string?(t.specifiers=QN,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===h.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};B.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,Di),this.finishNode(t,"ImportSpecifier")};B.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,Di),this.finishNode(t,"ImportDefaultSpecifier")};B.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,Di),this.finishNode(t,"ImportNamespaceSpecifier")};B.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===h.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(h.comma)))return t;if(this.type===h.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(h.braceL);!this.eat(h.braceR);){if(e)e=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;t.push(this.parseImportSpecifier())}return t};B.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===h.string){var t=this.parseLiteral(this.value);return qN.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};B.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};B.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var Et=Se.prototype;Et.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var n=0,o=t.properties;n<o.length;n+=1){var r=o[n];this.toAssignable(r,e),r.type==="RestElement"&&(r.argument.type==="ArrayPattern"||r.argument.type==="ObjectPattern")&&this.raise(r.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};Et.toAssignableList=function(t,e){for(var i=t.length,n=0;n<i;n++){var o=t[n];o&&this.toAssignable(o,e)}if(i){var r=t[i-1];this.options.ecmaVersion===6&&e&&r&&r.type==="RestElement"&&r.argument.type!=="Identifier"&&this.unexpected(r.argument.start)}return t};Et.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};Et.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==h.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};Et.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case h.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(h.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case h.braceL:return this.parseObj(!0)}return this.parseIdent()};Et.parseBindingList=function(t,e,i,n){for(var o=[],r=!0;!this.eat(t);)if(r?r=!1:this.expect(h.comma),e&&this.type===h.comma)o.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===h.ellipsis){var l=this.parseRestBinding();this.parseBindingListItem(l),o.push(l),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else o.push(this.parseAssignableListItem(n))}return o};Et.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};Et.parseBindingListItem=function(t){return t};Et.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(h.eq))return i;var n=this.startNodeAt(t,e);return n.left=i,n.right=this.parseMaybeAssign(),this.finishNode(n,"AssignmentPattern")};Et.checkLValSimple=function(t,e,i){e===void 0&&(e=ow);var n=e!==ow;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(n?"Binding ":"Assigning to ")+t.name+" in strict mode"),n&&(e===Di&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(Xm(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==_E&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":n&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return n&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(n?"Binding":"Assigning to")+" rvalue")}};Et.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=ow),t.type){case"ObjectPattern":for(var n=0,o=t.properties;n<o.length;n+=1){var r=o[n];this.checkLValInnerPattern(r,e,i)}break;case"ArrayPattern":for(var l=0,f=t.elements;l<f.length;l+=1){var d=f[l];d&&this.checkLValInnerPattern(d,e,i)}break;default:this.checkLValSimple(t,e,i)}};Et.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=ow),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var jt=s(function(e,i,n,o,r){this.token=e,this.isExpr=!!i,this.preserveSpace=!!n,this.override=o,this.generator=!!r},"TokContext"),he={b_stat:new jt("{",!1),b_expr:new jt("{",!0),b_tmpl:new jt("${",!1),p_stat:new jt("(",!1),p_expr:new jt("(",!0),q_tmpl:new jt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new jt("function",!1),f_expr:new jt("function",!0),f_expr_gen:new jt("function",!0,!1,null,!0),f_gen:new jt("function",!1,!1,null,!0)},Gs=Se.prototype;Gs.initialContext=function(){return[he.b_stat]};Gs.curContext=function(){return this.context[this.context.length-1]};Gs.braceIsBlock=function(t){var e=this.curContext();return e===he.f_expr||e===he.f_stat?!0:t===h.colon&&(e===he.b_stat||e===he.b_expr)?!e.isExpr:t===h._return||t===h.name&&this.exprAllowed?St.test(this.input.slice(this.lastTokEnd,this.start)):t===h._else||t===h.semi||t===h.eof||t===h.parenR||t===h.arrow?!0:t===h.braceL?e===he.b_stat:t===h._var||t===h._const||t===h.name?!1:!this.exprAllowed};Gs.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};Gs.updateContext=function(t){var e,i=this.type;i.keyword&&t===h.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};Gs.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};h.parenR.updateContext=h.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===he.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};h.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?he.b_stat:he.b_expr),this.exprAllowed=!0};h.dollarBraceL.updateContext=function(){this.context.push(he.b_tmpl),this.exprAllowed=!0};h.parenL.updateContext=function(t){var e=t===h._if||t===h._for||t===h._with||t===h._while;this.context.push(e?he.p_stat:he.p_expr),this.exprAllowed=!0};h.incDec.updateContext=function(){};h._function.updateContext=h._class.updateContext=function(t){t.beforeExpr&&t!==h._else&&!(t===h.semi&&this.curContext()!==he.p_stat)&&!(t===h._return&&St.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===h.colon||t===h.braceL)&&this.curContext()===he.b_stat)?this.context.push(he.f_expr):this.context.push(he.f_stat),this.exprAllowed=!1};h.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};h.backQuote.updateContext=function(){this.curContext()===he.q_tmpl?this.context.pop():this.context.push(he.q_tmpl),this.exprAllowed=!1};h.star.updateContext=function(t){if(t===h._function){var e=this.context.length-1;this.context[e]===he.f_expr?this.context[e]=he.f_expr_gen:this.context[e]=he.f_gen}this.exprAllowed=!0};h.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==h.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var W=Se.prototype;W.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var n=t.key,o;switch(n.type){case"Identifier":o=n.name;break;case"Literal":o=String(n.value);break;default:return}var r=t.kind;if(this.options.ecmaVersion>=6){o==="__proto__"&&r==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=n.start):this.raiseRecoverable(n.start,"Redefinition of __proto__ property")),e.proto=!0);return}o="$"+o;var l=e[o];if(l){var f;r==="init"?f=this.strict&&l.init||l.get||l.set:f=l.init||l[r],f&&this.raiseRecoverable(n.start,"Redefinition of property")}else l=e[o]={init:!1,get:!1,set:!1};l[r]=!0}};W.parseExpression=function(t,e){var i=this.start,n=this.startLoc,o=this.parseMaybeAssign(t,e);if(this.type===h.comma){var r=this.startNodeAt(i,n);for(r.expressions=[o];this.eat(h.comma);)r.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(r,"SequenceExpression")}return o};W.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var n=!1,o=-1,r=-1,l=-1;e?(o=e.parenthesizedAssign,r=e.trailingComma,l=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new uw,n=!0);var f=this.start,d=this.startLoc;(this.type===h.parenL||this.type===h.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var x=this.parseMaybeConditional(t,e);if(i&&(x=i.call(this,x,f,d)),this.type.isAssign){var b=this.startNodeAt(f,d);return b.operator=this.value,this.type===h.eq&&(x=this.toAssignable(x,!1,e)),n||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=x.start&&(e.shorthandAssign=-1),this.type===h.eq?this.checkLValPattern(x):this.checkLValSimple(x),b.left=x,this.next(),b.right=this.parseMaybeAssign(t),l>-1&&(e.doubleProto=l),this.finishNode(b,"AssignmentExpression")}else n&&this.checkExpressionErrors(e,!0);return o>-1&&(e.parenthesizedAssign=o),r>-1&&(e.trailingComma=r),x};W.parseMaybeConditional=function(t,e){var i=this.start,n=this.startLoc,o=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return o;if(this.eat(h.question)){var r=this.startNodeAt(i,n);return r.test=o,r.consequent=this.parseMaybeAssign(),this.expect(h.colon),r.alternate=this.parseMaybeAssign(t),this.finishNode(r,"ConditionalExpression")}return o};W.parseExprOps=function(t,e){var i=this.start,n=this.startLoc,o=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||o.start===i&&o.type==="ArrowFunctionExpression"?o:this.parseExprOp(o,i,n,-1,t)};W.parseExprOp=function(t,e,i,n,o){var r=this.type.binop;if(r!=null&&(!o||this.type!==h._in)&&r>n){var l=this.type===h.logicalOR||this.type===h.logicalAND,f=this.type===h.coalesce;f&&(r=h.logicalAND.binop);var d=this.value;this.next();var x=this.start,b=this.startLoc,g=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,o),x,b,r,o),w=this.buildBinary(e,i,t,g,d,l||f);return(l&&this.type===h.coalesce||f&&(this.type===h.logicalOR||this.type===h.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(w,e,i,n,o)}return t};W.buildBinary=function(t,e,i,n,o,r){n.type==="PrivateIdentifier"&&this.raise(n.start,"Private identifier can only be left side of binary expression");var l=this.startNodeAt(t,e);return l.left=i,l.operator=o,l.right=n,this.finishNode(l,r?"LogicalExpression":"BinaryExpression")};W.parseMaybeUnary=function(t,e,i,n){var o=this.start,r=this.startLoc,l;if(this.isContextual("await")&&this.canAwait)l=this.parseAwait(n),e=!0;else if(this.type.prefix){var f=this.startNode(),d=this.type===h.incDec;f.operator=this.value,f.prefix=!0,this.next(),f.argument=this.parseMaybeUnary(null,!0,d,n),this.checkExpressionErrors(t,!0),d?this.checkLValSimple(f.argument):this.strict&&f.operator==="delete"&&xE(f.argument)?this.raiseRecoverable(f.start,"Deleting local variable in strict mode"):f.operator==="delete"&&Ov(f.argument)?this.raiseRecoverable(f.start,"Private fields can not be deleted"):e=!0,l=this.finishNode(f,d?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===h.privateId)(n||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),l=this.parsePrivateIdent(),this.type!==h._in&&this.unexpected();else{if(l=this.parseExprSubscripts(t,n),this.checkExpressionErrors(t))return l;for(;this.type.postfix&&!this.canInsertSemicolon();){var x=this.startNodeAt(o,r);x.operator=this.value,x.prefix=!1,x.argument=l,this.checkLValSimple(l),this.next(),l=this.finishNode(x,"UpdateExpression")}}if(!i&&this.eat(h.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(o,r,l,this.parseMaybeUnary(null,!1,!1,n),"**",!1);else return l};function xE(t){return t.type==="Identifier"||t.type==="ParenthesizedExpression"&&xE(t.expression)}s(xE,"isLocalVariableAccess");function Ov(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&Ov(t.expression)||t.type==="ParenthesizedExpression"&&Ov(t.expression)}s(Ov,"isPrivateFieldAccess");W.parseExprSubscripts=function(t,e){var i=this.start,n=this.startLoc,o=this.parseExprAtom(t,e);if(o.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return o;var r=this.parseSubscripts(o,i,n,!1,e);return t&&r.type==="MemberExpression"&&(t.parenthesizedAssign>=r.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=r.start&&(t.parenthesizedBind=-1),t.trailingComma>=r.start&&(t.trailingComma=-1)),r};W.parseSubscripts=function(t,e,i,n,o){for(var r=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,l=!1;;){var f=this.parseSubscript(t,e,i,n,r,l,o);if(f.optional&&(l=!0),f===t||f.type==="ArrowFunctionExpression"){if(l){var d=this.startNodeAt(e,i);d.expression=f,f=this.finishNode(d,"ChainExpression")}return f}t=f}};W.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(h.arrow)};W.parseSubscriptAsyncArrow=function(t,e,i,n){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,n)};W.parseSubscript=function(t,e,i,n,o,r,l){var f=this.options.ecmaVersion>=11,d=f&&this.eat(h.questionDot);n&&d&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var x=this.eat(h.bracketL);if(x||d&&this.type!==h.parenL&&this.type!==h.backQuote||this.eat(h.dot)){var b=this.startNodeAt(e,i);b.object=t,x?(b.property=this.parseExpression(),this.expect(h.bracketR)):this.type===h.privateId&&t.type!=="Super"?b.property=this.parsePrivateIdent():b.property=this.parseIdent(this.options.allowReserved!=="never"),b.computed=!!x,f&&(b.optional=d),t=this.finishNode(b,"MemberExpression")}else if(!n&&this.eat(h.parenL)){var g=new uw,w=this.yieldPos,T=this.awaitPos,S=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var E=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1,g);if(o&&!d&&this.shouldParseAsyncArrow())return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=w,this.awaitPos=T,this.awaitIdentPos=S,this.parseSubscriptAsyncArrow(e,i,E,l);this.checkExpressionErrors(g,!0),this.yieldPos=w||this.yieldPos,this.awaitPos=T||this.awaitPos,this.awaitIdentPos=S||this.awaitIdentPos;var P=this.startNodeAt(e,i);P.callee=t,P.arguments=E,f&&(P.optional=d),t=this.finishNode(P,"CallExpression")}else if(this.type===h.backQuote){(d||r)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var C=this.startNodeAt(e,i);C.tag=t,C.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(C,"TaggedTemplateExpression")}return t};W.parseExprAtom=function(t,e,i){this.type===h.slash&&this.readRegexp();var n,o=this.potentialArrowAt===this.start;switch(this.type){case h._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),n=this.startNode(),this.next(),this.type===h.parenL&&!this.allowDirectSuper&&this.raise(n.start,"super() call outside constructor of a subclass"),this.type!==h.dot&&this.type!==h.bracketL&&this.type!==h.parenL&&this.unexpected(),this.finishNode(n,"Super");case h._this:return n=this.startNode(),this.next(),this.finishNode(n,"ThisExpression");case h.name:var r=this.start,l=this.startLoc,f=this.containsEsc,d=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!f&&d.name==="async"&&!this.canInsertSemicolon()&&this.eat(h._function))return this.overrideContext(he.f_expr),this.parseFunction(this.startNodeAt(r,l),0,!1,!0,e);if(o&&!this.canInsertSemicolon()){if(this.eat(h.arrow))return this.parseArrowExpression(this.startNodeAt(r,l),[d],!1,e);if(this.options.ecmaVersion>=8&&d.name==="async"&&this.type===h.name&&!f&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return d=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(h.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(r,l),[d],!0,e)}return d;case h.regexp:var x=this.value;return n=this.parseLiteral(x.value),n.regex={pattern:x.pattern,flags:x.flags},n;case h.num:case h.string:return this.parseLiteral(this.value);case h._null:case h._true:case h._false:return n=this.startNode(),n.value=this.type===h._null?null:this.type===h._true,n.raw=this.type.keyword,this.next(),this.finishNode(n,"Literal");case h.parenL:var b=this.start,g=this.parseParenAndDistinguishExpression(o,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(g)&&(t.parenthesizedAssign=b),t.parenthesizedBind<0&&(t.parenthesizedBind=b)),g;case h.bracketL:return n=this.startNode(),this.next(),n.elements=this.parseExprList(h.bracketR,!0,!0,t),this.finishNode(n,"ArrayExpression");case h.braceL:return this.overrideContext(he.b_expr),this.parseObj(!1,t);case h._function:return n=this.startNode(),this.next(),this.parseFunction(n,0);case h._class:return this.parseClass(this.startNode(),!1);case h._new:return this.parseNew();case h.backQuote:return this.parseTemplate();case h._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};W.parseExprAtomDefault=function(){this.unexpected()};W.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===h.parenL&&!t)return this.parseDynamicImport(e);if(this.type===h.dot){var i=this.startNodeAt(e.start,e.loc&&e.loc.start);return i.name="import",e.meta=this.finishNode(i,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};W.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(h.parenR)){var e=this.start;this.eat(h.comma)&&this.eat(h.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};W.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};W.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};W.parseParenExpression=function(){this.expect(h.parenL);var t=this.parseExpression();return this.expect(h.parenR),t};W.shouldParseArrow=function(t){return!this.canInsertSemicolon()};W.parseParenAndDistinguishExpression=function(t,e){var i=this.start,n=this.startLoc,o,r=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var l=this.start,f=this.startLoc,d=[],x=!0,b=!1,g=new uw,w=this.yieldPos,T=this.awaitPos,S;for(this.yieldPos=0,this.awaitPos=0;this.type!==h.parenR;)if(x?x=!1:this.expect(h.comma),r&&this.afterTrailingComma(h.parenR,!0)){b=!0;break}else if(this.type===h.ellipsis){S=this.start,d.push(this.parseParenItem(this.parseRestBinding())),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else d.push(this.parseMaybeAssign(!1,g,this.parseParenItem));var E=this.lastTokEnd,P=this.lastTokEndLoc;if(this.expect(h.parenR),t&&this.shouldParseArrow(d)&&this.eat(h.arrow))return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=w,this.awaitPos=T,this.parseParenArrowList(i,n,d,e);(!d.length||b)&&this.unexpected(this.lastTokStart),S&&this.unexpected(S),this.checkExpressionErrors(g,!0),this.yieldPos=w||this.yieldPos,this.awaitPos=T||this.awaitPos,d.length>1?(o=this.startNodeAt(l,f),o.expressions=d,this.finishNodeAt(o,"SequenceExpression",E,P)):o=d[0]}else o=this.parseParenExpression();if(this.options.preserveParens){var C=this.startNodeAt(i,n);return C.expression=o,this.finishNode(C,"ParenthesizedExpression")}else return o};W.parseParenItem=function(t){return t};W.parseParenArrowList=function(t,e,i,n){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,n)};var tP=[];W.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===h.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var n=this.start,o=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),n,o,!0,!1),this.eat(h.parenL)?t.arguments=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1):t.arguments=tP,this.finishNode(t,"NewExpression")};W.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===h.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===h.backQuote,this.finishNode(i,"TemplateElement")};W.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var n=this.parseTemplateElement({isTagged:e});for(i.quasis=[n];!n.tail;)this.type===h.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(h.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(h.braceR),i.quasis.push(n=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};W.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===h.name||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===h.star)&&!St.test(this.input.slice(this.lastTokEnd,this.start))};W.parseObj=function(t,e){var i=this.startNode(),n=!0,o={};for(i.properties=[],this.next();!this.eat(h.braceR);){if(n)n=!1;else if(this.expect(h.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(h.braceR))break;var r=this.parseProperty(t,e);t||this.checkPropClash(r,o,e),i.properties.push(r)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};W.parseProperty=function(t,e){var i=this.startNode(),n,o,r,l;if(this.options.ecmaVersion>=9&&this.eat(h.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===h.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(r=this.start,l=this.startLoc),t||(n=this.eat(h.star)));var f=this.containsEsc;return this.parsePropertyName(i),!t&&!f&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(i)?(o=!0,n=this.options.ecmaVersion>=9&&this.eat(h.star),this.parsePropertyName(i)):o=!1,this.parsePropertyValue(i,t,n,o,r,l,e,f),this.finishNode(i,"Property")};W.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};W.parsePropertyValue=function(t,e,i,n,o,r,l,f){(i||n)&&this.type===h.colon&&this.unexpected(),this.eat(h.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,l),t.kind="init"):this.options.ecmaVersion>=6&&this.type===h.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,n)):!e&&!f&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==h.comma&&this.type!==h.braceR&&this.type!==h.eq?((i||n)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||n)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=o),t.kind="init",e?t.value=this.parseMaybeDefault(o,r,this.copyNode(t.key)):this.type===h.eq&&l?(l.shorthandAssign<0&&(l.shorthandAssign=this.start),t.value=this.parseMaybeDefault(o,r,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};W.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(h.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(h.bracketR),t.key;t.computed=!1}return t.key=this.type===h.num||this.type===h.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};W.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};W.parseMethod=function(t,e,i){var n=this.startNode(),o=this.yieldPos,r=this.awaitPos,l=this.awaitIdentPos;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=t),this.options.ecmaVersion>=8&&(n.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Fv(e,n.generator)|Vv|(i?dE:0)),this.expect(h.parenL),n.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1,!0,!1),this.yieldPos=o,this.awaitPos=r,this.awaitIdentPos=l,this.finishNode(n,"FunctionExpression")};W.parseArrowExpression=function(t,e,i,n){var o=this.yieldPos,r=this.awaitPos,l=this.awaitIdentPos;return this.enterScope(Fv(i,!1)|pE),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,n),this.yieldPos=o,this.awaitPos=r,this.awaitIdentPos=l,this.finishNode(t,"ArrowFunctionExpression")};W.parseFunctionBody=function(t,e,i,n){var o=e&&this.type!==h.braceL,r=this.strict,l=!1;if(o)t.body=this.parseMaybeAssign(n),t.expression=!0,this.checkParams(t,!1);else{var f=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!r||f)&&(l=this.strictDirective(this.end),l&&f&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var d=this.labels;this.labels=[],l&&(this.strict=!0),this.checkParams(t,!r&&!l&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,_E),t.body=this.parseBlock(!1,void 0,l&&!r),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=d}this.exitScope()};W.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var n=i[e];if(n.type!=="Identifier")return!1}return!0};W.checkParams=function(t,e){for(var i=Object.create(null),n=0,o=t.params;n<o.length;n+=1){var r=o[n];this.checkLValInnerPattern(r,Wv,e?null:i)}};W.parseExprList=function(t,e,i,n){for(var o=[],r=!0;!this.eat(t);){if(r)r=!1;else if(this.expect(h.comma),e&&this.afterTrailingComma(t))break;var l=void 0;i&&this.type===h.comma?l=null:this.type===h.ellipsis?(l=this.parseSpread(n),n&&this.type===h.comma&&n.trailingComma<0&&(n.trailingComma=this.start)):l=this.parseMaybeAssign(!1,n),o.push(l)}return o};W.checkUnreserved=function(t){var e=t.start,i=t.end,n=t.name;if(this.inGenerator&&n==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&n==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&n==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(n==="arguments"||n==="await")&&this.raise(e,"Cannot use "+n+" in class static initialization block"),this.keywords.test(n)&&this.raise(e,"Unexpected keyword '"+n+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var o=this.strict?this.reservedWordsStrict:this.reservedWords;o.test(n)&&(!this.inAsync&&n==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+n+"' is reserved"))}};W.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};W.parseIdentNode=function(){var t=this.startNode();return this.type===h.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=h.name):this.unexpected(),t};W.parsePrivateIdent=function(){var t=this.startNode();return this.type===h.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};W.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===h.semi||this.canInsertSemicolon()||this.type!==h.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(h.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};W.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var sw=Se.prototype;sw.raise=function(t,e){var i=uE(this.input,t);e+=" ("+i.line+":"+i.column+")";var n=new SyntaxError(e);throw n.pos=t,n.loc=i,n.raisedAt=this.pos,n};sw.raiseRecoverable=sw.raise;sw.curPosition=function(){if(this.options.locations)return new zm(this.curLine,this.pos-this.lineStart)};var An=Se.prototype,iP=s(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");An.enterScope=function(t){this.scopeStack.push(new iP(t))};An.exitScope=function(){this.scopeStack.pop()};An.treatFunctionsAsVarInScope=function(t){return t.flags&Hs||!this.inModule&&t.flags&Jm};An.declareName=function(t,e,i){var n=!1;if(e===Di){var o=this.currentScope();n=o.lexical.indexOf(t)>-1||o.functions.indexOf(t)>-1||o.var.indexOf(t)>-1,o.lexical.push(t),this.inModule&&o.flags&Jm&&delete this.undefinedExports[t]}else if(e===mE){var r=this.currentScope();r.lexical.push(t)}else if(e===hE){var l=this.currentScope();this.treatFunctionsAsVar?n=l.lexical.indexOf(t)>-1:n=l.lexical.indexOf(t)>-1||l.var.indexOf(t)>-1,l.functions.push(t)}else for(var f=this.scopeStack.length-1;f>=0;--f){var d=this.scopeStack[f];if(d.lexical.indexOf(t)>-1&&!(d.flags&fE&&d.lexical[0]===t)||!this.treatFunctionsAsVarInScope(d)&&d.functions.indexOf(t)>-1){n=!0;break}if(d.var.push(t),this.inModule&&d.flags&Jm&&delete this.undefinedExports[t],d.flags&Yv)break}n&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};An.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};An.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};An.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Yv)return e}};An.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Yv&&!(e.flags&pE))return e}};var lw=s(function(e,i,n){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new cw(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),Qm=Se.prototype;Qm.startNode=function(){return new lw(this,this.start,this.startLoc)};Qm.startNodeAt=function(t,e){return new lw(this,t,e)};function yE(t,e,i,n){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=n),this.options.ranges&&(t.range[1]=i),t}s(yE,"finishNodeAt");Qm.finishNode=function(t,e){return yE.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Qm.finishNodeAt=function(t,e,i,n){return yE.call(this,t,e,i,n)};Qm.copyNode=function(t){var e=new lw(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var gE="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",wE=gE+" Extended_Pictographic",vE=wE,TE=vE+" EBase EComp EMod EPres ExtPict",kE=TE,nP=kE,oP={9:gE,10:wE,11:vE,12:TE,13:kE,14:nP},rP="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",sP={9:"",10:"",11:"",12:"",13:"",14:rP},iE="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",IE="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",SE=IE+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",EE=SE+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",CE=EE+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",NE=CE+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",aP=NE+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",cP={9:IE,10:SE,11:EE,12:CE,13:NE,14:aP},PE={};function uP(t){var e=PE[t]={binary:Pn(oP[t]+" "+iE),binaryOfStrings:Pn(sP[t]),nonBinary:{General_Category:Pn(iE),Script:Pn(cP[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}s(uP,"buildUnicodeData");for(nw=0,Av=[9,10,11,12,13,14];nw<Av.length;nw+=1)nE=Av[nw],uP(nE);var nE,nw,Av,M=Se.prototype,aw=s(function(e,i){this.parent=e,this.base=i||this},"BranchID");aw.prototype.separatedFrom=s(function(e){for(var i=this;i;i=i.parent)for(var n=e;n;n=n.parent)if(i.base===n.base&&i!==n)return!0;return!1},"separatedFrom");aw.prototype.sibling=s(function(){return new aw(this.parent,this.base)},"sibling");var mi=s(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=PE[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null},"RegExpValidationState");mi.prototype.reset=s(function(e,i,n){var o=n.indexOf("v")!==-1,r=n.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=n,o&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=r&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=r&&this.parser.options.ecmaVersion>=9)},"reset");mi.prototype.raise=s(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");mi.prototype.at=s(function(e,i){i===void 0&&(i=!1);var n=this.source,o=n.length;if(e>=o)return-1;var r=n.charCodeAt(e);if(!(i||this.switchU)||r<=55295||r>=57344||e+1>=o)return r;var l=n.charCodeAt(e+1);return l>=56320&&l<=57343?(r<<10)+l-56613888:r},"at");mi.prototype.nextIndex=s(function(e,i){i===void 0&&(i=!1);var n=this.source,o=n.length;if(e>=o)return o;var r=n.charCodeAt(e),l;return!(i||this.switchU)||r<=55295||r>=57344||e+1>=o||(l=n.charCodeAt(e+1))<56320||l>57343?e+1:e+2},"nextIndex");mi.prototype.current=s(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");mi.prototype.lookahead=s(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");mi.prototype.advance=s(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");mi.prototype.eat=s(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");mi.prototype.eatChars=s(function(e,i){i===void 0&&(i=!1);for(var n=this.pos,o=0,r=e;o<r.length;o+=1){var l=r[o],f=this.at(n,i);if(f===-1||f!==l)return!1;n=this.nextIndex(n,i)}return this.pos=n,!0},"eatChars");M.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,n=!1,o=!1,r=0;r<i.length;r++){var l=i.charAt(r);e.indexOf(l)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(l,r+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),l==="u"&&(n=!0),l==="v"&&(o=!0)}this.options.ecmaVersion>=15&&n&&o&&this.raise(t.start,"Invalid regular expression flag")};function lP(t){for(var e in t)return!0;return!1}s(lP,"hasProp");M.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&lP(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))};M.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var n=i[e];t.groupNames[n]||t.raise("Invalid named capture referenced")}};M.regexp_disjunction=function(t){var e=this.options.ecmaVersion>=16;for(e&&(t.branchID=new aw(t.branchID,null)),this.regexp_alternative(t);t.eat(124);)e&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);e&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};M.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};M.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};M.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};M.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};M.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};M.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var n=0,o=-1;if(this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue),t.eat(125)))return o!==-1&&o<n&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};M.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};M.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};M.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};M.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};M.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};M.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};M.regexp_eatSyntaxCharacter=function(t){var e=t.current();return RE(e)?(t.lastIntValue=e,t.advance(),!0):!1};function RE(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}s(RE,"isSyntaxCharacter");M.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!RE(i);)t.advance();return t.pos!==e};M.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};M.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var e=this.options.ecmaVersion>=16,i=t.groupNames[t.lastStringValue];if(i)if(e)for(var n=0,o=i;n<o.length;n+=1){var r=o[n];r.separatedFrom(t.branchID)||t.raise("Duplicate capture group name")}else t.raise("Duplicate capture group name");e?(i||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}};M.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};M.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Rn(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Rn(t.lastIntValue);return!0}return!1};M.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,n=t.current(i);return t.advance(i),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(n=t.lastIntValue),pP(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)};function pP(t){return Ai(t,!0)||t===36||t===95}s(pP,"isRegExpIdentifierStart");M.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,n=t.current(i);return t.advance(i),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(n=t.lastIntValue),fP(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)};function fP(t){return Ws(t,!0)||t===36||t===95||t===8204||t===8205}s(fP,"isRegExpIdentifierPart");M.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};M.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};M.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};M.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};M.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};M.regexp_eatZero=function(t){return t.current()===48&&!pw(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};M.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};M.regexp_eatControlLetter=function(t){var e=t.current();return AE(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function AE(t){return t>=65&&t<=90||t>=97&&t<=122}s(AE,"isControlLetter");M.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,n=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var o=t.lastIntValue;if(n&&o>=55296&&o<=56319){var r=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var l=t.lastIntValue;if(l>=56320&&l<=57343)return t.lastIntValue=(o-55296)*1024+(l-56320)+65536,!0}t.pos=r,t.lastIntValue=o}return!0}if(n&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&dP(t.lastIntValue))return!0;n&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function dP(t){return t>=0&&t<=1114111}s(dP,"isValidUnicode");M.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};M.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var ME=0,Mi=1,It=2;M.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(hP(e))return t.lastIntValue=-1,t.advance(),Mi;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var n;if(t.eat(123)&&(n=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&n===It&&t.raise("Invalid property name"),n;t.raise("Invalid property name")}return ME};function hP(t){return t===100||t===68||t===115||t===83||t===119||t===87}s(hP,"isCharacterClassEscape");M.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var n=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,n),Mi}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,o)}return ME};M.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){Xm(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};M.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return Mi;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return It;t.raise("Invalid property name")};M.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";DE(e=t.current());)t.lastStringValue+=Rn(e),t.advance();return t.lastStringValue!==""};function DE(t){return AE(t)||t===95}s(DE,"isUnicodePropertyNameCharacter");M.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";mP(e=t.current());)t.lastStringValue+=Rn(e),t.advance();return t.lastStringValue!==""};function mP(t){return DE(t)||pw(t)}s(mP,"isUnicodePropertyValueCharacter");M.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};M.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===It&&t.raise("Negated character class may contain strings"),!0}return!1};M.regexp_classContents=function(t){return t.current()===93?Mi:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),Mi)};M.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};M.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||BE(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var n=t.current();return n!==93?(t.lastIntValue=n,t.advance(),!0):!1};M.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};M.regexp_classSetExpression=function(t){var e=Mi,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===It&&(e=It);for(var n=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==It&&(e=Mi);continue}t.raise("Invalid character in character class")}if(n!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(n!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===It&&(e=It)}};M.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var n=t.lastIntValue;return i!==-1&&n!==-1&&i>n&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};M.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?Mi:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};M.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),n=this.regexp_classContents(t);if(t.eat(93))return i&&n===It&&t.raise("Negated character class may contain strings"),n;t.pos=e}if(t.eat(92)){var o=this.regexp_eatCharacterClassEscape(t);if(o)return o;t.pos=e}return null};M.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};M.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===It&&(e=It);return e};M.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?Mi:It};M.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&_P(i)||bP(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function _P(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}s(_P,"isClassSetReservedDoublePunctuatorCharacter");function bP(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}s(bP,"isClassSetSyntaxCharacter");M.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return xP(e)?(t.lastIntValue=e,t.advance(),!0):!1};function xP(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}s(xP,"isClassSetReservedPunctuator");M.regexp_eatClassControlLetter=function(t){var e=t.current();return pw(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};M.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};M.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;pw(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function pw(t){return t>=48&&t<=57}s(pw,"isDecimalDigit");M.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;LE(i=t.current());)t.lastIntValue=16*t.lastIntValue+OE(i),t.advance();return t.pos!==e};function LE(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}s(LE,"isHexDigit");function OE(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}s(OE,"hexToInt");M.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};M.regexp_eatOctalDigit=function(t){var e=t.current();return BE(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function BE(t){return t>=48&&t<=55}s(BE,"isOctalDigit");M.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var n=0;n<e;++n){var o=t.current();if(!LE(o))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+OE(o),t.advance()}return!0};var Hv=s(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new cw(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),J=Se.prototype;J.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Hv(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};J.getToken=function(){return this.next(),new Hv(this)};typeof Symbol<"u"&&(J[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===h.eof,value:e}}}});J.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(h.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};J.readToken=function(t){return Ai(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};J.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};J.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var n=void 0,o=e;(n=sE(this.input,o,this.pos))>-1;)++this.curLine,o=this.lineStart=n;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};J.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!js(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};J.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&aE.test(String.fromCharCode(t)))++this.pos;else break e}}};J.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};J.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(h.ellipsis)):(++this.pos,this.finishToken(h.dot))};J.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(h.assign,2):this.finishOp(h.slash,1)};J.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,n=t===42?h.star:h.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,n=h.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(h.assign,i+1):this.finishOp(n,i)};J.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(h.assign,3)}return this.finishOp(t===124?h.logicalOR:h.logicalAND,2)}return e===61?this.finishOp(h.assign,2):this.finishOp(t===124?h.bitwiseOR:h.bitwiseAND,1)};J.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(h.assign,2):this.finishOp(h.bitwiseXOR,1)};J.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||St.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(h.incDec,2):e===61?this.finishOp(h.assign,2):this.finishOp(h.plusMin,1)};J.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(h.assign,i+1):this.finishOp(h.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(h.relational,i))};J.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(h.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(h.arrow)):this.finishOp(t===61?h.eq:h.prefix,1)};J.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(h.questionDot,2)}if(e===63){if(t>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(h.assign,3)}return this.finishOp(h.coalesce,2)}}return this.finishOp(h.question,1)};J.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),Ai(e,!0)||e===92))return this.finishToken(h.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Rn(e)+"'")};J.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(h.parenL);case 41:return++this.pos,this.finishToken(h.parenR);case 59:return++this.pos,this.finishToken(h.semi);case 44:return++this.pos,this.finishToken(h.comma);case 91:return++this.pos,this.finishToken(h.bracketL);case 93:return++this.pos,this.finishToken(h.bracketR);case 123:return++this.pos,this.finishToken(h.braceL);case 125:return++this.pos,this.finishToken(h.braceR);case 58:return++this.pos,this.finishToken(h.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(h.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(h.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Rn(t)+"'")};J.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};J.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var n=this.input.charAt(this.pos);if(St.test(n)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(n==="[")e=!0;else if(n==="]"&&e)e=!1;else if(n==="/"&&!e)break;t=n==="\\"}++this.pos}var o=this.input.slice(i,this.pos);++this.pos;var r=this.pos,l=this.readWord1();this.containsEsc&&this.unexpected(r);var f=this.regexpState||(this.regexpState=new mi(this));f.reset(i,o,l),this.validateRegExpFlags(f),this.validateRegExpPattern(f);var d=null;try{d=new RegExp(o,l)}catch{}return this.finishToken(h.regexp,{pattern:o,flags:l,value:d})};J.readInt=function(t,e,i){for(var n=this.options.ecmaVersion>=12&&e===void 0,o=i&&this.input.charCodeAt(this.pos)===48,r=this.pos,l=0,f=0,d=0,x=e==null?1/0:e;d<x;++d,++this.pos){var b=this.input.charCodeAt(this.pos),g=void 0;if(n&&b===95){o&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),f===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),d===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),f=b;continue}if(b>=97?g=b-97+10:b>=65?g=b-65+10:b>=48&&b<=57?g=b-48:g=1/0,g>=t)break;f=b,l=l*t+g}return n&&f===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===r||e!=null&&this.pos-r!==e?null:l};function yP(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}s(yP,"stringToNumber");function UE(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}s(UE,"stringToBigInt");J.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=UE(this.input.slice(e,this.pos)),++this.pos):Ai(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,i)};J.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var n=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&n===110){var o=UE(this.input.slice(e,this.pos));return++this.pos,Ai(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,o)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),n===46&&!i&&(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),(n===69||n===101)&&!i&&(n=this.input.charCodeAt(++this.pos),(n===43||n===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),Ai(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var r=yP(this.input.slice(e,this.pos),i);return this.finishToken(h.num,r)};J.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};J.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===t)break;n===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):n===8232||n===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(js(n)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(h.string,e)};var VE={};J.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===VE)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};J.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw VE;this.raise(t,e)};J.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===h.template||this.type===h.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(h.dollarBraceL)):(++this.pos,this.finishToken(h.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(h.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(js(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};J.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(h.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};J.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Rn(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],o=parseInt(n,8);return o>255&&(n=n.slice(0,-1),o=parseInt(n,8)),this.pos+=n.length-1,e=this.input.charCodeAt(this.pos),(n!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-n.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(o)}return js(e)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(e)}};J.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};J.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,n=this.options.ecmaVersion>=6;this.pos<this.input.length;){var o=this.fullCharCodeAtPos();if(Ws(o,n))this.pos+=o<=65535?1:2;else if(o===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var r=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var l=this.readCodePoint();(e?Ai:Ws)(l,n)||this.invalidStringToken(r,"Invalid Unicode escape"),t+=Rn(l),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};J.readWord=function(){var t=this.readWord1(),e=h.name;return this.keywords.test(t)&&(e=Bv[t]),this.finishToken(e,t)};var gP="8.12.1";Se.acorn={Parser:Se,version:gP,defaultOptions:Dv,Position:zm,SourceLocation:cw,getLineInfo:uE,Node:lw,TokenType:te,tokTypes:h,keywordTypes:Bv,TokContext:jt,tokContexts:he,isIdentifierChar:Ws,isIdentifierStart:Ai,Token:Hv,isNewLine:js,lineBreak:St,lineBreakG:GN,nonASCIIwhitespace:aE};function Gv(t,e){return Se.parse(t,e)}s(Gv,"parse");var wP=function(t,e,i,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,i):o?o.value=i:e.set(t,i),i},vP=function(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)},fw,Li=class{constructor(){fw.set(this,[]),this.visitor=new Fs,this.scope=this.visitor.scope,this.scope.set("print",e=>console.log(...e)),this.defineObject("console",console),this.defineObject("Math",Math),this.defineObject("String",String),this.defineObject("Number",Number),this.defineObject("Array",Array),this.defineObject("Date",Date)}defineObject(e,i){this.visitor.on(e,(n,o)=>{if(n.type==="Identifier")return i;if(n.type==="CallExpression"&&n.callee.type==="MemberExpression"){let r=o.visitNode(n.callee.property),l=n.arguments.map(d=>o.visitNode(d)),f=i[r];return f?f.apply(i,l):"__continue_exec"}return"__continue_exec"})}evaluate(e){try{let i=Gv(e,{ecmaVersion:2020});wP(this,fw,i.body,"f")}catch(i){throw new di(i.message)}return this.visitor.setAST(vP(this,fw,"f")),this.visitor.run()}static parseScript(e){try{return Gv(e,{ecmaVersion:2020})}catch(i){throw new di(i.message)}}};s(Li,"Jinter");fw=new WeakMap;var Ho,dw,TP="Utils",V=class{static load(e){k(Ho,Ho,e,"f",dw)}static get shim(){if(!p(Ho,Ho,"f",dw))throw new Error("Platform is not loaded");return p(Ho,Ho,"f",dw)}};s(V,"Platform");Ho=V;dw={value:void 0};var _=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=V.shim.info.version}};s(_,"InnertubeError");var _t=class extends _{};s(_t,"ParsingError");var e_=class extends _{};s(e_,"MissingParamError");var we=class extends _{};s(we,"OAuth2Error");var Ht=class extends Error{};s(Ht,"PlayerError");var Go=class extends Error{};s(Go,"SessionError");var Yr=class extends Error{};s(Yr,"ChannelError");function c_(t,e){return Reflect.ownKeys(t).some(n=>{let o=e[n]instanceof c;return!o&&typeof e[n]=="object"?JSON.stringify(t[n])===JSON.stringify(e[n]):t[n]===(o?e[n].toString():e[n])})}s(c_,"deepCompare");function He(t,e,i){let n=new RegExp(`${Kv(e)}(.*?)${Kv(i)}`,"s"),o=t.match(n);return o?o[1]:void 0}s(He,"getStringBetweenStrings");function Kv(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}s(Kv,"escapeStringRegexp");function Yn(t){let e=$S[t],i=Math.floor(Math.random()*e.length);return e[i]}s(Yn,"getRandomUserAgent");async function Ww(t){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),n=[i,t,e].join(" "),o=await V.shim.sha1Hash(n);return["SAPISIDHASH",[i,o].join("_")].join(" ")}s(Ww,"generateSidAuth");function dt(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let n=0;n<t;n++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}s(dt,"generateRandomString");function Pe(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}s(Pe,"timeToSeconds");function _v(...t){let e=new Ui;for(let i of t)if(!!i)for(let n of i){let o=e.get(n[0]);if(o){e.set(n[0],[...o,...n[1]]);continue}e.set(...n)}return e}s(_v,"concatMemos");function X(t){for(let[e,i]of Object.entries(t))if(!i)throw new e_(`${e} is missing`)}s(X,"throwIfMissing");function kP(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}s(kP,"hasKeys");async function*Vw(t){let e=t.getReader();try{for(;;){let{done:i,value:n}=await e.read();if(i)return;yield n}}finally{e.releaseLock()}}s(Vw,"streamToIterable");var IP=s((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),n=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,o=[...n],r=e!=null&&e.body?typeof e.body=="string"?n.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",l=o.length>0?`${o.map(([f,d])=>`    ${f}: ${d}`).join(`
`)}`:"    (none)";return L.warn(TP,`Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${l}
' + 
    '  body:
${r}`),V.shim.fetch(t,e)},"debugFetch");function Ie(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}s(Ie,"u8ToBase64");function Zw(t){let e=t.replace(/-/g,"+").replace(/_/g,"/"),i=e.padEnd(e.length+(4-e.length%4)%4,"=");return new Uint8Array(atob(i).split("").map(n=>n.charCodeAt(0)))}s(Zw,"base64ToU8");function Ke(t){return!("emoji"in t)}s(Ke,"isTextRun");function jw(t,e,i=!1){let n=i?`(^|\\s?)\\b${e}\\b=([^;]+)`:`(^|s?)${e}=([^;]+)`,o=t.match(new RegExp(n));return o?o[2]:void 0}s(jw,"getCookie");function $v(t,e){let{name:i,includes:n,regexp:o}=e,l=[Li.parseScript(t)];for(let f=0;f<l.length;f++){let d=l[f];if(d.type==="ExpressionStatement"&&d.expression.type==="AssignmentExpression"&&d.expression.left.type==="Identifier"&&d.expression.right.type==="FunctionExpression"){let x=t.substring(d.start,d.end);if(i&&d.expression.left.name===i||n&&x.indexOf(n)>-1||o&&o.test(x))return{start:d.start,end:d.end,name:d.expression.left.name,node:d,result:x}}for(let x in d){let b=d[x];Array.isArray(b)?l.push(...b):typeof b=="object"&&b!==null&&l.push(b)}}}s($v,"findFunction");async function qv(t){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(n){let o=new Uint8Array(n),r=[];for(let l=0;l<o.length;++l)r.push(e[o[l]]);return r.join("")}return s(i,"hex"),i(await crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))}s(qv,"sha1Hash");var hw={name:"youtubei.js",version:"11.0.1",description:"A JavaScript client for YouTube's private API, known as InnerTube.",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"react-native":["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"],"cf-worker":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js","react-native":"./dist/src/platform/react-native.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./react-native":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/react-native.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"},"./cf-worker":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/cf-worker.js"}},author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)","Absidue (https://github.com/absidue)"],scripts:{test:"jest --verbose",lint:"eslint ./src","lint:fix":"eslint --fix ./src",clean:"rimraf ./dist ./bundle/browser.js ./bundle/browser.min.js ./bundle/node.cjs ./bundle/cf-worker.js ./bundle/react-native.js ./deno",build:"npm run clean && npm run build:parser-map && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod && npm run bundle:cf-worker && npm run bundle:react-native","build:esm":"tspc","build:deno":`cpy ./src ./deno && cpy ./protos ./deno && esbuild ./src/utils/DashManifest.tsx --keep-names --format=esm --platform=neutral --target=es2020 --outfile=./deno/src/utils/DashManifest.js && cpy ./package.json ./deno && replace ".js';" ".ts';" ./deno -r && replace '.js";' '.ts";' ./deno -r && replace "'./DashManifest.ts';" "'./DashManifest.js';" ./deno -r && replace "'jintr';" "'jsr:@luanrt/jintr';" ./deno -r && replace "@bufbuild/protobuf/wire" "https://esm.sh/@bufbuild/protobuf@2.0.0/wire" ./deno -r`,"build:proto":"rimraf ./protos/generated && node ./dev-scripts/generate-proto.mjs","build:parser-map":"node ./dev-scripts/gen-parser-map.mjs","bundle:node":'esbuild ./dist/src/platform/node.js --bundle --target=node16 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:undici --external:linkedom --external:tslib --banner:js="/* eslint-disable */"',"bundle:browser":'esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome70 --keep-names --format=esm --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:react-native":"esbuild ./dist/src/platform/react-native.js --bundle --target=es2020 --keep-names --format=esm --platform=neutral --define:global=globalThis --conditions=module --outfile=./bundle/react-native.js","bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify","bundle:cf-worker":'esbuild ./dist/src/platform/cf-worker.js --banner:js="/* eslint-disable */" --bundle --target=es2020 --keep-names --format=esm --define:global=globalThis --conditions=module --outfile=./bundle/cf-worker.js --platform=node',"build:docs":"typedoc",prepare:"npm run build",watch:"tspc --watch"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},files:["dist/","bundle/","package.json","README.md","LICENSE"],license:"MIT",dependencies:{"@bufbuild/protobuf":"^2.0.0",jintr:"^3.0.2",tslib:"^2.5.0",undici:"^5.19.1"},overrides:{typescript:"^5.0.0"},devDependencies:{"@eslint/js":"^9.9.0","@types/estree":"^1.0.6","@types/glob":"^8.1.0","@types/jest":"^28.1.7","@types/node":"^17.0.45","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^9.9.0",glob:"^8.0.3",globals:"^15.9.0",jest:"^29.7.0",replace:"^1.2.2",rimraf:"^6.0.1","ts-jest":"^29.1.4","ts-patch":"^3.0.2","ts-proto":"^2.2.0","ts-transformer-inline-file":"^0.2.0",typedoc:"^0.26.7","typedoc-plugin-markdown":"^4.2.7",typescript:"^5.0.0","typescript-eslint":"^8.2.0"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["api","youtube","innertube","livechat","youtube-music","ytdl","youtube-studio","downloader","ytmusic"]};var Mn,Ye,YE,Ks,t_="OAuth2",mw=class{constructor(e){Mn.add(this),Ye.set(this,void 0),k(this,Ye,e,"f"),this.YTTV_URL=new URL("/tv",$.URLS.YT_BASE),this.AUTH_SERVER_CODE_URL=new URL("/o/oauth2/device/code",$.URLS.YT_BASE),this.AUTH_SERVER_TOKEN_URL=new URL("/o/oauth2/token",$.URLS.YT_BASE),this.AUTH_SERVER_REVOKE_TOKEN_URL=new URL("/o/oauth2/revoke",$.URLS.YT_BASE)}async init(e){if(e){this.setTokens(e),this.shouldRefreshToken()&&await this.refreshAccessToken(),p(this,Ye,"f").emit("auth",{credentials:this.oauth2_tokens});return}if(await p(this,Mn,"m",YE).call(this)){L.info(t_,"Loaded OAuth2 tokens from cache.",this.oauth2_tokens);return}this.client_id||(this.client_id=await this.getClientID());let n=await this.getDeviceAndUserCode();p(this,Ye,"f").emit("auth-pending",n),this.pollForAccessToken(n)}setTokens(e){let i=e;if(i.expires_in&&(i.expiry_date=new Date(Date.now()+i.expires_in*1e3).toISOString(),delete i.expires_in),!this.validateTokens(i))throw new we("Invalid tokens provided.");this.oauth2_tokens=i,i.client&&(L.info(t_,"Using provided client id and secret."),this.client_id=i.client)}async cacheCredentials(){var n;let i=new TextEncoder().encode(JSON.stringify(this.oauth2_tokens));await((n=p(this,Ye,"f").cache)==null?void 0:n.set("youtubei_oauth_credentials",i.buffer))}async removeCache(){var e;await((e=p(this,Ye,"f").cache)==null?void 0:e.remove("youtubei_oauth_credentials"))}async pollForAccessToken(e){if(!this.client_id)throw new we("Client ID is missing.");let{device_code:i,interval:n}=e,{client_id:o,client_secret:r}=this.client_id,l={client_id:o,client_secret:r,code:i,grant_type:"http://oauth.net/grant_type/device/1.0"},f=setInterval(async()=>{let x=await(await p(this,Mn,"a",Ks).fetch_function(this.AUTH_SERVER_TOKEN_URL,{body:JSON.stringify(l),method:"POST",headers:{"Content-Type":"application/json"}})).json();if(x.error){switch(x.error){case"access_denied":p(this,Ye,"f").emit("auth-error",new we("Access was denied.",x)),clearInterval(f);break;case"expired_token":p(this,Ye,"f").emit("auth-error",new we("The device code has expired.",x)),clearInterval(f);break;case"authorization_pending":case"slow_down":L.info(t_,"Polling for access token...");break;default:p(this,Ye,"f").emit("auth-error",new we("Server returned an unexpected error.",x)),clearInterval(f);break}return}this.setTokens(x),p(this,Ye,"f").emit("auth",{credentials:this.oauth2_tokens}),clearInterval(f)},n*1e3)}async revokeCredentials(){if(!this.oauth2_tokens)throw new we("Access token not found");await this.removeCache();let e=this.AUTH_SERVER_REVOKE_TOKEN_URL;return e.searchParams.set("token",this.oauth2_tokens.access_token),p(this,Ye,"f").http.fetch_function(e,{method:"POST"})}async refreshAccessToken(){if(this.client_id||(this.client_id=await this.getClientID()),!this.oauth2_tokens)throw new we("No tokens available to refresh.");let{client_id:e,client_secret:i}=this.client_id,{refresh_token:n}=this.oauth2_tokens,o={client_id:e,client_secret:i,refresh_token:n,grant_type:"refresh_token"},r=await p(this,Mn,"a",Ks).fetch_function(this.AUTH_SERVER_TOKEN_URL,{body:JSON.stringify(o),method:"POST",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new we(`Failed to refresh access token: ${r.status}`);let l=await r.json();if(l.error_code)throw new we("Authorization server returned an error",l);this.oauth2_tokens.access_token=l.access_token,this.oauth2_tokens.expiry_date=new Date(Date.now()+l.expires_in*1e3).toISOString(),p(this,Ye,"f").emit("update-credentials",{credentials:this.oauth2_tokens})}async getDeviceAndUserCode(){if(!this.client_id)throw new we("Client ID is missing.");let{client_id:e}=this.client_id,i={client_id:e,scope:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",device_id:V.shim.uuidv4(),device_model:"ytlr::"},n=await p(this,Mn,"a",Ks).fetch_function(this.AUTH_SERVER_CODE_URL,{body:JSON.stringify(i),method:"POST",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new we(`Failed to get device/user code: ${n.status}`);let o=await n.json();if(o.error_code)throw new we("Authorization server returned an error",o);return o}async getClientID(){let e=await p(this,Mn,"a",Ks).fetch_function(this.YTTV_URL,{headers:{"User-Agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version",Referer:"https://www.youtube.com/tv","Accept-Language":"en-US"}});if(!e.ok)throw new we(`Failed to get client ID: ${e.status}`);let i=await e.text(),n;if((n=$.OAUTH.REGEX.TV_SCRIPT.exec(i))!==null){L.info(t_,`Got YouTubeTV script URL (${n[1]})`);let o=await p(this,Mn,"a",Ks).fetch(n[1],{baseURL:$.URLS.YT_BASE});if(!o.ok)throw new we(`TV script request failed with status code ${o.status}`);let l=(await o.text()).match($.OAUTH.REGEX.CLIENT_IDENTITY);if(!l||!l.groups)throw new we("Could not obtain client ID.");let{client_id:f,client_secret:d}=l.groups;return L.info(t_,`Client identity retrieved (clientId=${f}, clientSecret=${d}).`),{client_id:f,client_secret:d}}throw new we("Could not obtain script URL.")}shouldRefreshToken(){return this.oauth2_tokens?Date.now()>new Date(this.oauth2_tokens.expiry_date).getTime():!1}validateTokens(e){let i=Boolean(e.access_token)&&Boolean(e.expiry_date)&&Boolean(e.refresh_token);return typeof e.access_token=="string"&&typeof e.expiry_date=="string"&&typeof e.refresh_token=="string"&&i}};s(mw,"OAuth2");Ye=new WeakMap,Mn=new WeakSet,YE=s(async function(){var o;let e=await((o=p(this,Ye,"f").cache)==null?void 0:o.get("youtubei_oauth_credentials"));if(!e)return!1;let i=new TextDecoder,n=JSON.parse(i.decode(e));return this.setTokens(n),p(this,Ye,"f").emit("auth",{credentials:n}),!0},"_OAuth2_loadFromCache"),Ks=s(function(){return p(this,Ye,"f").http},"_OAuth2_http_get");var zv=mw;var i_,FE,WE,jE,_w=class{constructor(e){i_.add(this),this.session=e}async stats(e,i,n){let o=new URL(e);o.searchParams.set("ver","2"),o.searchParams.set("c",i.client_name.toLowerCase()),o.searchParams.set("cbrver",i.client_version),o.searchParams.set("cver",i.client_version);for(let l of Object.keys(n))o.searchParams.set(l,n[l]);return await this.session.http.fetch(o)}async execute(e,i){var l,f;let n;if(i&&!i.protobuf){if(n={...i},Reflect.has(n,"browseId")&&p(this,i_,"m",jE).call(this,n.browseId)&&!this.session.logged_in)throw new _("You must be signed in to perform this operation.");Reflect.has(n,"override_endpoint")&&delete n.override_endpoint,Reflect.has(n,"parse")&&delete n.parse,Reflect.has(n,"request")&&delete n.request,Reflect.has(n,"clientActions")&&delete n.clientActions,Reflect.has(n,"settingItemIdForClient")&&delete n.settingItemIdForClient,Reflect.has(n,"action")&&(n.actions=[n.action],delete n.action),Reflect.has(n,"boolValue")&&(n.newValue={boolValue:n.boolValue},delete n.boolValue),Reflect.has(n,"token")&&(n.continuation=n.token,delete n.token),(n==null?void 0:n.client)==="YTMUSIC"&&(n.isAudioOnly=!0)}else i&&(n=i.serialized_data);let o=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,r=await this.session.http.fetch(o,{method:"POST",body:i!=null&&i.protobuf?n:JSON.stringify(n||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let d=u.parseResponse(await r.json());if(p(this,i_,"m",WE).call(this,d)&&((f=(l=d.on_response_received_actions)==null?void 0:l.first())==null?void 0:f.type)==="navigateAction"){let x=d.on_response_received_actions.firstOfType(pn);x&&(d=await x.endpoint.call(this,{parse:!0}))}return d}return p(this,i_,"m",FE).call(this,r)}};s(_w,"Actions");i_=new WeakSet,FE=s(async function(e){return{success:e.ok,status_code:e.status,data:JSON.parse(await e.text())}},"_Actions_wrap"),WE=s(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),jE=s(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEplaylist_aggregation","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var Jv=_w;var Oi="Player",ot=class{constructor(e,i,n,o){this.player_id=e,this.sts=i,this.nsig_sc=o,this.sig_sc=n}static async create(e,i=V.shim.fetch,n){let o=new URL("/iframe_api",$.URLS.YT_BASE),r=await i(o);if(!r.ok)throw new Ht(`Failed to get player id: ${r.status} (${r.statusText})`);let l=await r.text(),f=He(l,"player\\/","\\/");if(L.info(Oi,`Got player id (${f}). Checking for cached players..`),!f)throw new Ht("Failed to get player id");if(e){let E=await ot.fromCache(e,f);if(E)return L.info(Oi,"Found up-to-date player data in cache."),E.po_token=n,E}let d=new URL(`/s/player/${f}/player_ias.vflset/en_US/base.js`,$.URLS.YT_BASE);L.info(Oi,`Could not find any cached player. Will download a new player from ${d}.`);let x=await i(d,{headers:{"user-agent":Yn("desktop")}});if(!x.ok)throw new Ht(`Failed to get player data: ${x.status}`);let b=await x.text(),g=this.extractSigTimestamp(b),w=this.extractSigSourceCode(b),T=this.extractNSigSourceCode(b);L.info(Oi,`Got signature timestamp (${g}) and algorithms needed to decipher signatures.`);let S=await ot.fromSource(f,g,e,w,T);return S.po_token=n,S}decipher(e,i,n,o){if(e=e||i||n,!e)throw new Ht("No valid URL to decipher");let r=new URLSearchParams(e),l=new URL(r.get("url")||e);if(this.sig_sc&&(i||n)){let b=V.shim.eval(this.sig_sc,{sig:r.get("s")});if(L.info(Oi,`Transformed signature from ${r.get("s")} to ${b}.`),typeof b!="string")throw new Ht("Failed to decipher signature");let g=r.get("sp");g?l.searchParams.set(g,b):l.searchParams.set("signature",b)}let f=l.searchParams.get("n");if(this.nsig_sc&&f){let b;if(o&&o.has(f))b=o.get(f);else{if(b=V.shim.eval(this.nsig_sc,{nsig:f}),L.info(Oi,`Transformed n signature from ${f} to ${b}.`),typeof b!="string")throw new Ht("Failed to decipher nsig");b.startsWith("enhanced_except_")?L.warn(Oi,"Something went wrong while deciphering nsig."):o&&o.set(f,b)}l.searchParams.set("n",b)}switch(l.searchParams.get("sabr")!=="1"&&this.po_token&&l.searchParams.set("pot",this.po_token),l.searchParams.get("c")){case"WEB":l.searchParams.set("cver",$.CLIENTS.WEB.VERSION);break;case"WEB_REMIX":l.searchParams.set("cver",$.CLIENTS.YTMUSIC.VERSION);break;case"WEB_KIDS":l.searchParams.set("cver",$.CLIENTS.WEB_KIDS.VERSION);break;case"TVHTML5":l.searchParams.set("cver",$.CLIENTS.TV.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":l.searchParams.set("cver",$.CLIENTS.TV_EMBEDDED.VERSION);break;case"WEB_EMBEDDED_PLAYER":l.searchParams.set("cver",$.CLIENTS.WEB_EMBEDDED.VERSION);break}let x=l.toString();return L.info(Oi,`Deciphered URL: ${x}`),l.toString()}static async fromCache(e,i){let n=await e.get(i);if(!n)return null;let o=new DataView(n);if(o.getUint32(0,!0)!==ot.LIBRARY_VERSION)return null;let l=o.getUint32(4,!0),f=o.getUint32(8,!0),d=n.slice(12,12+f),x=n.slice(12+f),b=At.decompress(new TextDecoder().decode(d)),g=At.decompress(new TextDecoder().decode(x));return new ot(i,l,b,g)}static async fromSource(e,i,n,o,r){let l=new ot(e,i,o,r);return await l.cache(n),l}async cache(e){if(!e||!this.sig_sc||!this.nsig_sc)return;let i=new TextEncoder,n=i.encode(At.compress(this.sig_sc)),o=i.encode(At.compress(this.nsig_sc)),r=new ArrayBuffer(12+n.byteLength+o.byteLength),l=new DataView(r);l.setUint32(0,ot.LIBRARY_VERSION,!0),l.setUint32(4,this.sts,!0),l.setUint32(8,n.byteLength,!0),new Uint8Array(r).set(n,12),new Uint8Array(r).set(o,12+n.byteLength),await e.set(this.player_id,new Uint8Array(r))}static extractSigTimestamp(e){return parseInt(He(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var r,l,f;let i=He(e,'function(a){a=a.split("")','return a.join("")}'),n=(f=(l=(r=i==null?void 0:i.split(/\.|\[/))==null?void 0:r[0])==null?void 0:l.replace(";",""))==null?void 0:f.trim(),o=He(e,`var ${n}={`,"};");return(!o||!i)&&L.warn(Oi,"Failed to extract signature decipher algorithm."),`function descramble_sig(a) { a = a.split(""); let ${n}={${o}}${i} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=$v(e,{includes:"enhanced_except"});if(i)return`${i.result} ${i.name}(nsig);`}get url(){return new URL(`/s/player/${this.player_id}/player_ias.vflset/en_US/base.js`,$.URLS.YT_BASE).toString()}static get LIBRARY_VERSION(){return 11}};s(ot,"Player");var Ko,GE,KE,$E,HE,Xv;(function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV="TVHTML5",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER",t.WEB_EMBEDDED="WEB_EMBEDDED_PLAYER",t.WEB_CREATOR="WEB_CREATOR"})(Xv||(Xv={}));var $s="Session",n_=class extends Xs{constructor(e,i,n,o,r,l,f,d,x){super(),this.http=new Fw(this,l,f),this.actions=new Jv(this),this.oauth=new zv(this),this.logged_in=!!l,this.cache=d,this.account_index=o,this.key=i,this.api_version=n,this.context=e,this.player=r,this.po_token=x}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static async create(e={}){let{context:i,api_key:n,api_version:o,account_index:r}=await Ko.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user,e.cache,e.enable_session_cache,e.po_token);return new Ko(i,n,o,r,e.retrieve_player===!1?void 0:await ot.create(e.cache,e.fetch,e.po_token),e.cookie,e.fetch,e.cache,e.po_token)}static async fromCache(e,i){let n=await e.get("innertube_session_data");if(!n)return null;let o=new TextDecoder().decode(n.slice(4));try{let r=JSON.parse(At.decompress(o));return i.visitor_data&&(r.context.client.visitorData=i.visitor_data),i.lang&&(r.context.client.hl=i.lang),i.location&&(r.context.client.gl=i.location),i.on_behalf_of_user&&(r.context.user.onBehalfOfUser=i.on_behalf_of_user),r.context.client.timeZone=i.time_zone,r.context.client.platform=i.device_category.toUpperCase(),r.context.client.clientName=i.client_name,r.context.user.enableSafetyMode=i.enable_safety_mode,r}catch(r){return L.error($s,"Failed to parse session data from cache.",r),null}}static async getSessionData(e="",i="",n=0,o="",r=!1,l=!1,f="desktop",d=Xv.WEB,x=Intl.DateTimeFormat().resolvedOptions().timeZone,b=V.shim.fetch,g,w,T=!0,S){let E={lang:e,location:i,time_zone:x,device_category:f,client_name:d,enable_safety_mode:r,visitor_data:o,on_behalf_of_user:g,po_token:S},P;if(w&&T){let C=await this.fromCache(w,E);C&&(L.info($s,"Found session data in cache."),P=C)}if(!P){L.info($s,"Generating session data.");let C=z.WEB.API_KEY,Y=z.WEB.API_VERSION,F={hl:e||"en",gl:i||"US",remote_host:"",visitor_data:o||yi.encodeVisitorData(dt(11),Math.floor(Date.now()/1e3)),client_name:d,client_version:z.WEB.VERSION,device_category:f.toUpperCase(),os_name:"Windows",os_version:"10.0",time_zone:x,browser_name:"Chrome",browser_version:"125.0.0.0",device_make:"",device_model:"",enable_safety_mode:r};if(!l)try{let ie=await p(this,Ko,"m",KE).call(this,E,b);C=ie.api_key,Y=ie.api_version,F=ie.context_data}catch(ie){L.error($s,"Failed to retrieve session data from server. Session data generated locally will be used instead.",ie)}P={api_key:C,api_version:Y,context:p(this,Ko,"m",$E).call(this,F)},T&&await p(this,Ko,"m",GE).call(this,P,w)}return L.debug($s,"Session data:",P),{...P,account_index:n}}async signIn(e){return new Promise(async(i,n)=>{let o=s(r=>n(r),"error_handler");this.once("auth-error",o),this.once("auth",()=>{this.off("auth-error",o),this.logged_in=!0,i()});try{await this.oauth.init(e)}catch(r){n(r)}})}async signOut(){if(!this.logged_in)throw new _("You must be signed in to perform this operation.");let e=await this.oauth.revokeCredentials();return this.logged_in=!1,e}get client_version(){return this.context.client.clientVersion}get client_name(){return this.context.client.clientName}get lang(){return this.context.client.hl}};s(n_,"Session");Ko=n_,GE=s(async function(e,i){if(!i)return;L.info($s,"Compressing and caching session data.");let n=new TextEncoder().encode(At.compress(JSON.stringify(e))),o=new ArrayBuffer(4+n.byteLength);new DataView(o).setUint32(0,n.byteLength,!0),new Uint8Array(o).set(n,4),await i.set("innertube_session_data",new Uint8Array(o))},"_Session_storeSession"),KE=s(async function(e,i=V.shim.fetch){let n=dt(11);e.visitor_data&&(n=p(this,Ko,"m",HE).call(this,e.visitor_data));let o=new URL("/sw.js_data",Be.YT_BASE),r=await i(o,{headers:{"Accept-Language":e.lang||"en-US","User-Agent":Yn("desktop"),Accept:"*/*",Referer:`${Be.YT_BASE}/sw.js`,Cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${n};`}});if(!r.ok)throw new Go(`Failed to retrieve session data: ${r.status}`);let l=await r.text();if(!l.startsWith(")]}'"))throw new Go("Invalid JSPB response");let d=JSON.parse(l.replace(/^\)\]\}'/,""))[0][2],x=z.WEB.API_VERSION,[[b],g]=d,w=b[61],T=w[w.length-1];return{context_data:{hl:e.lang||b[0],gl:e.location||b[2],remote_host:b[3],visitor_data:e.visitor_data||b[13],client_name:e.client_name,client_version:b[16],os_name:b[17],os_version:b[18],time_zone:b[79]||e.time_zone,device_category:e.device_category,browser_name:b[86],browser_version:b[87],device_make:b[11],device_model:b[12],app_install_data:T,enable_safety_mode:e.enable_safety_mode},api_key:g,api_version:x}},"_Session_getSessionData"),$E=s(function(e){let i={client:{hl:e.hl||"en",gl:e.gl||"US",remoteHost:e.remote_host,screenDensityFloat:1,screenHeightPoints:1440,screenPixelDensity:1,screenWidthPoints:2560,visitorData:e.visitor_data,clientName:e.client_name,clientVersion:e.client_version,osName:e.os_name,osVersion:e.os_version,platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:Be.YT_BASE,deviceMake:e.device_make,deviceModel:e.device_model,browserName:e.browser_name,browserVersion:e.browser_version,utcOffsetMinutes:-Math.floor(new Date().getTimezoneOffset()),memoryTotalKbytes:"8000000",mainAppWebInfo:{graftUrl:Be.YT_BASE,pwaInstallabilityStatus:"PWA_INSTALLABILITY_STATUS_UNKNOWN",webDisplayMode:"WEB_DISPLAY_MODE_BROWSER",isWebNativeShareAvailable:!0}},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[]}};return e.app_install_data&&(i.client.configInfo={appInstallData:e.app_install_data}),e.on_behalf_of_user&&(i.user.onBehalfOfUser=e.on_behalf_of_user),i},"_Session_buildContext"),HE=s(function(e){return yi.decodeVisitorData(e).id},"_Session_getVisitorID");var Zv=n_;var rT={};D(rT,{Kids:()=>xw,Music:()=>ww,Studio:()=>Iw});var Fe,bw=class{constructor(e){Fe.set(this,void 0),k(this,Fe,e,"f")}async search(e){let i=await p(this,Fe,"f").actions.execute(ft.PATH,ft.build({client:"YTKIDS",query:e}));return new Cn(p(this,Fe,"f").actions,i)}async getInfo(e){var d;let i=qe.build({sts:(d=p(this,Fe,"f").player)==null?void 0:d.sts,client:"YTKIDS",video_id:e}),n=be.build({video_id:e,client:"YTKIDS"}),o=p(this,Fe,"f").actions.execute(qe.PATH,i),r=p(this,Fe,"f").actions.execute(be.PATH,n),l=await Promise.all([o,r]),f=dt(16);return new Nn(l,p(this,Fe,"f").actions,f)}async getChannel(e){let i=await p(this,Fe,"f").actions.execute(O.PATH,O.build({browse_id:e,client:"YTKIDS"}));return new pi(p(this,Fe,"f").actions,i)}async getHomeFeed(){let e=await p(this,Fe,"f").actions.execute(O.PATH,O.build({browse_id:"FEkids_home",client:"YTKIDS"}));return new fi(p(this,Fe,"f").actions,e)}async blockChannel(e){var x,b;if(!p(this,Fe,"f").logged_in)throw new _("You must be signed in to perform this operation.");let i=Yo.build({channel_id:e}),r={contents:(await p(this,Fe,"f").actions.execute(Yo.PATH,i)).data.command.confirmDialogEndpoint.content,engagementPanels:[]},f=(x=u.parseResponse(r).contents_memo)==null?void 0:x.getType(Mr);if(!f)throw new _("Could not find any kids profiles or supervised accounts.");let d=[];for(let g of f)(b=g.block_button)!=null&&b.is_toggled||(g.setActions(p(this,Fe,"f").actions),d.push(await g.blockChannel()));return d}};s(bw,"Kids");Fe=new WeakMap;var xw=bw;var qs,o_,ne,qE,yw,gw=class{constructor(e){qs.add(this),o_.set(this,void 0),ne.set(this,void 0),k(this,o_,e,"f"),k(this,ne,e.actions,"f")}getInfo(e){var i,n,o;if(e instanceof gr)return p(this,qs,"m",yw).call(this,e.endpoint);if(e instanceof xt)return p(this,qs,"m",yw).call(this,(o=(n=(i=e.overlay)==null?void 0:i.content)==null?void 0:n.endpoint)!=null?o:e.endpoint);if(e instanceof m)return p(this,qs,"m",yw).call(this,e);if(typeof e=="string")return p(this,qs,"m",qE).call(this,e);throw new _("Invalid target, expected either a video id or a valid MusicTwoRowItem",e)}async search(e,i={}){X({query:e});let n;if(i.type&&i.type!=="all"){let r=g_.encode({filters:{musicSearchType:{[i.type]:!0}}});n=encodeURIComponent(Ie(r.finish()))}let o=await p(this,ne,"f").execute(ft.PATH,ft.build({query:e,client:"YTMUSIC",params:n}));return new Ug(o,p(this,ne,"f"),Reflect.has(i,"type")&&i.type!=="all")}async getHomeFeed(){let e=await p(this,ne,"f").execute(O.PATH,O.build({browse_id:"FEmusic_home",client:"YTMUSIC"}));return new Dg(e,p(this,ne,"f"))}async getExplore(){let e=await p(this,ne,"f").execute(O.PATH,O.build({client:"YTMUSIC",browse_id:"FEmusic_explore"}));return new Mg(e)}async getLibrary(){let e=await p(this,ne,"f").execute(O.PATH,O.build({client:"YTMUSIC",browse_id:"FEmusic_library_landing"}));return new Lg(e,p(this,ne,"f"))}async getArtist(e){if(X({artist_id:e}),!e.startsWith("UC")&&!e.startsWith("FEmusic_library_privately_owned_artist"))throw new _("Invalid artist id",e);let i=await p(this,ne,"f").execute(O.PATH,O.build({client:"YTMUSIC",browse_id:e}));return new Rg(i,p(this,ne,"f"))}async getAlbum(e){if(X({album_id:e}),!e.startsWith("MPR")&&!e.startsWith("FEmusic_library_privately_owned_release"))throw new _("Invalid album id",e);let i=await p(this,ne,"f").execute(O.PATH,O.build({client:"YTMUSIC",browse_id:e}));return new Cg(i)}async getPlaylist(e){X({playlist_id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=await p(this,ne,"f").execute(O.PATH,O.build({client:"YTMUSIC",browse_id:e}));return new os(i,p(this,ne,"f"))}async getUpNext(e,i=!0){var d,x,b;X({video_id:e});let o=(d=(await p(this,ne,"f").execute(be.PATH,{...be.build({video_id:e,client:"YTMUSIC"}),parse:!0})).contents_memo)==null?void 0:d.getType(pe),r=o==null?void 0:o.first();if(!r)throw new _("Could not find target tab.");let l=(x=r.content)==null?void 0:x.as(vr);if(!l||!l.content)throw new _("Music queue was empty, the given id is probably invalid.",l);let f=l.content.as(Jt);if(!f.playlist_id&&i){let g=f.contents.firstOfType(Hi);if(!g)throw new _("Automix item not found");let w=await((b=g.playlist_video)==null?void 0:b.endpoint.call(p(this,ne,"f"),{videoId:e,client:"YTMUSIC",parse:!0}));if(!w||!w.contents_memo)throw new _("Could not fetch automix");return w.contents_memo.getType(Jt).first()}return f}async getRelated(e){var f;X({video_id:e});let n=(f=(await p(this,ne,"f").execute(be.PATH,{...be.build({video_id:e,client:"YTMUSIC"}),parse:!0})).contents_memo)==null?void 0:f.getType(pe),o=n==null?void 0:n.matchCondition(d=>{var x,b;return((b=(x=d.endpoint.payload.browseEndpointContextSupportedConfigs)==null?void 0:x.browseEndpointContextMusicConfig)==null?void 0:b.pageType)==="MUSIC_PAGE_TYPE_TRACK_RELATED"});if(!o)throw new _("Could not find target tab.");let r=await o.endpoint.call(p(this,ne,"f"),{client:"YTMUSIC",parse:!0});if(!r.contents)throw new _("Unexpected response",r);return r.contents.item().as(G,Le)}async getLyrics(e){var f;X({video_id:e});let n=(f=(await p(this,ne,"f").execute(be.PATH,{...be.build({video_id:e,client:"YTMUSIC"}),parse:!0})).contents_memo)==null?void 0:f.getType(pe),o=n==null?void 0:n.matchCondition(d=>{var x,b;return((b=(x=d.endpoint.payload.browseEndpointContextSupportedConfigs)==null?void 0:x.browseEndpointContextMusicConfig)==null?void 0:b.pageType)==="MUSIC_PAGE_TYPE_TRACK_LYRICS"});if(!o)throw new _("Could not find target tab.");let r=await o.endpoint.call(p(this,ne,"f"),{client:"YTMUSIC",parse:!0});if(!r.contents)throw new _("Unexpected response",r);if(r.contents.item().type==="Message")throw new _(r.contents.item().as(Le).text.toString(),e);return r.contents.item().as(G).contents.firstOfType(sn)}async getRecap(){let e=await p(this,ne,"f").execute(O.PATH,O.build({client:"YTMUSIC_ANDROID",browse_id:"FEmusic_listening_review"}));return new Bg(e,p(this,ne,"f"))}async getSearchSuggestions(e){let i=await p(this,ne,"f").execute(Mo.PATH,{...Mo.build({input:e}),parse:!0});return i.contents_memo?i.contents_memo.getType(Ny):[]}};s(gw,"Music");o_=new WeakMap,ne=new WeakMap,qs=new WeakSet,qE=s(async function(e){var d;let i=qe.build({video_id:e,sts:(d=p(this,o_,"f").player)==null?void 0:d.sts,client:"YTMUSIC"}),n=be.build({video_id:e,client:"YTMUSIC"}),o=p(this,ne,"f").execute(qe.PATH,i),r=p(this,ne,"f").execute(be.PATH,n),l=await Promise.all([o,r]),f=dt(16);return new Hm(l,p(this,ne,"f"),f)},"_Music_fetchInfoFromVideoId"),yw=s(async function(e){var l;if(!e)throw new Error("This item does not have an endpoint.");let i=e.call(p(this,ne,"f"),{client:"YTMUSIC",playbackContext:{contentPlaybackContext:{signatureTimestamp:(l=p(this,o_,"f").player)==null?void 0:l.sts}}}),n=e.call(p(this,ne,"f"),{client:"YTMUSIC",enablePersistentPlaylistPanel:!0,override_endpoint:"/next"}),o=dt(16),r=await Promise.all([i,n]);return new Hm(r,p(this,ne,"f"),o)},"_Music_fetchInfoFromEndpoint");var ww=gw;function EP(){return{key:void 0,value:void 0}}s(EP,"createBaseKeyValuePair");var Dn={encode(t,e=new N){return t.key!==void 0&&e.uint32(10).string(t.key),t.value!==void 0&&e.uint32(18).string(t.value),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=EP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.key=i.string();continue;case 2:if(r!==18)break;o.value=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function CP(){return{profile:void 0,supportedCapabilities:[],disabledCapabilities:[],snapshot:void 0}}s(CP,"createBaseCapabilityInfo");var Qv={encode(t,e=new N){t.profile!==void 0&&e.uint32(10).string(t.profile);for(let i of t.supportedCapabilities)vw.encode(i,e.uint32(18).fork()).join();for(let i of t.disabledCapabilities)vw.encode(i,e.uint32(26).fork()).join();return t.snapshot!==void 0&&e.uint32(42).string(t.snapshot),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=CP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.profile=i.string();continue;case 2:if(r!==18)break;o.supportedCapabilities.push(vw.decode(i,i.uint32()));continue;case 3:if(r!==26)break;o.disabledCapabilities.push(vw.decode(i,i.uint32()));continue;case 5:if(r!==42)break;o.snapshot=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function NP(){return{capability:void 0,features:void 0,experimentFlags:void 0}}s(NP,"createBaseInnerTubeCapability");var vw={encode(t,e=new N){return t.capability!==void 0&&e.uint32(8).uint32(t.capability),t.features!==void 0&&e.uint32(16).uint32(t.features),t.experimentFlags!==void 0&&e.uint32(50).string(t.experimentFlags),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=NP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.capability=i.uint32();continue;case 2:if(r!==16)break;o.features=i.uint32();continue;case 6:if(r!==50)break;o.experimentFlags=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};var zE;(function(t){t[t.UNKNOWN_FORM_FACTOR=0]="UNKNOWN_FORM_FACTOR",t[t.FORM_FACTOR_VAL1=1]="FORM_FACTOR_VAL1",t[t.FORM_FACTOR_VAL2=2]="FORM_FACTOR_VAL2",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(zE||(zE={}));var JE;(function(t){t[t.UNKNOWN_CAMERA_TYPE=0]="UNKNOWN_CAMERA_TYPE",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(JE||(JE={}));var XE;(function(t){t[t.USER_INTERFACE_THEME_DARK=0]="USER_INTERFACE_THEME_DARK",t[t.USER_INTERFACE_THEME_LIGHT=1]="USER_INTERFACE_THEME_LIGHT",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(XE||(XE={}));var ZE;(function(t){t[t.STORE_DIGITAL_GOODS_API_SUPPORT_STATUS_VAL0=0]="STORE_DIGITAL_GOODS_API_SUPPORT_STATUS_VAL0",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ZE||(ZE={}));var QE;(function(t){t[t.PWA_INSTALLABILITY_STATUS_UNKNOWN=0]="PWA_INSTALLABILITY_STATUS_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(QE||(QE={}));var e1;(function(t){t[t.WEB_DISPLAY_MODE_UNKNOWN=0]="WEB_DISPLAY_MODE_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(e1||(e1={}));var t1;(function(t){t[t.NOTIFICATIONS_SETTING_UNKNOWN=0]="NOTIFICATIONS_SETTING_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(t1||(t1={}));var i1;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(i1||(i1={}));var n1;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(n1||(n1={}));var o1;(function(t){t[t.KPCM_UNKNOWN=0]="KPCM_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(o1||(o1={}));var r1;(function(t){t[t.YT_KIDS_NO_SEARCH_MODE_OFF=0]="YT_KIDS_NO_SEARCH_MODE_OFF",t[t.YT_KIDS_NO_SEARCH_MODE_ON=1]="YT_KIDS_NO_SEARCH_MODE_ON",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(r1||(r1={}));var s1;(function(t){t[t.YT_KIDS_AGE_UP_MODE_OFF=0]="YT_KIDS_AGE_UP_MODE_OFF",t[t.YT_KIDS_AGE_UP_MODE_ON=1]="YT_KIDS_AGE_UP_MODE_ON",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(s1||(s1={}));var a1;(function(t){t[t.YT_KIDS_CONTENT_DENSITY_VAL1=0]="YT_KIDS_CONTENT_DENSITY_VAL1",t[t.YT_KIDS_CONTENT_DENSITY_VAL2=1]="YT_KIDS_CONTENT_DENSITY_VAL2",t[t.YT_KIDS_CONTENT_DENSITY_VAL3=2]="YT_KIDS_CONTENT_DENSITY_VAL3",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(a1||(a1={}));var c1;(function(t){t[t.MPBM_UNKNOWN=0]="MPBM_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(c1||(c1={}));var u1;(function(t){t[t.MLMS_UNKNOWN=0]="MLMS_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(u1||(u1={}));var l1;(function(t){t[t.MAMS_UNKNOWN=0]="MAMS_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(l1||(l1={}));var p1;(function(t){t[t.UNKNOWN_STATUS=0]="UNKNOWN_STATUS",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(p1||(p1={}));var f1;(function(t){t[t.PIS_UNKNOWN=0]="PIS_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(f1||(f1={}));var d1;(function(t){t[t.WDM_UNKNOWN=0]="WDM_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(d1||(d1={}));var h1;(function(t){t[t.UNKNOWN_TIER=0]="UNKNOWN_TIER",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(h1||(h1={}));var m1;(function(t){t[t.SDGAS_UNKNOWN=0]="SDGAS_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(m1||(m1={}));function PP(){return{hl:void 0,gl:void 0,remoteHost:void 0,deviceId:void 0,debugDeviceIdOverride:void 0,carrierGeo:void 0,crackedHl:void 0,deviceMake:void 0,deviceModel:void 0,visitorData:void 0,userAgent:void 0,clientName:void 0,clientVersion:void 0,osName:void 0,osVersion:void 0,projectId:void 0,acceptLanguage:void 0,acceptRegion:void 0,originalUrl:void 0,rawDeviceId:void 0,configData:void 0,spacecastToken:void 0,internalGeo:void 0,screenWidthPoints:void 0,screenHeightPoints:void 0,screenWidthInches:void 0,screenHeightInches:void 0,screenPixelDensity:void 0,platform:void 0,spacecastClientInfo:void 0,clientFormFactor:void 0,forwardedFor:void 0,mobileDataPlanInfo:void 0,gmscoreVersionCode:void 0,webpSupport:void 0,cameraType:void 0,experimentsToken:void 0,windowWidthPoints:void 0,windowHeightPoints:void 0,configInfo:void 0,unpluggedLocationInfo:void 0,androidSdkVersion:void 0,screenDensityFloat:void 0,firstTimeSignInExperimentIds:void 0,utcOffsetMinutes:void 0,animatedWebpSupport:void 0,kidsAppInfo:void 0,musicAppInfo:void 0,tvAppInfo:void 0,internalGeoIp:void 0,unpluggedAppInfo:void 0,locationInfo:void 0,contentSizeCategory:void 0,fontScale:void 0,userInterfaceTheme:void 0,timeZone:void 0,homeGroupInfo:void 0,emlTemplateContext:void 0,coldAppBundleConfigData:void 0,browserName:void 0,browserVersion:void 0,locationPlayabilityToken:void 0,chipset:void 0,firmwareVersion:void 0,memoryTotalKbytes:void 0,mainAppWebInfo:void 0,notificationPermissionInfo:void 0,deviceBrand:void 0,glDeviceInfo:void 0}}s(PP,"createBaseClientInfo");var r_={encode(t,e=new N){return t.hl!==void 0&&e.uint32(10).string(t.hl),t.gl!==void 0&&e.uint32(18).string(t.gl),t.remoteHost!==void 0&&e.uint32(34).string(t.remoteHost),t.deviceId!==void 0&&e.uint32(50).string(t.deviceId),t.debugDeviceIdOverride!==void 0&&e.uint32(66).string(t.debugDeviceIdOverride),t.carrierGeo!==void 0&&e.uint32(82).string(t.carrierGeo),t.crackedHl!==void 0&&e.uint32(88).bool(t.crackedHl),t.deviceMake!==void 0&&e.uint32(98).string(t.deviceMake),t.deviceModel!==void 0&&e.uint32(106).string(t.deviceModel),t.visitorData!==void 0&&e.uint32(114).string(t.visitorData),t.userAgent!==void 0&&e.uint32(122).string(t.userAgent),t.clientName!==void 0&&e.uint32(128).int32(t.clientName),t.clientVersion!==void 0&&e.uint32(138).string(t.clientVersion),t.osName!==void 0&&e.uint32(146).string(t.osName),t.osVersion!==void 0&&e.uint32(154).string(t.osVersion),t.projectId!==void 0&&e.uint32(162).string(t.projectId),t.acceptLanguage!==void 0&&e.uint32(170).string(t.acceptLanguage),t.acceptRegion!==void 0&&e.uint32(178).string(t.acceptRegion),t.originalUrl!==void 0&&e.uint32(186).string(t.originalUrl),t.rawDeviceId!==void 0&&e.uint32(202).string(t.rawDeviceId),t.configData!==void 0&&e.uint32(218).string(t.configData),t.spacecastToken!==void 0&&e.uint32(250).string(t.spacecastToken),t.internalGeo!==void 0&&e.uint32(274).string(t.internalGeo),t.screenWidthPoints!==void 0&&e.uint32(296).int32(t.screenWidthPoints),t.screenHeightPoints!==void 0&&e.uint32(304).int32(t.screenHeightPoints),t.screenWidthInches!==void 0&&e.uint32(317).float(t.screenWidthInches),t.screenHeightInches!==void 0&&e.uint32(325).float(t.screenHeightInches),t.screenPixelDensity!==void 0&&e.uint32(328).int32(t.screenPixelDensity),t.platform!==void 0&&e.uint32(336).int32(t.platform),t.spacecastClientInfo!==void 0&&y1.encode(t.spacecastClientInfo,e.uint32(362).fork()).join(),t.clientFormFactor!==void 0&&e.uint32(368).int32(t.clientFormFactor),t.forwardedFor!==void 0&&e.uint32(386).string(t.forwardedFor),t.mobileDataPlanInfo!==void 0&&w1.encode(t.mobileDataPlanInfo,e.uint32(394).fork()).join(),t.gmscoreVersionCode!==void 0&&e.uint32(400).int32(t.gmscoreVersionCode),t.webpSupport!==void 0&&e.uint32(408).bool(t.webpSupport),t.cameraType!==void 0&&e.uint32(416).int32(t.cameraType),t.experimentsToken!==void 0&&e.uint32(434).string(t.experimentsToken),t.windowWidthPoints!==void 0&&e.uint32(440).int32(t.windowWidthPoints),t.windowHeightPoints!==void 0&&e.uint32(448).int32(t.windowHeightPoints),t.configInfo!==void 0&&v1.encode(t.configInfo,e.uint32(498).fork()).join(),t.unpluggedLocationInfo!==void 0&&T1.encode(t.unpluggedLocationInfo,e.uint32(506).fork()).join(),t.androidSdkVersion!==void 0&&e.uint32(512).int32(t.androidSdkVersion),t.screenDensityFloat!==void 0&&e.uint32(525).float(t.screenDensityFloat),t.firstTimeSignInExperimentIds!==void 0&&e.uint32(528).int32(t.firstTimeSignInExperimentIds),t.utcOffsetMinutes!==void 0&&e.uint32(536).int32(t.utcOffsetMinutes),t.animatedWebpSupport!==void 0&&e.uint32(544).bool(t.animatedWebpSupport),t.kidsAppInfo!==void 0&&k1.encode(t.kidsAppInfo,e.uint32(554).fork()).join(),t.musicAppInfo!==void 0&&C1.encode(t.musicAppInfo,e.uint32(562).fork()).join(),t.tvAppInfo!==void 0&&N1.encode(t.tvAppInfo,e.uint32(570).fork()).join(),t.internalGeoIp!==void 0&&e.uint32(578).string(t.internalGeoIp),t.unpluggedAppInfo!==void 0&&R1.encode(t.unpluggedAppInfo,e.uint32(586).fork()).join(),t.locationInfo!==void 0&&A1.encode(t.locationInfo,e.uint32(594).fork()).join(),t.contentSizeCategory!==void 0&&e.uint32(610).string(t.contentSizeCategory),t.fontScale!==void 0&&e.uint32(621).float(t.fontScale),t.userInterfaceTheme!==void 0&&e.uint32(624).int32(t.userInterfaceTheme),t.timeZone!==void 0&&e.uint32(642).string(t.timeZone),t.homeGroupInfo!==void 0&&D1.encode(t.homeGroupInfo,e.uint32(650).fork()).join(),t.emlTemplateContext!==void 0&&e.uint32(674).bytes(t.emlTemplateContext),t.coldAppBundleConfigData!==void 0&&e.uint32(682).bytes(t.coldAppBundleConfigData),t.browserName!==void 0&&e.uint32(698).string(t.browserName),t.browserVersion!==void 0&&e.uint32(706).string(t.browserVersion),t.locationPlayabilityToken!==void 0&&e.uint32(714).string(t.locationPlayabilityToken),t.chipset!==void 0&&e.uint32(738).string(t.chipset),t.firmwareVersion!==void 0&&e.uint32(746).string(t.firmwareVersion),t.memoryTotalKbytes!==void 0&&e.uint32(760).int64(t.memoryTotalKbytes),t.mainAppWebInfo!==void 0&&_1.encode(t.mainAppWebInfo,e.uint32(770).fork()).join(),t.notificationPermissionInfo!==void 0&&b1.encode(t.notificationPermissionInfo,e.uint32(778).fork()).join(),t.deviceBrand!==void 0&&e.uint32(786).string(t.deviceBrand),t.glDeviceInfo!==void 0&&x1.encode(t.glDeviceInfo,e.uint32(818).fork()).join(),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=PP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.hl=i.string();continue;case 2:if(r!==18)break;o.gl=i.string();continue;case 4:if(r!==34)break;o.remoteHost=i.string();continue;case 6:if(r!==50)break;o.deviceId=i.string();continue;case 8:if(r!==66)break;o.debugDeviceIdOverride=i.string();continue;case 10:if(r!==82)break;o.carrierGeo=i.string();continue;case 11:if(r!==88)break;o.crackedHl=i.bool();continue;case 12:if(r!==98)break;o.deviceMake=i.string();continue;case 13:if(r!==106)break;o.deviceModel=i.string();continue;case 14:if(r!==114)break;o.visitorData=i.string();continue;case 15:if(r!==122)break;o.userAgent=i.string();continue;case 16:if(r!==128)break;o.clientName=i.int32();continue;case 17:if(r!==138)break;o.clientVersion=i.string();continue;case 18:if(r!==146)break;o.osName=i.string();continue;case 19:if(r!==154)break;o.osVersion=i.string();continue;case 20:if(r!==162)break;o.projectId=i.string();continue;case 21:if(r!==170)break;o.acceptLanguage=i.string();continue;case 22:if(r!==178)break;o.acceptRegion=i.string();continue;case 23:if(r!==186)break;o.originalUrl=i.string();continue;case 25:if(r!==202)break;o.rawDeviceId=i.string();continue;case 27:if(r!==218)break;o.configData=i.string();continue;case 31:if(r!==250)break;o.spacecastToken=i.string();continue;case 34:if(r!==274)break;o.internalGeo=i.string();continue;case 37:if(r!==296)break;o.screenWidthPoints=i.int32();continue;case 38:if(r!==304)break;o.screenHeightPoints=i.int32();continue;case 39:if(r!==317)break;o.screenWidthInches=i.float();continue;case 40:if(r!==325)break;o.screenHeightInches=i.float();continue;case 41:if(r!==328)break;o.screenPixelDensity=i.int32();continue;case 42:if(r!==336)break;o.platform=i.int32();continue;case 45:if(r!==362)break;o.spacecastClientInfo=y1.decode(i,i.uint32());continue;case 46:if(r!==368)break;o.clientFormFactor=i.int32();continue;case 48:if(r!==386)break;o.forwardedFor=i.string();continue;case 49:if(r!==394)break;o.mobileDataPlanInfo=w1.decode(i,i.uint32());continue;case 50:if(r!==400)break;o.gmscoreVersionCode=i.int32();continue;case 51:if(r!==408)break;o.webpSupport=i.bool();continue;case 52:if(r!==416)break;o.cameraType=i.int32();continue;case 54:if(r!==434)break;o.experimentsToken=i.string();continue;case 55:if(r!==440)break;o.windowWidthPoints=i.int32();continue;case 56:if(r!==448)break;o.windowHeightPoints=i.int32();continue;case 62:if(r!==498)break;o.configInfo=v1.decode(i,i.uint32());continue;case 63:if(r!==506)break;o.unpluggedLocationInfo=T1.decode(i,i.uint32());continue;case 64:if(r!==512)break;o.androidSdkVersion=i.int32();continue;case 65:if(r!==525)break;o.screenDensityFloat=i.float();continue;case 66:if(r!==528)break;o.firstTimeSignInExperimentIds=i.int32();continue;case 67:if(r!==536)break;o.utcOffsetMinutes=i.int32();continue;case 68:if(r!==544)break;o.animatedWebpSupport=i.bool();continue;case 69:if(r!==554)break;o.kidsAppInfo=k1.decode(i,i.uint32());continue;case 70:if(r!==562)break;o.musicAppInfo=C1.decode(i,i.uint32());continue;case 71:if(r!==570)break;o.tvAppInfo=N1.decode(i,i.uint32());continue;case 72:if(r!==578)break;o.internalGeoIp=i.string();continue;case 73:if(r!==586)break;o.unpluggedAppInfo=R1.decode(i,i.uint32());continue;case 74:if(r!==594)break;o.locationInfo=A1.decode(i,i.uint32());continue;case 76:if(r!==610)break;o.contentSizeCategory=i.string();continue;case 77:if(r!==621)break;o.fontScale=i.float();continue;case 78:if(r!==624)break;o.userInterfaceTheme=i.int32();continue;case 80:if(r!==642)break;o.timeZone=i.string();continue;case 81:if(r!==650)break;o.homeGroupInfo=D1.decode(i,i.uint32());continue;case 84:if(r!==674)break;o.emlTemplateContext=i.bytes();continue;case 85:if(r!==682)break;o.coldAppBundleConfigData=i.bytes();continue;case 87:if(r!==698)break;o.browserName=i.string();continue;case 88:if(r!==706)break;o.browserVersion=i.string();continue;case 89:if(r!==714)break;o.locationPlayabilityToken=i.string();continue;case 92:if(r!==738)break;o.chipset=i.string();continue;case 93:if(r!==746)break;o.firmwareVersion=i.string();continue;case 95:if(r!==760)break;o.memoryTotalKbytes=Tw(i.int64());continue;case 96:if(r!==770)break;o.mainAppWebInfo=_1.decode(i,i.uint32());continue;case 97:if(r!==778)break;o.notificationPermissionInfo=b1.decode(i,i.uint32());continue;case 98:if(r!==786)break;o.deviceBrand=i.string();continue;case 102:if(r!==818)break;o.glDeviceInfo=x1.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function RP(){return{graftUrl:void 0,pwaInstallabilityStatus:void 0,webDisplayMode:void 0,isWebNativeShareAvailable:void 0,storeDigitalGoodsApiSupportStatus:void 0}}s(RP,"createBaseClientInfo_MainAppWebInfo");var _1={encode(t,e=new N){return t.graftUrl!==void 0&&e.uint32(10).string(t.graftUrl),t.pwaInstallabilityStatus!==void 0&&e.uint32(16).int32(t.pwaInstallabilityStatus),t.webDisplayMode!==void 0&&e.uint32(24).int32(t.webDisplayMode),t.isWebNativeShareAvailable!==void 0&&e.uint32(32).bool(t.isWebNativeShareAvailable),t.storeDigitalGoodsApiSupportStatus!==void 0&&e.uint32(40).int32(t.storeDigitalGoodsApiSupportStatus),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=RP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.graftUrl=i.string();continue;case 2:if(r!==16)break;o.pwaInstallabilityStatus=i.int32();continue;case 3:if(r!==24)break;o.webDisplayMode=i.int32();continue;case 4:if(r!==32)break;o.isWebNativeShareAvailable=i.bool();continue;case 5:if(r!==40)break;o.storeDigitalGoodsApiSupportStatus=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function AP(){return{notificationsSetting:void 0,lastDeviceOptInChangeTimeAgoSec:void 0}}s(AP,"createBaseClientInfo_NotificationPermissionInfo");var b1={encode(t,e=new N){return t.notificationsSetting!==void 0&&e.uint32(8).int32(t.notificationsSetting),t.lastDeviceOptInChangeTimeAgoSec!==void 0&&e.uint32(16).int64(t.lastDeviceOptInChangeTimeAgoSec),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=AP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.notificationsSetting=i.int32();continue;case 2:if(r!==16)break;o.lastDeviceOptInChangeTimeAgoSec=Tw(i.int64());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function MP(){return{glRenderer:void 0,glEsVersionMajor:void 0,glEsVersionMinor:void 0}}s(MP,"createBaseClientInfo_GLDeviceInfo");var x1={encode(t,e=new N){return t.glRenderer!==void 0&&e.uint32(10).string(t.glRenderer),t.glEsVersionMajor!==void 0&&e.uint32(16).int32(t.glEsVersionMajor),t.glEsVersionMinor!==void 0&&e.uint32(24).int32(t.glEsVersionMinor),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=MP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.glRenderer=i.string();continue;case 2:if(r!==16)break;o.glEsVersionMajor=i.int32();continue;case 3:if(r!==24)break;o.glEsVersionMinor=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function DP(){return{appliances:void 0,interactionLevel:void 0}}s(DP,"createBaseClientInfo_SpacecastClientInfo");var y1={encode(t,e=new N){return t.appliances!==void 0&&g1.encode(t.appliances,e.uint32(10).fork()).join(),t.interactionLevel!==void 0&&e.uint32(16).int32(t.interactionLevel),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=DP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.appliances=g1.decode(i,i.uint32());continue;case 2:if(r!==16)break;o.interactionLevel=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function LP(){return{contentProfileToken:void 0,status:void 0,hostname:void 0,active:void 0,deviceId:void 0}}s(LP,"createBaseClientInfo_SpacecastClientInfo_SpacecastAppliance");var g1={encode(t,e=new N){return t.contentProfileToken!==void 0&&e.uint32(10).bytes(t.contentProfileToken),t.status!==void 0&&e.uint32(16).int32(t.status),t.hostname!==void 0&&e.uint32(26).string(t.hostname),t.active!==void 0&&e.uint32(32).bool(t.active),t.deviceId!==void 0&&e.uint32(42).string(t.deviceId),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=LP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.contentProfileToken=i.bytes();continue;case 2:if(r!==16)break;o.status=i.int32();continue;case 3:if(r!==26)break;o.hostname=i.string();continue;case 4:if(r!==32)break;o.active=i.bool();continue;case 5:if(r!==42)break;o.deviceId=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function OP(){return{cpid:void 0,serializedDataPlanStatus:void 0,dataSavingQualityPickerEnabled:void 0,mccmnc:void 0}}s(OP,"createBaseClientInfo_MobileDataPlanInfo");var w1={encode(t,e=new N){return t.cpid!==void 0&&e.uint32(394).string(t.cpid),t.serializedDataPlanStatus!==void 0&&e.uint32(402).string(t.serializedDataPlanStatus),t.dataSavingQualityPickerEnabled!==void 0&&e.uint32(416).bool(t.dataSavingQualityPickerEnabled),t.mccmnc!==void 0&&e.uint32(426).string(t.mccmnc),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=OP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 49:if(r!==394)break;o.cpid=i.string();continue;case 50:if(r!==402)break;o.serializedDataPlanStatus=i.string();continue;case 52:if(r!==416)break;o.dataSavingQualityPickerEnabled=i.bool();continue;case 53:if(r!==426)break;o.mccmnc=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function BP(){return{coldConfigData:void 0,coldHashData:void 0,hotHashData:void 0,appInstallData:void 0}}s(BP,"createBaseClientInfo_ConfigGroupsClientInfo");var v1={encode(t,e=new N){return t.coldConfigData!==void 0&&e.uint32(10).string(t.coldConfigData),t.coldHashData!==void 0&&e.uint32(26).string(t.coldHashData),t.hotHashData!==void 0&&e.uint32(42).string(t.hotHashData),t.appInstallData!==void 0&&e.uint32(50).string(t.appInstallData),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=BP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.coldConfigData=i.string();continue;case 3:if(r!==26)break;o.coldHashData=i.string();continue;case 5:if(r!==42)break;o.hotHashData=i.string();continue;case 6:if(r!==50)break;o.appInstallData=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function UP(){return{latitudeE7:void 0,longitudeE7:void 0,localTimestampMs:void 0,ipAddress:void 0,timezone:void 0,prefer24HourTime:void 0,locationRadiusMeters:void 0,isInitialLoad:void 0,browserPermissionGranted:void 0,clientPermissionState:void 0,locationOverrideToken:void 0}}s(UP,"createBaseClientInfo_UnpluggedLocationInfo");var T1={encode(t,e=new N){return t.latitudeE7!==void 0&&e.uint32(8).int32(t.latitudeE7),t.longitudeE7!==void 0&&e.uint32(16).int32(t.longitudeE7),t.localTimestampMs!==void 0&&e.uint32(24).int64(t.localTimestampMs),t.ipAddress!==void 0&&e.uint32(34).string(t.ipAddress),t.timezone!==void 0&&e.uint32(42).string(t.timezone),t.prefer24HourTime!==void 0&&e.uint32(48).bool(t.prefer24HourTime),t.locationRadiusMeters!==void 0&&e.uint32(56).int32(t.locationRadiusMeters),t.isInitialLoad!==void 0&&e.uint32(64).bool(t.isInitialLoad),t.browserPermissionGranted!==void 0&&e.uint32(72).bool(t.browserPermissionGranted),t.clientPermissionState!==void 0&&e.uint32(80).int32(t.clientPermissionState),t.locationOverrideToken!==void 0&&e.uint32(90).string(t.locationOverrideToken),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=UP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.latitudeE7=i.int32();continue;case 2:if(r!==16)break;o.longitudeE7=i.int32();continue;case 3:if(r!==24)break;o.localTimestampMs=Tw(i.int64());continue;case 4:if(r!==34)break;o.ipAddress=i.string();continue;case 5:if(r!==42)break;o.timezone=i.string();continue;case 6:if(r!==48)break;o.prefer24HourTime=i.bool();continue;case 7:if(r!==56)break;o.locationRadiusMeters=i.int32();continue;case 8:if(r!==64)break;o.isInitialLoad=i.bool();continue;case 9:if(r!==72)break;o.browserPermissionGranted=i.bool();continue;case 10:if(r!==80)break;o.clientPermissionState=i.int32();continue;case 11:if(r!==90)break;o.locationOverrideToken=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function VP(){return{contentSettings:void 0,parentCurationMode:void 0,categorySettings:void 0,userEducationSettings:void 0}}s(VP,"createBaseClientInfo_KidsAppInfo");var k1={encode(t,e=new N){return t.contentSettings!==void 0&&I1.encode(t.contentSettings,e.uint32(10).fork()).join(),t.parentCurationMode!==void 0&&e.uint32(16).int32(t.parentCurationMode),t.categorySettings!==void 0&&S1.encode(t.categorySettings,e.uint32(26).fork()).join(),t.userEducationSettings!==void 0&&E1.encode(t.userEducationSettings,e.uint32(34).fork()).join(),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=VP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.contentSettings=I1.decode(i,i.uint32());continue;case 2:if(r!==16)break;o.parentCurationMode=i.int32();continue;case 3:if(r!==26)break;o.categorySettings=S1.decode(i,i.uint32());continue;case 4:if(r!==34)break;o.userEducationSettings=E1.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function YP(){return{kidsNoSearchMode:void 0,ageUpMode:void 0,contentDensity:void 0}}s(YP,"createBaseClientInfo_KidsAppInfo_KidsContentSettings");var I1={encode(t,e=new N){return t.kidsNoSearchMode!==void 0&&e.uint32(8).int32(t.kidsNoSearchMode),t.ageUpMode!==void 0&&e.uint32(16).int32(t.ageUpMode),t.contentDensity!==void 0&&e.uint32(24).int32(t.contentDensity),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=YP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.kidsNoSearchMode=i.int32();continue;case 2:if(r!==16)break;o.ageUpMode=i.int32();continue;case 3:if(r!==24)break;o.contentDensity=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function FP(){return{enabledCategories:void 0}}s(FP,"createBaseClientInfo_KidsAppInfo_KidsCategorySettings");var S1={encode(t,e=new N){return t.enabledCategories!==void 0&&e.uint32(10).string(t.enabledCategories),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=FP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.enabledCategories=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function WP(){return{hasSeenHomeChipBarUserEducation:void 0,hasSeenHomePivotBarUserEducation:void 0,hasSeenParentMuirUserEducation:void 0}}s(WP,"createBaseClientInfo_KidsAppInfo_KidsUserEducationSettings");var E1={encode(t,e=new N){return t.hasSeenHomeChipBarUserEducation!==void 0&&e.uint32(8).bool(t.hasSeenHomeChipBarUserEducation),t.hasSeenHomePivotBarUserEducation!==void 0&&e.uint32(16).bool(t.hasSeenHomePivotBarUserEducation),t.hasSeenParentMuirUserEducation!==void 0&&e.uint32(24).bool(t.hasSeenParentMuirUserEducation),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=WP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.hasSeenHomeChipBarUserEducation=i.bool();continue;case 2:if(r!==16)break;o.hasSeenHomePivotBarUserEducation=i.bool();continue;case 3:if(r!==24)break;o.hasSeenParentMuirUserEducation=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function jP(){return{playBackMode:void 0,musicLocationMasterSwitch:void 0,musicActivityMasterSwitch:void 0,offlineMixtapeEnabled:void 0,autoOfflineEnabled:void 0,iosBackgroundRefreshStatus:void 0,smartDownloadsSongLimit:void 0,transitionedFromMixtapeToSmartDownloads:void 0,pwaInstallabilityStatus:void 0,webDisplayMode:void 0,musicTier:void 0,storeDigitalGoodsApiSupportStatus:void 0,smartDownloadsTimeSinceLastOptOutSec:void 0}}s(jP,"createBaseClientInfo_MusicAppInfo");var C1={encode(t,e=new N){return t.playBackMode!==void 0&&e.uint32(8).int32(t.playBackMode),t.musicLocationMasterSwitch!==void 0&&e.uint32(16).int32(t.musicLocationMasterSwitch),t.musicActivityMasterSwitch!==void 0&&e.uint32(24).int32(t.musicActivityMasterSwitch),t.offlineMixtapeEnabled!==void 0&&e.uint32(32).bool(t.offlineMixtapeEnabled),t.autoOfflineEnabled!==void 0&&e.uint32(40).bool(t.autoOfflineEnabled),t.iosBackgroundRefreshStatus!==void 0&&e.uint32(48).int32(t.iosBackgroundRefreshStatus),t.smartDownloadsSongLimit!==void 0&&e.uint32(56).int32(t.smartDownloadsSongLimit),t.transitionedFromMixtapeToSmartDownloads!==void 0&&e.uint32(64).bool(t.transitionedFromMixtapeToSmartDownloads),t.pwaInstallabilityStatus!==void 0&&e.uint32(72).int32(t.pwaInstallabilityStatus),t.webDisplayMode!==void 0&&e.uint32(80).int32(t.webDisplayMode),t.musicTier!==void 0&&e.uint32(88).int32(t.musicTier),t.storeDigitalGoodsApiSupportStatus!==void 0&&e.uint32(96).int32(t.storeDigitalGoodsApiSupportStatus),t.smartDownloadsTimeSinceLastOptOutSec!==void 0&&e.uint32(104).int64(t.smartDownloadsTimeSinceLastOptOutSec),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=jP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.playBackMode=i.int32();continue;case 2:if(r!==16)break;o.musicLocationMasterSwitch=i.int32();continue;case 3:if(r!==24)break;o.musicActivityMasterSwitch=i.int32();continue;case 4:if(r!==32)break;o.offlineMixtapeEnabled=i.bool();continue;case 5:if(r!==40)break;o.autoOfflineEnabled=i.bool();continue;case 6:if(r!==48)break;o.iosBackgroundRefreshStatus=i.int32();continue;case 7:if(r!==56)break;o.smartDownloadsSongLimit=i.int32();continue;case 8:if(r!==64)break;o.transitionedFromMixtapeToSmartDownloads=i.bool();continue;case 9:if(r!==72)break;o.pwaInstallabilityStatus=i.int32();continue;case 10:if(r!==80)break;o.webDisplayMode=i.int32();continue;case 11:if(r!==88)break;o.musicTier=i.int32();continue;case 12:if(r!==96)break;o.storeDigitalGoodsApiSupportStatus=i.int32();continue;case 13:if(r!==104)break;o.smartDownloadsTimeSinceLastOptOutSec=Tw(i.int64());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function HP(){return{mdxImpactedSessionsServerEvents:void 0,enablePrivacyFilter:void 0,zylonLeftNav:void 0,certificationScope:void 0,livingRoomPoTokenId:void 0,jsEngineString:void 0,voiceCapability:void 0,systemIntegrator:void 0,androidBuildFingerprint:void 0,cobaltAppVersion:void 0,cobaltStarboardVersion:void 0,useStartPlaybackPreviewCommand:void 0,shouldShowPersistentSigninOnHome:void 0,androidPlayServicesVersion:void 0}}s(HP,"createBaseClientInfo_TvAppInfo");var N1={encode(t,e=new N){return t.mdxImpactedSessionsServerEvents!==void 0&&e.uint32(26).string(t.mdxImpactedSessionsServerEvents),t.enablePrivacyFilter!==void 0&&e.uint32(48).bool(t.enablePrivacyFilter),t.zylonLeftNav!==void 0&&e.uint32(56).bool(t.zylonLeftNav),t.certificationScope!==void 0&&e.uint32(74).string(t.certificationScope),t.livingRoomPoTokenId!==void 0&&e.uint32(82).string(t.livingRoomPoTokenId),t.jsEngineString!==void 0&&e.uint32(98).string(t.jsEngineString),t.voiceCapability!==void 0&&P1.encode(t.voiceCapability,e.uint32(106).fork()).join(),t.systemIntegrator!==void 0&&e.uint32(114).string(t.systemIntegrator),t.androidBuildFingerprint!==void 0&&e.uint32(146).string(t.androidBuildFingerprint),t.cobaltAppVersion!==void 0&&e.uint32(154).string(t.cobaltAppVersion),t.cobaltStarboardVersion!==void 0&&e.uint32(162).string(t.cobaltStarboardVersion),t.useStartPlaybackPreviewCommand!==void 0&&e.uint32(176).bool(t.useStartPlaybackPreviewCommand),t.shouldShowPersistentSigninOnHome!==void 0&&e.uint32(184).bool(t.shouldShowPersistentSigninOnHome),t.androidPlayServicesVersion!==void 0&&e.uint32(194).string(t.androidPlayServicesVersion),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=HP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 3:if(r!==26)break;o.mdxImpactedSessionsServerEvents=i.string();continue;case 6:if(r!==48)break;o.enablePrivacyFilter=i.bool();continue;case 7:if(r!==56)break;o.zylonLeftNav=i.bool();continue;case 9:if(r!==74)break;o.certificationScope=i.string();continue;case 10:if(r!==82)break;o.livingRoomPoTokenId=i.string();continue;case 12:if(r!==98)break;o.jsEngineString=i.string();continue;case 13:if(r!==106)break;o.voiceCapability=P1.decode(i,i.uint32());continue;case 14:if(r!==114)break;o.systemIntegrator=i.string();continue;case 18:if(r!==146)break;o.androidBuildFingerprint=i.string();continue;case 19:if(r!==154)break;o.cobaltAppVersion=i.string();continue;case 20:if(r!==162)break;o.cobaltStarboardVersion=i.string();continue;case 22:if(r!==176)break;o.useStartPlaybackPreviewCommand=i.bool();continue;case 23:if(r!==184)break;o.shouldShowPersistentSigninOnHome=i.bool();continue;case 24:if(r!==194)break;o.androidPlayServicesVersion=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function GP(){return{hasSoftMicSupport:void 0,hasHardMicSupport:void 0}}s(GP,"createBaseClientInfo_TvAppInfo_VoiceCapability");var P1={encode(t,e=new N){return t.hasSoftMicSupport!==void 0&&e.uint32(8).bool(t.hasSoftMicSupport),t.hasHardMicSupport!==void 0&&e.uint32(16).bool(t.hasHardMicSupport),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=GP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.hasSoftMicSupport=i.bool();continue;case 2:if(r!==16)break;o.hasHardMicSupport=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function KP(){return{enableFilterMode:void 0,iosNotificationPermission:void 0,forceEnableEpg3:void 0}}s(KP,"createBaseClientInfo_UnpluggedAppInfo");var R1={encode(t,e=new N){return t.enableFilterMode!==void 0&&e.uint32(16).bool(t.enableFilterMode),t.iosNotificationPermission!==void 0&&e.uint32(24).bool(t.iosNotificationPermission),t.forceEnableEpg3!==void 0&&e.uint32(56).bool(t.forceEnableEpg3),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=KP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 2:if(r!==16)break;o.enableFilterMode=i.bool();continue;case 3:if(r!==24)break;o.iosNotificationPermission=i.bool();continue;case 7:if(r!==56)break;o.forceEnableEpg3=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function $P(){return{locationInfoStatus:void 0,ulrStatus:void 0,latitudeE7:void 0,longitudeE7:void 0,horizontalAccuracyMeters:void 0,locationFreshnessMs:void 0,locationPermissionAuthorizationStatus:void 0,locationOverrideToken:void 0,forceLocationPlayabilityTokenRefresh:void 0}}s($P,"createBaseClientInfo_LocationInfo");var A1={encode(t,e=new N){return t.locationInfoStatus!==void 0&&e.uint32(8).int32(t.locationInfoStatus),t.ulrStatus!==void 0&&M1.encode(t.ulrStatus,e.uint32(18).fork()).join(),t.latitudeE7!==void 0&&e.uint32(26).string(t.latitudeE7),t.longitudeE7!==void 0&&e.uint32(34).string(t.longitudeE7),t.horizontalAccuracyMeters!==void 0&&e.uint32(42).string(t.horizontalAccuracyMeters),t.locationFreshnessMs!==void 0&&e.uint32(50).string(t.locationFreshnessMs),t.locationPermissionAuthorizationStatus!==void 0&&e.uint32(56).int32(t.locationPermissionAuthorizationStatus),t.locationOverrideToken!==void 0&&e.uint32(66).string(t.locationOverrideToken),t.forceLocationPlayabilityTokenRefresh!==void 0&&e.uint32(72).bool(t.forceLocationPlayabilityTokenRefresh),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=$P();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.locationInfoStatus=i.int32();continue;case 2:if(r!==18)break;o.ulrStatus=M1.decode(i,i.uint32());continue;case 3:if(r!==26)break;o.latitudeE7=i.string();continue;case 4:if(r!==34)break;o.longitudeE7=i.string();continue;case 5:if(r!==42)break;o.horizontalAccuracyMeters=i.string();continue;case 6:if(r!==50)break;o.locationFreshnessMs=i.string();continue;case 7:if(r!==56)break;o.locationPermissionAuthorizationStatus=i.int32();continue;case 8:if(r!==66)break;o.locationOverrideToken=i.string();continue;case 9:if(r!==72)break;o.forceLocationPlayabilityTokenRefresh=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function qP(){return{reportingEnabledSetting:void 0,historyEnabledSetting:void 0,isAllowed:void 0,isActive:void 0}}s(qP,"createBaseClientInfo_LocationInfo_UrlStatus");var M1={encode(t,e=new N){return t.reportingEnabledSetting!==void 0&&e.uint32(8).int32(t.reportingEnabledSetting),t.historyEnabledSetting!==void 0&&e.uint32(16).int32(t.historyEnabledSetting),t.isAllowed!==void 0&&e.uint32(24).bool(t.isAllowed),t.isActive!==void 0&&e.uint32(32).bool(t.isActive),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=qP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.reportingEnabledSetting=i.int32();continue;case 2:if(r!==16)break;o.historyEnabledSetting=i.int32();continue;case 3:if(r!==24)break;o.isAllowed=i.bool();continue;case 4:if(r!==32)break;o.isActive=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function zP(){return{isPartOfGroup:void 0,isGroup:void 0}}s(zP,"createBaseClientInfo_HomeGroupInfo");var D1={encode(t,e=new N){return t.isPartOfGroup!==void 0&&e.uint32(8).bool(t.isPartOfGroup),t.isGroup!==void 0&&e.uint32(24).bool(t.isGroup),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=zP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.isPartOfGroup=i.bool();continue;case 3:if(r!==24)break;o.isGroup=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function Tw(t){let e=globalThis.Number(t.toString());if(e>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(e<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return e}s(Tw,"longToNumber");function JP(){return{challenge:void 0,webResponse:void 0,androidResponse:void 0,iosResponse:void 0,error:void 0,adblockReporting:void 0}}s(JP,"createBaseAttestationResponseData");var eT={encode(t,e=new N){return t.challenge!==void 0&&e.uint32(10).string(t.challenge),t.webResponse!==void 0&&e.uint32(18).string(t.webResponse),t.androidResponse!==void 0&&e.uint32(26).string(t.androidResponse),t.iosResponse!==void 0&&e.uint32(34).bytes(t.iosResponse),t.error!==void 0&&e.uint32(40).int32(t.error),t.adblockReporting!==void 0&&L1.encode(t.adblockReporting,e.uint32(50).fork()).join(),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=JP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.challenge=i.string();continue;case 2:if(r!==18)break;o.webResponse=i.string();continue;case 3:if(r!==26)break;o.androidResponse=i.string();continue;case 4:if(r!==34)break;o.iosResponse=i.bytes();continue;case 5:if(r!==40)break;o.error=i.int32();continue;case 6:if(r!==50)break;o.adblockReporting=L1.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function XP(){return{reportingStatus:void 0,broadSpectrumDetectionResult:void 0}}s(XP,"createBaseAttestationResponseData_AdblockReporting");var L1={encode(t,e=new N){return t.reportingStatus!==void 0&&e.uint32(8).uint64(t.reportingStatus),t.broadSpectrumDetectionResult!==void 0&&e.uint32(16).uint64(t.broadSpectrumDetectionResult),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=XP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.reportingStatus=O1(i.uint64());continue;case 2:if(r!==16)break;o.broadSpectrumDetectionResult=O1(i.uint64());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function O1(t){let e=globalThis.Number(t.toString());if(e>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(e<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return e}s(O1,"longToNumber");var B1;(function(t){t[t.CRITICALITY_UNSPECIFIED=0]="CRITICALITY_UNSPECIFIED",t[t.CRITICALITY_CRITICAL=1]="CRITICALITY_CRITICAL",t[t.CRITICALITY_NON_CRITICAL=2]="CRITICALITY_NON_CRITICAL",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(B1||(B1={}));function ZP(){return{thirdPartyDigest:void 0,useSsl:void 0,returnErrorDetail:void 0,ifNoneMatch:void 0,returnLogEntry:void 0,isPrefetch:void 0,internalExperimentFlags:[],returnDebugData:void 0,innertubez:void 0,traceProto:void 0,returnLogEntryJson:void 0,sherlogUsername:void 0,reauthRequestInfo:void 0,sessionInfo:void 0,returnLogEntryProto:void 0,externalPrequestContext:void 0,attestationResponseData:void 0,eats:void 0,requestQos:void 0}}s(ZP,"createBaseRequestInfo");var tT={encode(t,e=new N){t.thirdPartyDigest!==void 0&&e.uint32(50).string(t.thirdPartyDigest),t.useSsl!==void 0&&e.uint32(56).bool(t.useSsl),t.returnErrorDetail!==void 0&&e.uint32(72).bool(t.returnErrorDetail),t.ifNoneMatch!==void 0&&e.uint32(98).string(t.ifNoneMatch),t.returnLogEntry!==void 0&&e.uint32(104).bool(t.returnLogEntry),t.isPrefetch!==void 0&&e.uint32(112).bool(t.isPrefetch);for(let i of t.internalExperimentFlags)Dn.encode(i,e.uint32(122).fork()).join();return t.returnDebugData!==void 0&&e.uint32(128).bool(t.returnDebugData),t.innertubez!==void 0&&e.uint32(146).string(t.innertubez),t.traceProto!==void 0&&e.uint32(184).bool(t.traceProto),t.returnLogEntryJson!==void 0&&e.uint32(192).bool(t.returnLogEntryJson),t.sherlogUsername!==void 0&&e.uint32(202).string(t.sherlogUsername),t.reauthRequestInfo!==void 0&&Y1.encode(t.reauthRequestInfo,e.uint32(234).fork()).join(),t.sessionInfo!==void 0&&V1.encode(t.sessionInfo,e.uint32(242).fork()).join(),t.returnLogEntryProto!==void 0&&e.uint32(248).bool(t.returnLogEntryProto),t.externalPrequestContext!==void 0&&e.uint32(258).string(t.externalPrequestContext),t.attestationResponseData!==void 0&&eT.encode(t.attestationResponseData,e.uint32(274).fork()).join(),t.eats!==void 0&&e.uint32(282).bytes(t.eats),t.requestQos!==void 0&&U1.encode(t.requestQos,e.uint32(290).fork()).join(),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=ZP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 6:if(r!==50)break;o.thirdPartyDigest=i.string();continue;case 7:if(r!==56)break;o.useSsl=i.bool();continue;case 9:if(r!==72)break;o.returnErrorDetail=i.bool();continue;case 12:if(r!==98)break;o.ifNoneMatch=i.string();continue;case 13:if(r!==104)break;o.returnLogEntry=i.bool();continue;case 14:if(r!==112)break;o.isPrefetch=i.bool();continue;case 15:if(r!==122)break;o.internalExperimentFlags.push(Dn.decode(i,i.uint32()));continue;case 16:if(r!==128)break;o.returnDebugData=i.bool();continue;case 18:if(r!==146)break;o.innertubez=i.string();continue;case 23:if(r!==184)break;o.traceProto=i.bool();continue;case 24:if(r!==192)break;o.returnLogEntryJson=i.bool();continue;case 25:if(r!==202)break;o.sherlogUsername=i.string();continue;case 29:if(r!==234)break;o.reauthRequestInfo=Y1.decode(i,i.uint32());continue;case 30:if(r!==242)break;o.sessionInfo=V1.decode(i,i.uint32());continue;case 31:if(r!==248)break;o.returnLogEntryProto=i.bool();continue;case 32:if(r!==258)break;o.externalPrequestContext=i.string();continue;case 34:if(r!==274)break;o.attestationResponseData=eT.decode(i,i.uint32());continue;case 35:if(r!==282)break;o.eats=i.bytes();continue;case 36:if(r!==290)break;o.requestQos=U1.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function QP(){return{criticality:void 0}}s(QP,"createBaseRequestInfo_RequestQoS");var U1={encode(t,e=new N){return t.criticality!==void 0&&e.uint32(8).int32(t.criticality),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=QP();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.criticality=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function e3(){return{token:void 0}}s(e3,"createBaseRequestInfo_SessionInfo");var V1={encode(t,e=new N){return t.token!==void 0&&e.uint32(10).string(t.token),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=e3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.token=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function t3(){return{encodedReauthProofToken:void 0}}s(t3,"createBaseRequestInfo_ReauthRequestInfo");var Y1={encode(t,e=new N){return t.encodedReauthProofToken!==void 0&&e.uint32(10).string(t.encodedReauthProofToken),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=t3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.encodedReauthProofToken=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function i3(){return{developerKey:void 0,appName:void 0,appPublisher:void 0,embedUrl:void 0,appVersion:void 0,embeddedPlayerContext:void 0}}s(i3,"createBaseThirdPartyInfo");var iT={encode(t,e=new N){return t.developerKey!==void 0&&e.uint32(10).string(t.developerKey),t.appName!==void 0&&e.uint32(18).string(t.appName),t.appPublisher!==void 0&&e.uint32(26).string(t.appPublisher),t.embedUrl!==void 0&&e.uint32(34).string(t.embedUrl),t.appVersion!==void 0&&e.uint32(50).string(t.appVersion),t.embeddedPlayerContext!==void 0&&F1.encode(t.embeddedPlayerContext,e.uint32(58).fork()).join(),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=i3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.developerKey=i.string();continue;case 2:if(r!==18)break;o.appName=i.string();continue;case 3:if(r!==26)break;o.appPublisher=i.string();continue;case 4:if(r!==34)break;o.embedUrl=i.string();continue;case 6:if(r!==50)break;o.appVersion=i.string();continue;case 7:if(r!==58)break;o.embeddedPlayerContext=F1.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function n3(){return{ancestorOrigins:void 0,embeddedPlayerEncryptedContext:void 0,ancestorOriginsSupported:void 0}}s(n3,"createBaseThirdPartyInfo_EmbeddedPlayerContext");var F1={encode(t,e=new N){return t.ancestorOrigins!==void 0&&e.uint32(10).string(t.ancestorOrigins),t.embeddedPlayerEncryptedContext!==void 0&&e.uint32(18).string(t.embeddedPlayerEncryptedContext),t.ancestorOriginsSupported!==void 0&&e.uint32(24).bool(t.ancestorOriginsSupported),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=n3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.ancestorOrigins=i.string();continue;case 2:if(r!==18)break;o.embeddedPlayerEncryptedContext=i.string();continue;case 3:if(r!==24)break;o.ancestorOriginsSupported=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function o3(){return{onBehalfOfUser:void 0,enableSafetyMode:void 0,credentialTransferTokens:[],delegatePurchases:void 0,kidsParent:void 0,isIncognito:void 0,lockedSafetyMode:void 0,delegationContext:void 0,serializedDelegationContext:void 0}}s(o3,"createBaseUserInfo");var nT={encode(t,e=new N){t.onBehalfOfUser!==void 0&&e.uint32(26).string(t.onBehalfOfUser),t.enableSafetyMode!==void 0&&e.uint32(56).bool(t.enableSafetyMode);for(let i of t.credentialTransferTokens)G1.encode(i,e.uint32(98).fork()).join();return t.delegatePurchases!==void 0&&j1.encode(t.delegatePurchases,e.uint32(106).fork()).join(),t.kidsParent!==void 0&&W1.encode(t.kidsParent,e.uint32(114).fork()).join(),t.isIncognito!==void 0&&e.uint32(120).bool(t.isIncognito),t.lockedSafetyMode!==void 0&&e.uint32(128).bool(t.lockedSafetyMode),t.delegationContext!==void 0&&H1.encode(t.delegationContext,e.uint32(138).fork()).join(),t.serializedDelegationContext!==void 0&&e.uint32(146).string(t.serializedDelegationContext),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=o3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 3:if(r!==26)break;o.onBehalfOfUser=i.string();continue;case 7:if(r!==56)break;o.enableSafetyMode=i.bool();continue;case 12:if(r!==98)break;o.credentialTransferTokens.push(G1.decode(i,i.uint32()));continue;case 13:if(r!==106)break;o.delegatePurchases=j1.decode(i,i.uint32());continue;case 14:if(r!==114)break;o.kidsParent=W1.decode(i,i.uint32());continue;case 15:if(r!==120)break;o.isIncognito=i.bool();continue;case 16:if(r!==128)break;o.lockedSafetyMode=i.bool();continue;case 17:if(r!==138)break;o.delegationContext=H1.decode(i,i.uint32());continue;case 18:if(r!==146)break;o.serializedDelegationContext=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function r3(){return{}}s(r3,"createBaseUserInfo_KidsParent");var W1={encode(t,e=new N){return e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=r3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function s3(){return{}}s(s3,"createBaseUserInfo_DelegatePurchases");var j1={encode(t,e=new N){return e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=s3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function a3(){return{}}s(a3,"createBaseUserInfo_DelegationContext");var H1={encode(t,e=new N){return e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=a3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function c3(){return{}}s(c3,"createBaseUserInfo_CredentialTransferToken");var G1={encode(t,e=new N){return e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=c3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function u3(){return{client:void 0,user:void 0,capabilities:void 0,request:void 0,clickTracking:void 0,thirdParty:void 0,remoteClient:void 0,adSignalsInfo:void 0,experimentalData:void 0,clientScreenNonce:void 0,activePlayers:[]}}s(u3,"createBaseInnerTubeContext");var oT={encode(t,e=new N){t.client!==void 0&&r_.encode(t.client,e.uint32(10).fork()).join(),t.user!==void 0&&nT.encode(t.user,e.uint32(26).fork()).join(),t.capabilities!==void 0&&Qv.encode(t.capabilities,e.uint32(34).fork()).join(),t.request!==void 0&&tT.encode(t.request,e.uint32(42).fork()).join(),t.clickTracking!==void 0&&q1.encode(t.clickTracking,e.uint32(50).fork()).join(),t.thirdParty!==void 0&&iT.encode(t.thirdParty,e.uint32(58).fork()).join(),t.remoteClient!==void 0&&r_.encode(t.remoteClient,e.uint32(66).fork()).join(),t.adSignalsInfo!==void 0&&z1.encode(t.adSignalsInfo,e.uint32(74).fork()).join(),t.experimentalData!==void 0&&K1.encode(t.experimentalData,e.uint32(82).fork()).join(),t.clientScreenNonce!==void 0&&e.uint32(90).string(t.clientScreenNonce);for(let i of t.activePlayers)$1.encode(i,e.uint32(98).fork()).join();return e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=u3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.client=r_.decode(i,i.uint32());continue;case 3:if(r!==26)break;o.user=nT.decode(i,i.uint32());continue;case 4:if(r!==34)break;o.capabilities=Qv.decode(i,i.uint32());continue;case 5:if(r!==42)break;o.request=tT.decode(i,i.uint32());continue;case 6:if(r!==50)break;o.clickTracking=q1.decode(i,i.uint32());continue;case 7:if(r!==58)break;o.thirdParty=iT.decode(i,i.uint32());continue;case 8:if(r!==66)break;o.remoteClient=r_.decode(i,i.uint32());continue;case 9:if(r!==74)break;o.adSignalsInfo=z1.decode(i,i.uint32());continue;case 10:if(r!==82)break;o.experimentalData=K1.decode(i,i.uint32());continue;case 11:if(r!==90)break;o.clientScreenNonce=i.string();continue;case 12:if(r!==98)break;o.activePlayers.push($1.decode(i,i.uint32()));continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function l3(){return{params:[]}}s(l3,"createBaseInnerTubeContext_ExperimentalData");var K1={encode(t,e=new N){for(let i of t.params)Dn.encode(i,e.uint32(10).fork()).join();return e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=l3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.params.push(Dn.decode(i,i.uint32()));continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function p3(){return{playerContextParams:void 0}}s(p3,"createBaseInnerTubeContext_ActivePlayerInfo");var $1={encode(t,e=new N){return t.playerContextParams!==void 0&&e.uint32(10).bytes(t.playerContextParams),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=p3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.playerContextParams=i.bytes();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function f3(){return{clickTrackingParams:void 0}}s(f3,"createBaseInnerTubeContext_ClickTrackingInfo");var q1={encode(t,e=new N){return t.clickTrackingParams!==void 0&&e.uint32(18).bytes(t.clickTrackingParams),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=f3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 2:if(r!==18)break;o.clickTrackingParams=i.bytes();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function d3(){return{params:[],bid:void 0,mutsuId:void 0,consentBumpState:void 0,advertisingId:void 0,limitAdTracking:void 0,attributionOsSupportedVersion:void 0}}s(d3,"createBaseInnerTubeContext_AdSignalsInfo");var z1={encode(t,e=new N){for(let i of t.params)Dn.encode(i,e.uint32(10).fork()).join();return t.bid!==void 0&&e.uint32(18).string(t.bid),t.mutsuId!==void 0&&e.uint32(26).string(t.mutsuId),t.consentBumpState!==void 0&&e.uint32(34).string(t.consentBumpState),t.advertisingId!==void 0&&e.uint32(58).string(t.advertisingId),t.limitAdTracking!==void 0&&e.uint32(72).bool(t.limitAdTracking),t.attributionOsSupportedVersion!==void 0&&e.uint32(82).string(t.attributionOsSupportedVersion),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=d3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.params.push(Dn.decode(i,i.uint32()));continue;case 2:if(r!==18)break;o.bid=i.string();continue;case 3:if(r!==26)break;o.mutsuId=i.string();continue;case 4:if(r!==34)break;o.consentBumpState=i.string();continue;case 7:if(r!==58)break;o.advertisingId=i.string();continue;case 9:if(r!==72)break;o.limitAdTracking=i.bool();continue;case 10:if(r!==82)break;o.attributionOsSupportedVersion=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function h3(){return{context:void 0,encryptedVideoId:void 0,title:void 0,description:void 0,privacy:void 0,tags:void 0,category:void 0,license:void 0,ageRestriction:void 0,videoStill:void 0,madeForKids:void 0,racy:void 0}}s(h3,"createBaseMetadataUpdateRequest");var aC={encode(t,e=new N){return t.context!==void 0&&oT.encode(t.context,e.uint32(10).fork()).join(),t.encryptedVideoId!==void 0&&e.uint32(18).string(t.encryptedVideoId),t.title!==void 0&&J1.encode(t.title,e.uint32(26).fork()).join(),t.description!==void 0&&X1.encode(t.description,e.uint32(34).fork()).join(),t.privacy!==void 0&&Z1.encode(t.privacy,e.uint32(42).fork()).join(),t.tags!==void 0&&Q1.encode(t.tags,e.uint32(50).fork()).join(),t.category!==void 0&&eC.encode(t.category,e.uint32(58).fork()).join(),t.license!==void 0&&tC.encode(t.license,e.uint32(66).fork()).join(),t.ageRestriction!==void 0&&oC.encode(t.ageRestriction,e.uint32(90).fork()).join(),t.videoStill!==void 0&&rC.encode(t.videoStill,e.uint32(162).fork()).join(),t.madeForKids!==void 0&&iC.encode(t.madeForKids,e.uint32(546).fork()).join(),t.racy!==void 0&&nC.encode(t.racy,e.uint32(554).fork()).join(),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=h3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.context=oT.decode(i,i.uint32());continue;case 2:if(r!==18)break;o.encryptedVideoId=i.string();continue;case 3:if(r!==26)break;o.title=J1.decode(i,i.uint32());continue;case 4:if(r!==34)break;o.description=X1.decode(i,i.uint32());continue;case 5:if(r!==42)break;o.privacy=Z1.decode(i,i.uint32());continue;case 6:if(r!==50)break;o.tags=Q1.decode(i,i.uint32());continue;case 7:if(r!==58)break;o.category=eC.decode(i,i.uint32());continue;case 8:if(r!==66)break;o.license=tC.decode(i,i.uint32());continue;case 11:if(r!==90)break;o.ageRestriction=oC.decode(i,i.uint32());continue;case 20:if(r!==162)break;o.videoStill=rC.decode(i,i.uint32());continue;case 68:if(r!==546)break;o.madeForKids=iC.decode(i,i.uint32());continue;case 69:if(r!==554)break;o.racy=nC.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function m3(){return{newTitle:void 0}}s(m3,"createBaseMetadataUpdateRequest_MdeTitleUpdateRequest");var J1={encode(t,e=new N){return t.newTitle!==void 0&&e.uint32(10).string(t.newTitle),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=m3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.newTitle=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function _3(){return{newDescription:void 0}}s(_3,"createBaseMetadataUpdateRequest_MdeDescriptionUpdateRequest");var X1={encode(t,e=new N){return t.newDescription!==void 0&&e.uint32(10).string(t.newDescription),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=_3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.newDescription=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function b3(){return{newPrivacy:void 0,clearPrivacyDraft:void 0}}s(b3,"createBaseMetadataUpdateRequest_MdePrivacyUpdateRequest");var Z1={encode(t,e=new N){return t.newPrivacy!==void 0&&e.uint32(8).int32(t.newPrivacy),t.clearPrivacyDraft!==void 0&&e.uint32(16).bool(t.clearPrivacyDraft),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=b3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.newPrivacy=i.int32();continue;case 2:if(r!==16)break;o.clearPrivacyDraft=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function x3(){return{newTags:[]}}s(x3,"createBaseMetadataUpdateRequest_MdeTagsUpdateRequest");var Q1={encode(t,e=new N){for(let i of t.newTags)e.uint32(10).string(i);return e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=x3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.newTags.push(i.string());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function y3(){return{newCategoryId:void 0}}s(y3,"createBaseMetadataUpdateRequest_MdeCategoryUpdateRequest");var eC={encode(t,e=new N){return t.newCategoryId!==void 0&&e.uint32(8).int32(t.newCategoryId),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=y3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.newCategoryId=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function g3(){return{newLicenseId:void 0}}s(g3,"createBaseMetadataUpdateRequest_MdeLicenseUpdateRequest");var tC={encode(t,e=new N){return t.newLicenseId!==void 0&&e.uint32(10).string(t.newLicenseId),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=g3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.newLicenseId=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function w3(){return{operation:void 0,newMfk:void 0}}s(w3,"createBaseMetadataUpdateRequest_MdeMadeForKidsUpdateRequestParams");var iC={encode(t,e=new N){return t.operation!==void 0&&e.uint32(8).int32(t.operation),t.newMfk!==void 0&&e.uint32(16).int32(t.newMfk),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=w3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.operation=i.int32();continue;case 2:if(r!==16)break;o.newMfk=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function v3(){return{operation:void 0,newRacy:void 0}}s(v3,"createBaseMetadataUpdateRequest_MdeRacyRequestParams");var nC={encode(t,e=new N){return t.operation!==void 0&&e.uint32(8).int32(t.operation),t.newRacy!==void 0&&e.uint32(16).int32(t.newRacy),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=v3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.operation=i.int32();continue;case 2:if(r!==16)break;o.newRacy=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function T3(){return{newIsAgeRestricted:void 0}}s(T3,"createBaseMetadataUpdateRequest_MdeAgeRestrictionUpdateRequest");var oC={encode(t,e=new N){return t.newIsAgeRestricted!==void 0&&e.uint32(8).bool(t.newIsAgeRestricted),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=T3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.newIsAgeRestricted=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function k3(){return{operation:void 0,newStillId:void 0,image:void 0,testImage:void 0,experimentImage:[]}}s(k3,"createBaseMetadataUpdateRequest_MdeVideoStillRequestParams");var rC={encode(t,e=new N){t.operation!==void 0&&e.uint32(8).int32(t.operation),t.newStillId!==void 0&&e.uint32(16).int32(t.newStillId),t.image!==void 0&&zs.encode(t.image,e.uint32(26).fork()).join(),t.testImage!==void 0&&zs.encode(t.testImage,e.uint32(34).fork()).join();for(let i of t.experimentImage)sC.encode(i,e.uint32(50).fork()).join();return e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=k3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.operation=i.int32();continue;case 2:if(r!==16)break;o.newStillId=i.int32();continue;case 3:if(r!==26)break;o.image=zs.decode(i,i.uint32());continue;case 4:if(r!==34)break;o.testImage=zs.decode(i,i.uint32());continue;case 6:if(r!==50)break;o.experimentImage.push(sC.decode(i,i.uint32()));continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function I3(){return{image:void 0}}s(I3,"createBaseMetadataUpdateRequest_MdeVideoStillRequestParams_ThumbnailExperimentImageData");var sC={encode(t,e=new N){return t.image!==void 0&&zs.encode(t.image,e.uint32(10).fork()).join(),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=I3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.image=zs.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function S3(){return{rawBytes:void 0,dataUri:void 0,frameTimestampUs:void 0,isVertical:void 0}}s(S3,"createBaseMetadataUpdateRequest_MdeVideoStillRequestParams_CustomThumbnailImage");var zs={encode(t,e=new N){return t.rawBytes!==void 0&&e.uint32(10).bytes(t.rawBytes),t.dataUri!==void 0&&e.uint32(18).string(t.dataUri),t.frameTimestampUs!==void 0&&e.uint32(32).int64(t.frameTimestampUs),t.isVertical!==void 0&&e.uint32(40).bool(t.isVertical),e},decode(t,e){let i=t instanceof v?t:new v(t),n=e===void 0?i.len:i.pos+e,o=S3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.rawBytes=i.bytes();continue;case 2:if(r!==18)break;o.dataUri=i.string();continue;case 4:if(r!==32)break;o.frameTimestampUs=E3(i.int64());continue;case 5:if(r!==40)break;o.isVertical=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function E3(t){let e=globalThis.Number(t.toString());if(e>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(e<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return e}s(E3,"longToNumber");var s_,rt,cC,uC,lC,kw=class{constructor(e){s_.add(this),rt.set(this,void 0),k(this,rt,e,"f")}async updateVideoMetadata(e,i){var l;if(!p(this,rt,"f").logged_in)throw new _("You must be signed in to perform this operation.");let n={context:{client:{osName:"Android",clientName:parseInt($.CLIENTS.ANDROID.NAME_ID),clientVersion:$.CLIENTS.ANDROID.VERSION,androidSdkVersion:$.CLIENTS.ANDROID.SDK_VERSION,visitorData:p(this,rt,"f").context.client.visitorData,osVersion:"13",acceptLanguage:p(this,rt,"f").context.client.hl,acceptRegion:p(this,rt,"f").context.client.gl,deviceMake:"Google",deviceModel:"sdk_gphone64_x86_64",screenHeightPoints:840,screenWidthPoints:432,configInfo:{appInstallData:(l=p(this,rt,"f").context.client.configInfo)==null?void 0:l.appInstallData},timeZone:p(this,rt,"f").context.client.timeZone,chipset:"qcom;taro"},activePlayers:[]},encryptedVideoId:e};if(i.title&&(n.title={newTitle:i.title}),i.description&&(n.description={newDescription:i.description}),i.license&&(n.license={newLicenseId:i.license}),i.tags&&(n.tags={newTags:i.tags}),i.thumbnail&&(n.videoStill={operation:3,image:{rawBytes:i.thumbnail},experimentImage:[]}),Reflect.has(i,"category")&&(n.category={newCategoryId:i.category}),Reflect.has(i,"privacy"))switch(i.privacy){case"PUBLIC":n.privacy={newPrivacy:1};break;case"UNLISTED":n.privacy={newPrivacy:2};break;case"PRIVATE":n.privacy={newPrivacy:3};break;default:throw new Error("Invalid privacy setting")}Reflect.has(i,"made_for_kids")&&(n.madeForKids={operation:1,newMfk:i.made_for_kids?1:2}),Reflect.has(i,"age_restricted")&&(n.racy={operation:1,newRacy:i.age_restricted?1:2});let o=aC.encode(n);return await p(this,rt,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o.finish()})}async upload(e,i={}){if(!p(this,rt,"f").logged_in)throw new _("You must be signed in to perform this operation.");let n=await p(this,s_,"m",cC).call(this),o=await p(this,s_,"m",uC).call(this,n.upload_url,e);if(o.status!=="STATUS_SUCCESS")throw new _("Could not process video.");return await p(this,s_,"m",lC).call(this,n,o,i)}};s(kw,"Studio");rt=new WeakMap,s_=new WeakSet,cC=s(async function(){let e=`innertube_android:${V.shim.uuidv4()}:0:v=3,api=1,cf=3`,i={frontendUploadId:e,deviceDisplayName:"Pixel 6 Pro",fileId:`goog-edited-video://generated?videoFileUri=content://media/external/video/media/${V.shim.uuidv4()}`,mp4MoovAtomRelocationStatus:"UNSUPPORTED",transcodeResult:"DISABLED",connectionType:"WIFI"},n=await p(this,rt,"f").http.fetch("/upload/youtubei",{baseURL:$.URLS.YT_UPLOAD,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"start","x-goog-upload-protocol":"resumable"},body:JSON.stringify(i)});if(!n.ok)throw new _("Could not get initial upload data");return{frontend_upload_id:e,upload_id:n.headers.get("x-guploader-uploadid"),upload_url:n.headers.get("x-goog-upload-url"),scotty_resource_id:n.headers.get("x-goog-upload-header-scotty-resource-id"),chunk_granularity:n.headers.get("x-goog-upload-chunk-granularity")}},"_Studio_getInitialUploadData"),uC=s(async function(e,i){let n=await p(this,rt,"f").http.fetch_function(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"upload, finalize","x-goog-upload-file-name":`file-${Date.now()}`,"x-goog-upload-offset":"0"},body:i});if(!n.ok)throw new _("Could not upload video");return await n.json()},"_Studio_uploadVideo"),lC=s(async function(e,i,n){return await p(this,rt,"f").actions.execute(Vo.PATH,Vo.build({resource_id:{scotty_resource_id:{id:i.scottyResourceId}},frontend_upload_id:e.frontend_upload_id,initial_metadata:{title:{new_title:n.title||new Date().toDateString()},description:{new_description:n.description||"",should_segment:!0},privacy:{new_privacy:n.privacy||"PRIVATE"},draft_state:{is_draft:n.is_draft}},client:"ANDROID"}))},"_Studio_setVideoMetadata");var Iw=kw;var sT={};D(sT,{AccountManager:()=>Ew,InteractionManager:()=>Rw,PlaylistManager:()=>Nw});var st,Sw=class{constructor(e){st.set(this,void 0),k(this,st,e,"f"),this.channel={editName:i=>{if(!p(this,st,"f").session.logged_in)throw new _("You must be signed in to perform this operation.");return p(this,st,"f").execute(Ci.EditNameEndpoint.PATH,Ci.EditNameEndpoint.build({given_name:i}))},editDescription:i=>{if(!p(this,st,"f").session.logged_in)throw new _("You must be signed in to perform this operation.");return p(this,st,"f").execute(Ci.EditDescriptionEndpoint.PATH,Ci.EditDescriptionEndpoint.build({given_description:i}))},getBasicAnalytics:()=>this.getAnalytics()}}async getInfo(){if(!p(this,st,"f").session.logged_in)throw new _("You must be signed in to perform this operation.");let e=await p(this,st,"f").execute(Eo.AccountListEndpoint.PATH,Eo.AccountListEndpoint.build());return new eg(e)}async getTimeWatched(){let e=await p(this,st,"f").execute(O.PATH,O.build({browse_id:"SPtime_watched",client:"ANDROID"}));return new Sg(e)}async getSettings(){let e=await p(this,st,"f").execute(O.PATH,O.build({browse_id:"SPaccount_overview"}));return new kg(p(this,st,"f"),e)}async getAnalytics(){var r;let i=(r=(await p(this,st,"f").execute(O.PATH,{browseId:"SPaccount_advanced",parse:!0})).contents_memo)==null?void 0:r.getType(lr).find(l=>l.short_url.startsWith("UC"));if(!i||!i.short_url)throw new _("Channel ID not found");let n=encodeURIComponent(Ie(h0.encode({params:{channelId:i.short_url}}).finish())),o=await p(this,st,"f").execute(O.PATH,O.build({browse_id:"FEanalytics_screen",params:n}));return new ig(o)}};s(Sw,"AccountManager");st=new WeakMap;var Ew=Sw;var ve,Cw=class{constructor(e){ve.set(this,void 0),k(this,ve,e,"f")}async create(e,i){if(X({title:e,video_ids:i}),!p(this,ve,"f").session.logged_in)throw new _("You must be signed in to perform this operation.");let n=await p(this,ve,"f").execute(Lo.PATH,Lo.build({ids:i,title:e}));return{success:n.success,status_code:n.status_code,playlist_id:n.data.playlistId,data:n.data}}async delete(e){if(X({playlist_id:e}),!p(this,ve,"f").session.logged_in)throw new _("You must be signed in to perform this operation.");let i=await p(this,ve,"f").execute(Oo.PATH,Oo.build({playlist_id:e}));return{playlist_id:e,success:i.success,status_code:i.status_code,data:i.data}}async addVideos(e,i){if(X({playlist_id:e,video_ids:i}),!p(this,ve,"f").session.logged_in)throw new _("You must be signed in to perform this operation.");let n=await p(this,ve,"f").execute(ze.PATH,ze.build({actions:i.map(o=>({action:"ACTION_ADD_VIDEO",added_video_id:o})),playlist_id:e}));return{playlist_id:e,action_result:n.data.actions}}async removeVideos(e,i,n=!1){if(X({playlist_id:e,video_ids:i}),!p(this,ve,"f").session.logged_in)throw new _("You must be signed in to perform this operation.");let o=await p(this,ve,"f").execute(O.PATH,{...O.build({browse_id:`VL${e}`}),parse:!0}),r=new ki(p(this,ve,"f"),o,!0);if(!r.info.is_editable)throw new _("This playlist cannot be edited.",e);let l={playlist_id:e,actions:[]},f=s(async x=>{let b=n?"set_video_id":"id";if(x.videos.filter(w=>i.includes(w.key(b).string())).forEach(w=>l.actions.push({action:"ACTION_REMOVE_VIDEO",set_video_id:w.key("set_video_id").string()})),l.actions.length<i.length){let w=await x.getContinuation();return f(w)}},"getSetVideoIds");if(await f(r),!l.actions.length)throw new _("Given video ids were not found in this playlist.",i);let d=await p(this,ve,"f").execute(ze.PATH,ze.build(l));return{playlist_id:e,action_result:d.data.actions}}async moveVideo(e,i,n){if(X({playlist_id:e,moved_video_id:i,predecessor_video_id:n}),!p(this,ve,"f").session.logged_in)throw new _("You must be signed in to perform this operation.");let o=await p(this,ve,"f").execute(O.PATH,{...O.build({browse_id:`VL${e}`}),parse:!0}),r=new ki(p(this,ve,"f"),o,!0);if(!r.info.is_editable)throw new _("This playlist cannot be edited.",e);let l={playlist_id:e,actions:[]},f,d,x=s(async g=>{let w=g.videos.find(S=>i===S.key("id").string()),T=g.videos.find(S=>n===S.key("id").string());if(f=f||(w==null?void 0:w.key("set_video_id").string()),d=d||(T==null?void 0:T.key("set_video_id").string()),!f||!d){let S=await g.getContinuation();return x(S)}},"getSetVideoIds");await x(r),l.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",set_video_id:f,moved_set_video_id_predecessor:d});let b=await p(this,ve,"f").execute(ze.PATH,ze.build(l));return{playlist_id:e,action_result:b.data.actions}}async setName(e,i){if(X({playlist_id:e,name:i}),!p(this,ve,"f").session.logged_in)throw new _("You must be signed in to perform this operation.");let n={playlist_id:e,actions:[]};n.actions.push({action:"ACTION_SET_PLAYLIST_NAME",playlist_name:i});let o=await p(this,ve,"f").execute(ze.PATH,ze.build(n));return{playlist_id:e,action_result:o.data.actions}}async setDescription(e,i){if(X({playlist_id:e,description:i}),!p(this,ve,"f").session.logged_in)throw new _("You must be signed in to perform this operation.");let n={playlist_id:e,actions:[]};n.actions.push({action:"ACTION_SET_PLAYLIST_DESCRIPTION",playlist_description:i});let o=await p(this,ve,"f").execute(ze.PATH,ze.build(n));return{playlist_id:e,action_result:o.data.actions}}};s(Cw,"PlaylistManager");ve=new WeakMap;var Nw=Cw;var De,Pw=class{constructor(e){De.set(this,void 0),k(this,De,e,"f")}async like(e){if(X({video_id:e}),!p(this,De,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return await p(this,De,"f").execute(Po.PATH,Po.build({target:{video_id:e}}))}async dislike(e){if(X({video_id:e}),!p(this,De,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return await p(this,De,"f").execute(Ro.PATH,Ro.build({target:{video_id:e}}))}async removeRating(e){if(X({video_id:e}),!p(this,De,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return await p(this,De,"f").execute(Ao.PATH,Ao.build({target:{video_id:e}}))}async subscribe(e){if(X({channel_id:e}),!p(this,De,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return await p(this,De,"f").execute(Bo.PATH,Bo.build({channel_ids:[e],params:"EgIIAhgA"}))}async unsubscribe(e){if(X({channel_id:e}),!p(this,De,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return await p(this,De,"f").execute(Uo.PATH,Uo.build({channel_ids:[e],params:"CgIIAhgA"}))}async comment(e,i){if(X({video_id:e,text:i}),!p(this,De,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");let n=x0.encode({videoId:e,params:{index:0},number:7}),o=encodeURIComponent(Ie(n.finish()));return await p(this,De,"f").execute(No.PATH,No.build({comment_text:i,create_comment_params:o}))}async translate(e,i,n={}){X({text:e,target_language:i});let o=Fn(22,{text:e,target_language:i,...n}),r=await p(this,De,"f").execute(Co.PATH,Co.build({actions:[o]})),l=r.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload;return{success:r.success,status_code:r.status_code,translated_content:l.translatedContent.content,data:r.data}}async setNotificationPreferences(e,i){if(X({channel_id:e,type:i}),!p(this,De,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");let n={PERSONALIZED:1,ALL:2,NONE:3};if(!Object.keys(n).includes(i.toUpperCase()))throw new Error(`Invalid notification preference type: ${i}`);let o=m0.encode({channelId:e,prefId:{index:n[i.toUpperCase()]},number0:0,number1:4}),r=encodeURIComponent(Ie(o.finish()));return await p(this,De,"f").execute(Do.PATH,Do.build({client:"WEB",params:r}))}};s(Pw,"InteractionManager");De=new WeakMap;var Rw=Pw;var Ee,Js=class{constructor(e){Ee.set(this,void 0),k(this,Ee,e,"f")}static async create(e={}){return new Js(await Zv.create(e))}async getInfo(e,i){var x,b,g,w,T;X({target:e});let n;if(e instanceof m)n=be.build({video_id:(x=e.payload)==null?void 0:x.videoId,playlist_id:(b=e.payload)==null?void 0:b.playlistId,params:(g=e.payload)==null?void 0:g.params,playlist_index:(w=e.payload)==null?void 0:w.index});else if(typeof e=="string")n=be.build({video_id:e});else throw new _("Invalid target. Expected a video id or NavigationEndpoint.",e);if(!n.videoId)throw new _("Video id cannot be empty",n);let o=qe.build({video_id:n.videoId,playlist_id:n==null?void 0:n.playlistId,client:i,sts:(T=p(this,Ee,"f").player)==null?void 0:T.sts,po_token:p(this,Ee,"f").po_token}),r=this.actions.execute(qe.PATH,o),l=this.actions.execute(be.PATH,n),f=await Promise.all([r,l]),d=dt(16);return new Bm(f,this.actions,d)}async getBasicInfo(e,i){var r;X({video_id:e});let n=await this.actions.execute(qe.PATH,qe.build({video_id:e,client:i,sts:(r=p(this,Ee,"f").player)==null?void 0:r.sts,po_token:p(this,Ee,"f").po_token})),o=dt(16);return new Bm([n],this.actions,o)}async getShortsVideoInfo(e,i){X({video_id:e});let n=this.actions.execute(wt.ReelItemWatchEndpoint.PATH,wt.ReelItemWatchEndpoint.build({video_id:e,client:i})),o=w0.encode({shortId:e,params:{number:5},feature2:25,feature3:0}),r=encodeURIComponent(Ie(o.finish())),l=this.actions.execute(wt.ReelWatchSequenceEndpoint.PATH,wt.ReelWatchSequenceEndpoint.build({sequence_params:r})),f=await Promise.all([n,l]),d=dt(16);return new tw([f[0]],this.actions,d,f[1])}async search(e,i={}){X({query:e});let n={};if(n.filters={},i.sort_by&&(n.sortBy=__[i.sort_by.toUpperCase()]),i.upload_date&&(n.filters.uploadDate=b_[i.upload_date.toUpperCase()]),i.type&&(n.filters.type=x_[i.type.toUpperCase()]),i.duration&&(n.filters.duration=y_[i.duration.toUpperCase()]),i.features)for(let r of i.features)switch(r){case"360":n.filters.features360=!0;break;case"3d":n.filters.features3d=!0;break;case"4k":n.filters.features4k=!0;break;case"creative_commons":n.filters.featuresCreativeCommons=!0;break;case"hd":n.filters.featuresHd=!0;break;case"hdr":n.filters.featuresHdr=!0;break;case"live":n.filters.featuresLive=!0;break;case"location":n.filters.featuresLocation=!0;break;case"purchased":n.filters.featuresPurchased=!0;break;case"subtitles":n.filters.featuresSubtitles=!0;break;case"vr180":n.filters.featuresVr180=!0;break;default:break}let o=await this.actions.execute(ft.PATH,ft.build({query:e,params:i?encodeURIComponent(Ie(g_.encode(n).finish())):void 0}));return new Ft(this.actions,o)}async getSearchSuggestions(e){X({query:e});let i=new URL(`${Be.YT_SUGGESTIONS}search`);i.searchParams.set("q",e),i.searchParams.set("hl",p(this,Ee,"f").context.client.hl),i.searchParams.set("gl",p(this,Ee,"f").context.client.gl),i.searchParams.set("ds","yt"),i.searchParams.set("client","youtube"),i.searchParams.set("xssi","t"),i.searchParams.set("oe","UTF");let o=await(await p(this,Ee,"f").http.fetch(i)).text();return JSON.parse(o.replace(")]}'",""))[1].map(f=>f[0])}async getComments(e,i,n){X({video_id:e});let o={TOP_COMMENTS:0,NEWEST_FIRST:1},r=b0.encode({ctx:{videoId:e},unkParam:6,params:{opts:{videoId:e,sortBy:o[i||"TOP_COMMENTS"],type:2,commentId:n||""},target:"comments-section"}}),l=encodeURIComponent(Ie(r.finish())),f=await this.actions.execute(be.PATH,be.build({continuation:l}));return new sg(this.actions,f.data)}async getHomeFeed(){let e=await this.actions.execute(O.PATH,O.build({browse_id:"FEwhat_to_watch"}));return new Vt(this.actions,e)}async getGuide(){let e=await this.actions.execute(cs.PATH);return new cg(e.data)}async getLibrary(){let e=await this.actions.execute(O.PATH,O.build({browse_id:"FElibrary"}));return new mg(this.actions,e)}async getHistory(){let e=await this.actions.execute(O.PATH,O.build({browse_id:"FEhistory"}));return new yt(this.actions,e)}async getTrending(){let e=await this.actions.execute(O.PATH,{...O.build({browse_id:"FEtrending"}),parse:!0});return new ao(this.actions,e)}async getSubscriptionsFeed(){let e=await this.actions.execute(O.PATH,{...O.build({browse_id:"FEsubscriptions"}),parse:!0});return new ae(this.actions,e)}async getChannelsFeed(){let e=await this.actions.execute(O.PATH,{...O.build({browse_id:"FEchannels"}),parse:!0});return new ae(this.actions,e)}async getChannel(e){X({id:e});let i=await this.actions.execute(O.PATH,O.build({browse_id:e}));return new Te(this.actions,i)}async getNotifications(){let e=await this.actions.execute(Io.PATH,Io.build({notifications_menu_request_type:"NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX"}));return new Tg(this.actions,e)}async getUnseenNotificationsCount(){var i,n,o,r;let e=await this.actions.execute(us.GetUnseenCountEndpoint.PATH);return((i=e.data)==null?void 0:i.unseenCount)||((r=(o=(n=e.data)==null?void 0:n.actions)==null?void 0:o[0].updateNotificationsUnseenCountAction)==null?void 0:r.unseenCount)||0}async getPlaylists(){let e=await this.actions.execute(O.PATH,{...O.build({browse_id:"FEplaylist_aggregation"}),parse:!0});return new ae(this.actions,e)}async getPlaylist(e){X({id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=await this.actions.execute(O.PATH,O.build({browse_id:e}));return new ki(this.actions,i)}async getHashtag(e){X({hashtag:e});let i=g0.encode({params:{hashtag:e,type:1}}),n=encodeURIComponent(Ie(i.finish())),o=await this.actions.execute(O.PATH,O.build({browse_id:"FEhashtag",params:n}));return new ai(this.actions,o)}async getStreamingData(e,i={}){let o=(await this.getBasicInfo(e)).chooseFormat(i);return o.url=o.decipher(p(this,Ee,"f").player),o}async download(e,i){return(await this.getBasicInfo(e,i==null?void 0:i.client)).download(i)}async resolveURL(e){let i=await this.actions.execute(So.PATH,{...So.build({url:e}),parse:!0});if(!i.endpoint)throw new _("Failed to resolve URL. Expected a NavigationEndpoint but got undefined",i);return i.endpoint}call(e,i){return e.call(this.actions,i)}get music(){return new ww(p(this,Ee,"f"))}get studio(){return new Iw(p(this,Ee,"f"))}get kids(){return new xw(p(this,Ee,"f"))}get account(){return new Ew(p(this,Ee,"f").actions)}get playlist(){return new Nw(p(this,Ee,"f").actions)}get interact(){return new Rw(p(this,Ee,"f").actions)}get actions(){return p(this,Ee,"f").actions}get session(){return p(this,Ee,"f")}};s(Js,"Innertube");Ee=new WeakMap;var aT=Js;var pC={};var fC=aT;var dC="JsRuntime";function cT(t,e){L.debug(dC,`Evaluating JavaScript:
`,t);let i=new Li;for(let[o,r]of Object.entries(e))i.scope.set(o,r);let n=i.evaluate(t);return L.debug(dC,"Done. Result:",n),n}s(cT,"evaluate");var a_,uT,Aw,Mw,Dw,Lw=class{constructor(e=!1,i){a_.add(this),uT.set(this,"Cache"),Aw.set(this,void 0),Mw.set(this,void 0),k(this,Aw,i||"","f"),k(this,Mw,e,"f")}get cache_dir(){return p(this,Mw,"f")?p(this,Aw,"f"):""}async get(e){let i=await p(this,a_,"m",Dw).call(this);if(!!i)return new Promise((n,o)=>{let r=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);r.onerror=o,r.onsuccess=function(){var f;let l=(f=this.result)==null?void 0:f.v;l instanceof ArrayBuffer?n(l):ArrayBuffer.isView(l)?n(l.buffer):n(void 0)}})}async set(e,i){let n=await p(this,a_,"m",Dw).call(this);if(!!n)return new Promise((o,r)=>{let l=n.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});l.onerror=r,l.onsuccess=()=>o()})}async remove(e){let i=await p(this,a_,"m",Dw).call(this);if(!!i)return new Promise((n,o)=>{let r=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);r.onerror=o,r.onsuccess=()=>n()})}};s(Lw,"Cache");uT=new WeakMap,Aw=new WeakMap,Mw=new WeakMap,a_=new WeakSet,Dw=s(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,n)=>{let o=e.open("youtubei.js",1);o.onsuccess=function(){i(this.result)},o.onerror=function(r){n("indexedDB request error"),console.error(r)},o.onupgradeneeded=function(){let r=this.result.createObjectStore("kv-store",{keyPath:"k"});r.transaction.oncomplete=function(){i(this.db)}}}):L.warn(p(this,uT,"f"),"IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");V.load({runtime:"browser",server:!1,info:{version:hw.version,bugs_url:hw.bugs.url,repo_url:hw.homepage.split("#")[0]},Cache:Lw,sha1Hash:qv,uuidv4(){var t;return(t=globalThis.crypto)!=null&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},eval:cT,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var Z1e=fC;export{KS as APIResponseTypes,Jv as Actions,jn as AppendContinuationItemsAction,Xv as ClientType,rT as Clients,$ as Constants,no as Continuation,Ti as ContinuationCommand,kv as Endpoints,Xs as EventEmitter,Vn as FormatUtils,uv as Generator,hn as GridContinuation,Fw as HTTPClient,Uw as Helpers,aT as Innertube,ln as ItemSectionContinuation,At as LZW,mn as LiveChatContinuation,L as Log,sT as Managers,Sv as Misc,bv as Mixins,dn as MusicPlaylistShelfContinuation,ti as MusicShelfContinuation,pn as NavigateAction,zv as OAuth2,u as Parser,V as Platform,ot as Player,Or as PlaylistPanelContinuation,yi as ProtoUtils,fn as ReloadContinuationItemsCommand,et as SectionListContinuation,Zv as Session,Lr as ShowMiniplayerCommand,pC as Types,bC as UniversalCache,Qw as Utils,gv as YT,Tv as YTKids,vv as YTMusic,Zn as YTNodes,Iv as YTShorts,Z1e as default};
